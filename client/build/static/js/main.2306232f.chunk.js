(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(22),o=a.n(r),i=a(9),s=a(38);function c(e,t){return{type:"LOG_IN",name:e,uid:t}}function u(){return{type:"LOG_OUT"}}function m(e){return{type:"SAVE_ATT",att:e}}var p={loggedInUser:"guest",loggedInUserId:0,saveAttempt:!1,cartUpdate:!1,page:1};var d=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"LOG_IN":return{loggedInUser:e.name,loggedInUserId:e.uid};case"LOG_OUT":return{loggedInUser:"guest",loggedInUserId:0};case"SAVE_ATT":return{saveAttempt:e.att};default:return p}},h=Object(s.b)(d,void 0,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());a(84),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var g=a(3),b=a(4),E=a(6),v=a(5),f=a(26),k=a(2),y=a(11),I=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.removeFromCart=function(e,t){for(var a=JSON.parse(window.localStorage.getItem(e.userId)),n=0;n<a.length;n++){for(var l=0,r=0;r<t.length;r++)a[n]===t[r].ad_id.toString()&&(l=1);0===l&&(a.splice(a.indexOf(a[n]),1),window.localStorage.setItem(e.userId,JSON.stringify(a)))}},n.deleteFromStorage=function(e){fetch("/api/sessionroutes",{signal:n.abortController.signal}).then((function(e){return e.json()})).then((function(t){n.removeFromCart(t,e)})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.goHome=function(){window.location.href="/"},n.state={cartNum:0,unreadMsg:0},n.handleClickLogOut=n.handleClickLogOut.bind(Object(y.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/sessionroutes",{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(t){if("0"!==t.userId){e.props.logIn(t.loggedInUser,t.userId);var a=JSON.parse(window.localStorage.getItem(t.userId));a&&a.length&&fetch("/api/cartListings",{signal:e.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){e.setState({cartNum:t.length},(function(){t.length!==a.length&&e.deleteFromStorage(t)}))})).catch((function(e){return console.error("Critical failure: "+e.message)})),fetch("/api/fetchallunread",{signal:e.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){return e.setState({unreadMsg:t})})).catch((function(e){return console.error("Critical failure: "+e.message)}))}})).catch((function(e){return console.error("Critical failure: "+e.message)}))}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"handleClickLogOut",value:function(){var e=this;window.location.href="/",fetch("/api/loginroutes",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({type:"logout"})}).then((function(e){return e.json()})).then((function(t){return e.props.logIn(t.loggedInUser,t.userId)})).then((function(){return e.goHome()})).catch((function(e){return console.error("Critical failure: "+e.message)}))}},{key:"render",value:function(){var e=this.state.cartNum;this.props.updated&&(e+=this.props.updated);var t=this.state.unreadMsg,a={textDecoration:"none",color:"black"};return l.a.createElement("div",{className:"Upper-line"},"guest"===this.props.loggedInUser?l.a.createElement("button",{className:"btn"},l.a.createElement(k.b,{exact:!0,to:"/login_page",className:"first",style:a,activeStyle:{fontWeight:"bold"}},"PRIJAVA")):l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{style:{color:"white",textShadow:"1px 1px black",backgroundColor:"rgb(255, 255, 255, 0)",padding:0,border:"none"}},"\u017divjo ",this.props.loggedInUser,"! "),l.a.createElement("button",{style:{color:"white",textShadow:"1px 1px black",backgroundColor:"rgb(255, 255, 255, 0)",paddinRight:10,border:"none",textDecoration:"underline",cursor:"pointer"},onClick:this.handleClickLogOut}," (odjava)"),l.a.createElement(k.b,{exact:!0,to:"/user_listings",className:["btn","first"].join(" "),style:a,activeStyle:{fontWeight:"bold"}},"MOJA STRAN"),l.a.createElement(k.b,{exact:!0,to:"/chatpage",className:["btn","first"].join(" "),style:a,activeStyle:{fontWeight:"bold"}},t?"SPORO\u010cILA ("+t+")":"SPORO\u010cILA"),l.a.createElement(k.b,{exact:!0,to:"/shoppingcart",className:["btn","first"].join(" "),style:a,activeStyle:{fontWeight:"bold"}},e?"KO\u0160ARICA ("+e+")":"KO\u0160ARICA")))}}]),a}(l.a.Component),C={logIn:c,logOut:u},S=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}),C)(I),O=a(68),j=a.n(O),A=(a(10),function(){return l.a.createElement("header",{className:"App-header"},l.a.createElement(k.b,{exact:!0,to:"/"},l.a.createElement("img",{src:j.a,alt:"logo",width:"300px"})))}),N=a(69),w=["category","women","men","kids","clothsize","material","condition"],P=[{value:"",label:"Izberi kategorijo"},{value:"dresses",label:"Obleke"},{value:"specdresses",label:"Obleke za posebne prilo\u017enosti"},{value:"tops",label:"Majice in topi"},{value:"topsls",label:"Majice z dolgimi rokavi"},{value:"shirts",label:"Srajce in bluze"},{value:"sweaters",label:"Puloverji"},{value:"cardigans",label:"Jopice"},{value:"jackets",label:"Jakne in pla\u0161\u010di"},{value:"trousers",label:"Hla\u010de"},{value:"jeans",label:"Kavbojke"},{value:"shorts",label:"Kratke hla\u010de"},{value:"skirts",label:"Krila"},{value:"tracksuits",label:"Trenirke"},{value:"nightwear",label:"Obla\u010dila za spanje"},{value:"sportswear",label:"\u0160portna obla\u010dila"},{value:"underwear",label:"Spodnje perilo"},{value:"swimsuits",label:"Kopalke"},{value:"sets",label:"Kompleti"},{value:"socks",label:"Nogavice in hla\u010dne nogavice"},{value:"maternitywear",label:"Obla\u010dila za nose\u010dnice"},{value:"shoes",label:"Obutev"},{value:"accessories",label:"Dodatki"}],x=[{value:"",label:"Izberi kategorijo"},{value:"suits",label:"Obleke"},{value:"specdresses",label:"Obleke za posebne prilo\u017enosti"},{value:"sets",label:"Kompleti"},{value:"tops",label:"Majice"},{value:"shirts",label:"Srajce"},{value:"sweaters",label:"Puloverji"},{value:"cardigans",label:"Jopice"},{value:"jackets",label:"Jakne in pla\u0161\u010di"},{value:"trousers",label:"Hla\u010de"},{value:"jeans",label:"Kavbojke"},{value:"shorts",label:"Kratke hla\u010de"},{value:"tracksuits",label:"Trenirke"},{value:"nightwear",label:"Obla\u010dila za spanje"},{value:"sportswear",label:"\u0160portna obla\u010dila"},{value:"underwear",label:"Spodnje perilo"},{value:"swimshorts",label:"Kopalke"},{value:"socks",label:"Nogavice"},{value:"shoes",label:"Obutev"},{value:"accessories",label:"Dodatki"}],T=[{value:"",label:"Izberi kategorijo"},{value:"9m",label:"0 do 9 mesecev"},{value:"2y",label:"1 do 2 leti"},{value:"g6y",label:"Deklice 3 do 6 let"},{value:"b6y",label:"De\u010dki 3 do 6 let"},{value:"g10y",label:"Deklice 7 do 10 let"},{value:"b10y",label:"De\u010dki 7 do 10 let"},{value:"g16y",label:"Deklice 11 do 16 let"},{value:"b16y",label:"De\u010dki 11 do 16 let"}],R=[{value:"",label:"Izberi kategorijo"},{value:"women",label:"\u017denske"},{value:"men",label:"Mo\u0161ki"},{value:"kids",label:"Otroci"}],U=[{value:"",label:"Izberi material"},{value:"cotton",label:"Bomba\u017e"},{value:"lan",label:"Lan"},{value:"polyester",label:"Poliester"},{value:"viscose",label:"Viskoza"},{value:"lycra",label:"Lycra"},{value:"polyamid",label:"Poliamid"},{value:"other",label:"Drugo"}],_=[{value:"",label:"Izberi velikost"},{value:"XS",label:"XS (\u017eenska 32,34 mo\u0161ka 40,42)"},{value:"S",label:"S (\u017eenska 36,38 mo\u0161ka 44,46)"},{value:"M",label:"M (\u017eenska 40,42 mo\u0161ka 48,50)"},{value:"L",label:"L (\u017eenska 44,46 mo\u0161ka 52,54)"},{value:"XL",label:"XL (\u017eenska 48,50 mo\u0161ka 56,58)"}],D=[{value:"",label:"Izberi stanje"},{value:"1",label:"Novo, nikoli no\u0161eno"},{value:"2",label:"Do trikrat no\u0161eno"},{value:"3",label:"Malo no\u0161eno"},{value:"4",label:"Veliko no\u0161eno ali starej\u0161e"}],M=[{value:"Home",label:"domov"},{value:"user_listings",label:"moji oglasi"},{value:"user_pastorders",label:"moja naro\u010dila"},{value:"user_sold",label:"prodano"},{value:"user_profile",label:"profil"},{value:"signUp_page",label:"registracija"},{value:"login_page",label:"prijava"},{value:"contentsupport",label:"vsebinska pomo\u010d"},{value:"technicalsupport",label:"tehni\u010dna pomo\u010d"},{value:"idcard",label:"vizitka"},{value:"advertising",label:"ogla\u0161evanje"},{value:"privacy",label:"politika zasebnosti"},{value:"cookies",label:"pi\u0161kotki"},{value:"buying",label:"nakupovanje"},{value:"selling",label:"prodaja"},{value:"posting",label:"po\u0161iljanje"},{value:"protection",label:"za\u0161\u010dita"},{value:"commission",label:"provizija"},{value:"searchresults",label:"rezultati iskanja"},{value:"upload",label:"objavi oglas"},{value:"item",label:"izdelek"},{value:"edit",label:"uredi_oglas"},{value:"shoppingcart",label:"ko\u0161arica"},{value:"placeorder",label:"oddaj naro\u010dilo"},{value:"chatpage",label:"po\u0161ta"},{value:"conversation",label:"pogovor"},{value:"all",label:"vse"},{value:"forgotpassword",label:"pozabljeno geslo"},{value:"requestconfirmemail",label:"ponovno po\u0161lji"},{value:"listings",label:"oglasi"},{value:"sellerlistings",label:"vsi oglasi prodajalca"},{value:"women",label:"\u017eenske"},{value:"men",label:"mo\u0161ki"},{value:"kids",label:"otroci"},{value:"dresses",label:"obleke"},{value:"specdresses",label:"obleke za posebne prilo\u017enosti"},{value:"tops",label:"majice in topi"},{value:"topsls",label:"majice z dolgimi rokavi"},{value:"shirts",label:"srajce in bluze"},{value:"sweaters",label:"puloverji"},{value:"cardigans",label:"Jopice"},{value:"jackets",label:"jakne in pla\u0161\u010di"},{value:"trousers",label:"hla\u010de"},{value:"jeans",label:"kavbojke"},{value:"shorts",label:"kratke hla\u010de"},{value:"skirts",label:"krila"},{value:"tracksuits",label:"trenirke"},{value:"nightwear",label:"obla\u010dila za spanje"},{value:"sportswear",label:"\u0161portna obla\u010dila"},{value:"underwear",label:"spodnje perilo"},{value:"swimsuits",label:"kopalke"},{value:"sets",label:"kompleti"},{value:"socks",label:"nogavice in hla\u010dne nogavice"},{value:"maternitywear",label:"obla\u010dila za nose\u010dnice"},{value:"shoes",label:"obutev"},{value:"accessories",label:"dodatki"},{value:"swimshorts",label:"kopalke"},{value:"9m",label:"0 do 9 mesecev"},{value:"2y",label:"1 do 2 leti"},{value:"g6y",label:"deklice 3 do 6 let"},{value:"b6y",label:"de\u010dki 3 do 6 let"},{value:"g10y",label:"deklice 7 do 10 let"},{value:"b10y",label:"de\u010dki 7 do 10 let"},{value:"g16y",label:"deklice 11 do 16 let"},{value:"b16y",label:"de\u010dki 11 do 16 let"}],L=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).womanPaths=function(){return P.slice(1).map((function(e){return l.a.createElement("li",{key:e.value},l.a.createElement(k.b,{to:"/listings/women/"+e.value},e.label))}))},n.manPaths=function(){return x.slice(1).map((function(e){return l.a.createElement("li",{key:e.value},l.a.createElement(k.b,{to:"/listings/men/"+e.value},e.label))}))},n.kidPaths=function(){return T.slice(1).map((function(e){return l.a.createElement("li",{key:e.value},l.a.createElement(k.b,{to:"/listings/kids/"+e.value},e.label))}))},n.onSearchChange=function(e){n.setState({searchFor:e.target.value})},n.onSearchClick=function(){window.location.href.includes("searchresults")?(n.props.callBackParent(n.state.searchFor),window.location.href="?".concat(n.state.searchFor)):window.location.href="/searchresults?".concat(n.state.searchFor)},n.handleKeyDown=function(e){"Enter"===e.key&&n.onSearchClick()},n.state={searchFor:""},n}return Object(b.a)(a,[{key:"render",value:function(){return l.a.createElement("nav",{id:"nav"},l.a.createElement("ul",{id:"navigation"},l.a.createElement("li",null,l.a.createElement(k.b,{exact:!0,to:"/",className:"first",activeStyle:{background:"#525050"}},"DOMOV")),l.a.createElement("li",null,l.a.createElement(k.b,{to:"/listings/women",activeStyle:{background:"#525050"}},"\u017dENSKE"),l.a.createElement("ul",null,this.womanPaths())),l.a.createElement("li",null,l.a.createElement(k.b,{to:"/listings/men",activeStyle:{background:"#525050"}},"MO\u0160KI"),l.a.createElement("ul",null,this.manPaths())),l.a.createElement("li",null,l.a.createElement(k.b,{to:"/listings/kids",activeStyle:{background:"#525050"}},"OTROCI"),l.a.createElement("ul",null,this.kidPaths())),l.a.createElement("li",null,l.a.createElement("input",{style:{width:"200px",height:"100%",border:"none",backgroundColor:"rgb(255, 255, 255, 0)",borderRadius:"0",margin:"0px",display:"inline-block"},type:"text",name:"search",value:this.state.searchFor,placeholder:"I\u0161\u010di ...",onChange:this.onSearchChange,onKeyDown:this.handleKeyDown})),l.a.createElement(k.b,{exact:!0,to:"/searchresults?"+this.state.searchFor,style:{color:"black",height:"100%",minWidth:"50px",backgroundColor:"rgb(255, 255, 255, 0)",borderRadius:"0",margin:"0px",padding:"0px",verticalAlign:"middle",border:"none",cursor:"pointer"},onClick:this.onSearchClick},l.a.createElement(N.a,{size:"2em"}))))}}]),a}(l.a.Component),z=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).handleClick=function(t){return e.props.callBack(t.target.id)},e}return Object(b.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"sidenav"},l.a.createElement(k.b,{id:"listings",exact:!0,to:"/user_listings",className:"nonActive",activeStyle:{color:"white"}},"MOJI OGLASI"),l.a.createElement(k.b,{id:"pastorders",exact:!0,to:"/user_pastorders",className:"nonActive",activeStyle:{color:"white"}},"MOJA NARO\u010cILA"),l.a.createElement(k.b,{id:"sold",exact:!0,to:"/user_sold",className:"nonActive",activeStyle:{color:"white"}},"PRODANO"),l.a.createElement(k.b,{id:"wallet",exact:!0,to:"/user_wallet",className:"nonActive",activeStyle:{color:"white"}},"MOJA DENARNICA"),l.a.createElement(k.b,{id:"profile",exact:!0,to:"/user_profile",className:"nonActive",activeStyle:{color:"white"}},"PROFIL"))}}]),a}(l.a.Component),J=function(){return l.a.createElement("div",{className:"ContactDiv-container"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("ul",null,l.a.createElement("li",{style:{textDecoration:"underline"}},"KUPI/PRODAJ"),l.a.createElement("li",null,l.a.createElement(k.b,{exact:!0,to:"/buying",className:"Link"},"Nakupovanje")),l.a.createElement("li",null,l.a.createElement(k.b,{exact:!0,to:"/selling",className:"Link"},"Prodaja")),l.a.createElement("li",null,l.a.createElement(k.b,{exact:!0,to:"/posting",className:"Link"},"Po\u0161iljanje")),l.a.createElement("li",null,l.a.createElement(k.b,{exact:!0,to:"/commission",className:"Link"},"Provizija")))),l.a.createElement("li",null,l.a.createElement("ul",null,l.a.createElement("li",{style:{textDecoration:"underline"}},"O NOVOMODEN.SI"),l.a.createElement("li",null,l.a.createElement(k.b,{exact:!0,to:"/idcard",className:"Link"},"Vizitka")),l.a.createElement("li",null,l.a.createElement(k.b,{exact:!0,to:"/advertising",className:"Link"},"Ogla\u0161evanje")),l.a.createElement("li",null,l.a.createElement(k.b,{exact:!0,to:"/privacy",className:"Link"},"Politika zasebnosti")),l.a.createElement("li",null,l.a.createElement(k.b,{exact:!0,to:"/cookies",className:"Link"},"Pi\u0161kotki")))),l.a.createElement("li",null,l.a.createElement("ul",null,l.a.createElement("li",{style:{textDecoration:"underline"}},"PODPORA"),l.a.createElement("li",null,l.a.createElement(k.b,{exact:!0,to:"/contentsupport",className:"Link"},"Vsebinska podpora")),l.a.createElement("li",null,l.a.createElement(k.b,{exact:!0,to:"/technicalsupport",className:"Link"},"Tehni\u010dna podpora"))))))},B=function(e){for(var t="",a=0;a<M.length;a++)e===M[a].value&&(t=M[a].label),e.includes("conversation?")&&(t="pogovor"),e.includes("all?")&&(t="vse");return t},V=function(e){for(var t=e.pathname.substr(1).split("/"),a=new Array(t.length).fill(""),n=0;n<t.length;n++)for(var r=0;r<=n;r++)a[n]+="/"+t[r];var o=a.length;return l.a.createElement("div",{style:{textAlign:"left",padding:"20px",color:"white",textShadow:"1px 1px black"}},l.a.createElement(k.b,{to:"/",style:{color:"white",textShadow:"1px 1px black",textDecoration:"none"}},"domov"),a.map((function(e,a){return a!==o-1?l.a.createElement(k.b,{key:a,to:e,style:{color:"white",textShadow:"1px 1px black",textDecoration:"none"}}," > ",B(t[a])):null})),"> ",B(t[o-1]))},K=function(){return l.a.createElement("div",{className:"Ad-space"})},W=a(16),G=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.handleDeleteRequest=function(e){n.setState({tryingToDelete:e})},n.handleDelete=function(e){fetch("/api/deleteListing",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({adId:e})}).then((function(e){return e.json()})).then((function(e){return e.success&&n.setState({tryingToDelete:-1})})).then((function(){return n.displayPhotos(n.props.loggedInUserId)})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.cancelDelete=function(){n.setState({tryingToDelete:-1})},n.paginationButtonClick=function(e){var t=1;switch(e.target.id){case"first":n.setState({page:1});break;case"previous":t=n.state.page>1?n.state.page-1:1,n.setState({page:t});break;case"next":t=n.state.page<n.state.numPages?n.state.page+1:n.state.numPages,n.setState({page:t});break;case"last":n.setState({page:n.state.numPages});break;default:return null}},n.renderListings=function(){var e,t={height:"290px",verticalAlign:"middle",marginRight:"20px",border:"2px solid rgb(255, 255, 255, 0.5)"},a={color:"black",textDecoration:"underline",fontWeight:"500"},r=n.state.listings.length,o=n.state.adsPerPage,i=n.state.page-1;e=i*o+o<r?(i+1)*o:r;var s=n.state.listings.slice(i*o,e);return l.a.createElement("div",null,l.a.createElement("div",{style:{width:"100%",verticalAlign:"top",textAlign:"right"}},l.a.createElement(k.b,{exact:!0,to:"/upload",className:"btn"},l.a.createElement("b",null,"+ OBJAVI NOV OGLAS"))),l.a.createElement("div",{className:"listingWrapper"},s.map((function(e){var r=R[e.category].value,o="";switch(r){case"women":o=P[e.subcategory].value;break;case"men":o=x[e.subcategory].value;break;case"kids":o=T[e.subcategory].value;break;default:o=""}return l.a.createElement("li",{key:e.ad_id,style:{listStyleType:"none"}},l.a.createElement("img",{src:"/api"+e.photo1_url.substring(1),alt:e.photo1_url,style:t}),l.a.createElement("span",{style:{verticalAlign:"middle",display:"inline-block",height:"100%"}}),l.a.createElement("div",{style:{width:"60%",height:"80%",float:"right",padding:"20px"}},l.a.createElement("p",null,"\u0160tevilka oglasa: ",l.a.createElement(k.b,{to:"listings/"+r+"/"+o+"/item?"+e.ad_id,style:a},e.ad_id)),l.a.createElement("p",null,l.a.createElement(k.b,{to:"/edit?"+e.ad_id,style:a},"  UREJANJE")),l.a.createElement("button",{style:{backgroundColor:"rgb(255,255,255,0)",border:"none",cursor:"pointer"},onClick:function(){return n.handleDeleteRequest(e.ad_id)}},"X IZBRI\u0160I")))})),l.a.createElement("div",null,l.a.createElement("button",{id:"first",className:"btn_nopad",onClick:n.paginationButtonClick},"PRVA"),l.a.createElement("button",{id:"previous",className:"btn_nopad",onClick:n.paginationButtonClick},"<<"),l.a.createElement("button",{id:"current",className:"btn_nopad"},n.state.page,"/",n.state.numPages),l.a.createElement("button",{id:"next",className:"btn_nopad",onClick:n.paginationButtonClick},">>"),l.a.createElement("button",{id:"last",className:"btn_nopad",onClick:n.paginationButtonClick},"ZADNJA"))))},n.switchRender=function(){return"0"===n.state.userId?l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"PROSIMO PRIJAVITE SE V SISTEM!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)):n.state.listings.length?n.state.listings.length&&-1!==n.state.tryingToDelete?l.a.createElement("div",{className:"userContainer"},l.a.createElement(W.a,{open:!0,position:"center center",onClose:n.closeModal},l.a.createElement("div",{style:{display:"inline-flex",justifyContent:"space-around"}},l.a.createElement("p",{style:{margin:"auto 10px"}},"Ste prepri\u010dani, da \u017eelite izbrisati oglas?"),l.a.createElement("button",{className:"btnb",onClick:function(){return n.handleDelete(n.state.tryingToDelete)}},"DA"),l.a.createElement("button",{className:"btnb",onClick:n.cancelDelete},"NE"))),n.renderListings()):l.a.createElement("div",{className:"userContainer"},n.renderListings()):l.a.createElement("div",{className:"userContainer"},l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement("h2",{style:{color:"white"}},"NIMATE \u0160E OBJAVLJENIH OGLASOV.")),l.a.createElement("div",{style:{width:"100%",verticalAlign:"top",textAlign:"right"}},l.a.createElement(k.b,{exact:!0,to:"/upload",className:"btn"},l.a.createElement("b",null,"+ OBJAVI NOV OGLAS"))))},n.state={userId:"0",urls:[],listings:[],tryingToDelete:-1,adsPerPage:5,numPages:1,page:1},n.displayPhotos=n.displayPhotos.bind(Object(y.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/sessionroutes",{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(t){e.setState({userId:t.userId}),e.displayPhotos(t.userId)})).catch((function(e){return console.error("Critical failure: "+e.message)}))}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"displayPhotos",value:function(e){var t=this;fetch("/api/photos",{signal:this.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({userId:e})}).then((function(e){return e.json()})).then((function(e){e.length?t.setState({listings:e,numPages:Math.floor(e.length/t.state.adsPerPage+.99)}):t.setState({listings:[]})})).catch((function(e){return console.error("Critical failure: "+e.message)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),l.a.createElement(z,null),this.switchRender(),l.a.createElement(K,null),l.a.createElement(J,null))}}]),a}(l.a.Component),Z=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}))(G),F=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.confirmGoodsReceived=function(e){n.callBackEnd("/orderstatus",e,2),window.location.href="/user_pastorders"},n.callBackEnd=function(e,t,a){fetch(e,{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({orderId:t,newStatus:a})}).then(n.setState({confirmReceived:0,openDispute:0},(function(){n.fetchOrders()}))).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.fetchOrders=function(){fetch("/api/userorders",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return n.setState({orders:e,numPages:Math.floor(e.length/n.state.perPage+.99)})})).catch((function(e){return console.error("Critical failure: "+e.message)})),n.setState({confirmReceived:0,openDispute:0})},n.openDispute=function(e){window.location.href="/contentsupport?3"},n.cancelConfirm=function(){n.setState({confirmReceived:0,openDispute:0})},n.formatDate=function(e){var t=new Date(1e3*e),a=""+(t.getMonth()+1),n=""+t.getDate(),l=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[n,a,l].join("-")},n.paginationButtonClick=function(e){var t=1;switch(e.target.id){case"first":n.setState({page:1});break;case"previous":t=n.state.page>1?n.state.page-1:1,n.setState({page:t});break;case"next":t=n.state.page<n.state.numPages?n.state.page+1:n.state.numPages,n.setState({page:t});break;case"last":n.setState({page:n.state.numPages});break;default:return null}},n.mapOrders=function(){var e,t=n.state.orders.length,a=n.state.perPage,r=n.state.page-1;e=r*a+a<t?(r+1)*a:t;var o=n.state.orders.slice(r*a,e);return l.a.createElement("div",{className:"orderListWrapper"},o.map((function(e){return l.a.createElement("li",{key:e.order_id,style:{listStyleType:"none"}},"\u0160tevilka naro\u010dila: ",l.a.createElement("span",{style:{fontWeight:"bold"}}," ",e.order_id," "),"Datum naro\u010dila:  ",l.a.createElement("span",{style:{fontWeight:"bold"}},n.formatDate(e.date_modified)," "),"Cena:  ",l.a.createElement("span",{style:{fontWeight:"bold"}},e.price," \u20ac "),"Po\u0161tnina:  ",l.a.createElement("span",{style:{fontWeight:"bold"}},e.postage," \u20ac "),"Prodajalec: ",l.a.createElement("span",{style:{fontWeight:"bold"}},e.seller," "),"Izdelki: ",e.ad_ids.split(",").map((function(e){return l.a.createElement(k.b,{to:"/item?"+e,key:e,className:"btn_nopad"},e)})),1===e.status&&l.a.createElement("p",null,l.a.createElement("b",null,"Naro\u010dilo je odposlano.")),l.a.createElement("br",null),1===e.status&&l.a.createElement("button",{className:["btn_nopad","btn_marg","btn_blue"].join(" "),onClick:function(){return n.setState({confirmReceived:e.order_id})}},"POTRDI PREJEM"),(0===e.status||1===e.status)&&l.a.createElement(k.b,{className:["btn_nopad","btn_marg","btn_lightyellow"].join(" "),to:"/chatpage/conversation?"+e.seller_id},"KONTAKTIRAJ PRODAJALCA"),(0===e.status||1===e.status)&&0===e.dispute&&l.a.createElement("button",{className:["btn_nopad","btn_marg","btn_yellow"].join(" "),onClick:function(){return n.setState({openDispute:e.order_id})}},"ODPRI PRITO\u017dBO"),1===e.dispute&&l.a.createElement("button",{className:["btn_nopad","btn_marg","btn_red","btn_nocursor"].join(" ")},"ODPRTA PRITO\u017dBA"),2===e.status&&l.a.createElement("button",{className:["btn_nopad","btn_marg","btn_green","btn_nocursor"].join(" ")},"ZAKLJU\u010cENO"),4===e.status&&l.a.createElement("button",{className:["btn_nopad","btn_marg","btn_red","btn_nocursor"].join(" ")},"PREKLICANO"))})),l.a.createElement("div",null,l.a.createElement("button",{id:"first",className:"btn_nopad",onClick:n.paginationButtonClick},"PRVA"),l.a.createElement("button",{id:"previous",className:"btn_nopad",onClick:n.paginationButtonClick},"<<"),l.a.createElement("button",{id:"current",className:"btn_nopad"},n.state.page,"/",n.state.numPages),l.a.createElement("button",{id:"next",className:"btn_nopad",onClick:n.paginationButtonClick},">>"),l.a.createElement("button",{id:"last",className:"btn_nopad",onClick:n.paginationButtonClick},"ZADNJA")))},n.switchRender=function(){return"0"===n.state.userId?l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"PROSIMO PRIJAVITE SE V SISTEM!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)):n.state.orders.length?n.state.confirmReceived||n.state.openDispute?l.a.createElement("div",{className:"userContainer"},l.a.createElement("br",null),l.a.createElement("br",null),n.mapOrders(),l.a.createElement(W.a,{open:!0,position:"center center",onClose:n.closeModal},l.a.createElement("div",{style:{display:"inline-flex",justifyContent:"space-around"}},n.state.confirmReceived?l.a.createElement("p",{style:{margin:"auto 10px"}},"S potrditvijo bo naro\u010dilo zaklju\u010deno in prito\u017eba ne bo ve\u010d mo\u017ena. Ali ste prepri\u010dani, da \u017eelite potrditi prejem izdelkov?"):null,n.state.confirmReceived?l.a.createElement("button",{className:"btnb",onClick:function(){return n.confirmGoodsReceived(n.state.confirmReceived)}},"DA"):null,n.state.openDispute?l.a.createElement("p",{style:{margin:"auto 10px"}},"Prito\u017ebo podajte le, \u010de ste \u017ee kontaktirali prodajalca in niste pri\u0161li do sporazumne re\u0161itve. \u017delite nadaljevati?"):null,n.state.openDispute?l.a.createElement("button",{className:"btnb",onClick:function(){return n.openDispute(n.state.openDispute)}},"DA"):null,l.a.createElement("button",{className:"btnb",onClick:n.cancelConfirm},"NE")))):l.a.createElement("div",{className:"userContainer"},l.a.createElement("br",null),l.a.createElement("br",null),n.mapOrders()):l.a.createElement("div",null,l.a.createElement("h2",{style:{color:"white"}},"NI\u010cESAR \u0160E NISTE NARO\u010cILI."))},n.state={userId:"0",orders:[],confirmReceived:0,openDispute:0,perPage:10,numPages:1,page:1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/sessionroutes",{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(t){return e.setState({userId:t.userId})})).catch((function(e){return console.error("Critical failure: "+e.message)})),this.callBackEnd("/userorders",0,0)}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),l.a.createElement(z,null),this.switchRender(),l.a.createElement(K,null),l.a.createElement(J,null))}}]),a}(l.a.Component),H=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}))(F),q=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.confirmGoodsSent=function(e){n.callBackEnd("/orderstatus",e,1),n.fetchOrders()},n.cancelConfirm=function(){n.setState({confirmSent:0})},n.callBackEnd=function(e,t,a){fetch(e,{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({orderId:t,newStatus:a})}).then(n.setState({confirmReceived:0,openDispute:0},(function(){n.fetchOrders()}))).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.fetchOrders=function(){fetch("/api/usersold",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return n.setState({orders:e,numPages:Math.floor(e.length/n.state.perPage+.99)})})).catch((function(e){return console.error("Critical failure: "+e.message)})),n.setState({confirmSent:0})},n.formatDate=function(e){var t=new Date(1e3*e),a=""+(t.getMonth()+1),n=""+t.getDate(),l=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[n,a,l].join("-")},n.paginationButtonClick=function(e){var t=1;switch(e.target.id){case"first":n.setState({page:1});break;case"previous":t=n.state.page>1?n.state.page-1:1,n.setState({page:t});break;case"next":t=n.state.page<n.state.numPages?n.state.page+1:n.state.numPages,n.setState({page:t});break;case"last":n.setState({page:n.state.numPages});break;default:return null}},n.mapOrders=function(){var e,t=n.state.orders.length,a=n.state.perPage,r=n.state.page-1;e=r*a+a<t?(r+1)*a:t;var o=n.state.orders.slice(r*a,e);return l.a.createElement("div",{className:"orderListWrapper"},l.a.createElement("br",null),l.a.createElement("br",null),o.map((function(e){return l.a.createElement("li",{key:e.order_id,style:{listStyleType:"none"}},"\u0160tevilka naro\u010dila: ",l.a.createElement("span",{style:{fontWeight:"bold"}}," ",e.order_id," "),"Datum naro\u010dila:  ",l.a.createElement("span",{style:{fontWeight:"bold"}},n.formatDate(e.date_modified)," "),"Cena:  ",l.a.createElement("span",{style:{fontWeight:"bold"}},e.price," \u20ac "),"Po\u0161tnina:  ",l.a.createElement("span",{style:{fontWeight:"bold"}},e.postage," \u20ac "),"Kupec: ",l.a.createElement("span",{style:{fontWeight:"bold"}},e.buyer," "),"Izdelki: ",e.ad_ids.split(",").map((function(e){return l.a.createElement(k.b,{to:"/item?"+e,key:e,className:"btn_nopad"},e)})),l.a.createElement("br",null),0===e.status&&l.a.createElement("button",{className:["btn_nopad","btn_marg","btn_yellow"].join(" "),onClick:function(){return n.setState({confirmSent:e.order_id})}},"POTRDI PO\u0160ILJANJE"),1===e.status&&l.a.createElement("button",{className:["btn_nopad","btn_marg","btn_lightyellow","btn_nocursor"].join(" ")},"\u010cAKA POTRDITEV KUPCA"),1===e.dispute&&l.a.createElement("button",{className:["btn_nopad","btn_marg","btn_red","btn_nocursor"].join(" ")},"ODPRTA PRITO\u017dBA"),2===e.status&&l.a.createElement("button",{className:["btn_nopad","btn_marg","btn_green","btn_nocursor"].join(" ")},"ZAKLJU\u010cENO"),4===e.status&&l.a.createElement("button",{className:["btn_nopad","btn_marg","btn_red","btn_nocursor"].join(" ")},"PREKLICANO"))})),l.a.createElement("div",null,l.a.createElement("button",{id:"first",className:"btn_nopad",onClick:n.paginationButtonClick},"PRVA"),l.a.createElement("button",{id:"previous",className:"btn_nopad",onClick:n.paginationButtonClick},"<<"),l.a.createElement("button",{id:"current",className:"btn_nopad"},n.state.page,"/",n.state.numPages),l.a.createElement("button",{id:"next",className:"btn_nopad",onClick:n.paginationButtonClick},">>"),l.a.createElement("button",{id:"last",className:"btn_nopad",onClick:n.paginationButtonClick},"ZADNJA")))},n.switchRender=function(){return"0"===n.state.userId?l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"PROSIMO PRIJAVITE SE V SISTEM!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)):n.state.orders.length?n.state.confirmSent?n.state.confirmSent?l.a.createElement("div",{className:"userContainer"},n.mapOrders(),l.a.createElement(W.a,{open:!0,position:"center center",onClose:n.closeModal},l.a.createElement("div",{style:{display:"inline-flex",justifyContent:"space-around"}},n.state.confirmSent?l.a.createElement("p",{style:{margin:"auto 10px"}},"Potrjujem, da sem odposlal/a izdelke."):null,n.state.confirmSent?l.a.createElement("button",{className:"btnb",onClick:function(){return n.confirmGoodsSent(n.state.confirmSent)}},"DA"):null,l.a.createElement("button",{className:"btnb",onClick:n.cancelConfirm},"NE")))):void 0:l.a.createElement("div",{className:"userContainer"},n.mapOrders()):l.a.createElement("div",null,l.a.createElement("h2",{style:{color:"white"}},"NI PRODANIH IZDELKOV."))},n.state={userId:"0",confirmSent:0,orders:[],perPage:10,numPages:1,page:1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/sessionroutes",{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(t){return e.setState({userId:t.userId})})).catch((function(e){return console.error("Critical failure: "+e.message)})),fetch("/api/usersold",{signal:this.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){return e.setState({orders:t})})).catch((function(e){return console.error("Critical failure: "+e.message)}))}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),l.a.createElement(z,null),this.switchRender(),l.a.createElement(K,null),l.a.createElement(J,null))}}]),a}(l.a.Component),Y=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}))(q),X=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.callUserWallet=function(e){fetch("/api/userwallet",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({amount:e})}).then((function(e){return e.json()})).then((function(t){e?n.setState({success:t.success,requestWithdraw:!1}):n.setState({walletInfo:t})})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.onWithdrawButtonClick=function(){n.setState({requestWithdraw:!0})},n.cancelWithdraw=function(){n.setState({requestWithdraw:!1})},n.closeModal=function(){n.setState({success:null,requestWithdraw:!1})},n.switchRender=function(){var e=n.state.walletInfo;if("0"===n.state.userId)return l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"PROSIMO PRIJAVITE SE V SISTEM!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null));if(n.state.walletInfo){if(n.state.requestWithdraw)return l.a.createElement("div",{className:"userContainer"},l.a.createElement("div",{className:"profile"},l.a.createElement("h2",null,"MOJA DENARNICA"),l.a.createElement("p",null,l.a.createElement("b",null,"Stanje:")," ",e.wallet.Balance.Amount/100+" "+e.wallet.Balance.Currency),l.a.createElement("p",null,l.a.createElement("b",null,"Na voljo za prenos:")," ",e.availableBalance," EUR"),e.availableBalance>=10&&l.a.createElement("button",{className:"btn",onClick:n.onWithdrawButtonClick},"PRENESI NA SVOJ BAN\u010cNI RA\u010cUN")),l.a.createElement(W.a,{open:!0,position:"center center",onClose:n.closeModal},l.a.createElement("div",{style:{display:"inline-flex",justifyContent:"space-around"}},l.a.createElement("p",{style:{margin:"auto 10px"}},"Potrditev prenosa ",n.state.walletInfo.availableBalance," EUR iz e-denarnice na ban\u010dni ra\u010dun?"),l.a.createElement("button",{className:"btnb",onClick:function(){return n.callUserWallet(n.state.walletInfo.availableBalance)}},"DA"),l.a.createElement("button",{className:"btnb",onClick:n.cancelWithdraw},"NE"))));if(n.state.success){var t=n.state.success;return l.a.createElement("div",{className:"userContainer"},l.a.createElement("div",{className:"profile"},l.a.createElement("h2",null,"MOJA DENARNICA"),l.a.createElement("p",null,l.a.createElement("b",null,"Stanje:")," ",e.wallet.Balance.Amount/100+" "+e.wallet.Balance.Currency),l.a.createElement("p",null,l.a.createElement("b",null,"Na voljo za prenos:")," ",e.availableBalance," EUR"),e.availableBalance>=10&&l.a.createElement("button",{className:"btn",onClick:n.onWithdrawButtonClick},"PRENESI NA SVOJ BAN\u010cNI RA\u010cUN")),l.a.createElement(W.a,{open:!0,position:"center center",onClose:n.closeModal},l.a.createElement("div",{style:{display:"inline-flex",justifyContent:"space-around"}},"NOBANK"===t&&l.a.createElement("p",{style:{margin:"auto 10px"}},"Za prenos dodajte svoj ban\u010dni ra\u010dun. To storite v nastavitvah profila."))))}return l.a.createElement("div",{className:"userContainer"},l.a.createElement("div",{className:"profile"},l.a.createElement("h2",null,"MOJA DENARNICA"),l.a.createElement("p",null,l.a.createElement("b",null,"Stanje:")," ",e.wallet.Balance.Amount/100+" "+e.wallet.Balance.Currency),l.a.createElement("p",null,l.a.createElement("b",null,"Na voljo za prenos:")," ",e.availableBalance," EUR"),e.availableBalance>=10&&l.a.createElement("button",{className:"btn",onClick:n.onWithdrawButtonClick},"PRENESI NA SVOJ BAN\u010cNI RA\u010cUN")))}return l.a.createElement("div",null)},n.state={userId:"0",walletInfo:null,success:null,requestWithdraw:!1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/sessionroutes",{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(t){return e.setState({userId:t.userId})})).catch((function(e){return console.error("Critical failure: "+e.message)})),this.callUserWallet(0)}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),l.a.createElement(z,null),this.switchRender(),l.a.createElement(K,null),l.a.createElement(J,null))}}]),a}(l.a.Component),Q=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}))(X),$=a(12),ee=a(25),te=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.getProfileInfo=function(){fetch("/api/profileroutes",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({requestType:1})}).then((function(e){return e.json()})).then((function(e){return n.setState({profileInfo:e[0]})})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.onEditButtonClick=function(){n.setState({edit:!0})},n.changePhoneNumber=function(e){var t=e.value,a=Object($.a)({},n.state.profileInfo);a.phone_number=t,n.setState({profileInfo:a})},n.changeAddress=function(e){var t=Object($.a)({},n.state.profileInfo),a=e.target,l=a.name,r=a.value;t[l]=r,n.setState({profileInfo:t})},n.updateInfo=function(e){e.preventDefault(),console.log(n.state.profileInfo),fetch("/api/profileroutes",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({requestType:2,profileInfo:n.state.profileInfo})}).then((function(e){return e.json()})).then((function(){return n.setState({editInfo:!1})})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.changePassword=function(e){n.checkPassStrength(e.target.value)?n.setState({warning:""}):n.setState({warning:"Geslo mora biti dolgo vsaj 8 znakov in mora vsebovati vsaj dva od naslednjih znakov: mala \u010drka, velika \u010drka, \u0161tevilka."}),n.setState({password:e.target.value})},n.updatePassword=function(e){e.preventDefault(),""!==n.state.password&&""===n.state.warning&&fetch("/api/profileroutes",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({requestType:3,password:n.state.password})}).then((function(e){return e.json()})).then((function(e){e.success&&n.setState({success:"Uspe\u0161no ste spremenili geslo.",editPass:!1})})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.visibilityChange=function(){n.setState({visible:!n.state.visible})},n.onEditButtonClick=function(e){"info"===e.target.id&&n.setState({editInfo:!0}),"pass"===e.target.id&&n.setState({editPass:!0}),"cancel"===e.target.id&&n.setState({editInfo:!1,editPass:!1})},n.switchRender=function(){var e={margin:"auto -50px",paddingTop:"0px",border:"none",backgroundColor:"rgb(255, 255, 255, 0)",verticalAlign:"middle"};return"0"===n.state.userId?l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"PROSIMO PRIJAVITE SE V SISTEM!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)):n.state.profileInfo?l.a.createElement("div",{className:"userContainer"},l.a.createElement("div",{className:"profile"},l.a.createElement("br",null),l.a.createElement("p",null,l.a.createElement("b",null,"IME: "),n.state.profileInfo.first_name),l.a.createElement("p",null,l.a.createElement("b",null,"PRIIMEK: "),n.state.profileInfo.last_name),!n.state.editInfo&&l.a.createElement("p",null,l.a.createElement("b",null,"NASLOV ZA PO\u0160ILJANJE: ")," ",n.state.profileInfo.street_ship+", "+n.state.profileInfo.post_number_ship+" "+n.state.profileInfo.town_ship),n.state.editInfo&&l.a.createElement("div",null,l.a.createElement("form",{onSubmit:n.updateInfo},l.a.createElement("b",null,"NASLOV ZA PO\u0160ILJANJE: "),l.a.createElement("input",{type:"text",id:"street",name:"street_ship",placeholder:"Ulica in hi\u0161na \u0161tevilka",value:n.state.profileInfo.street_ship,style:{width:"200px"},maxLength:"30",onChange:n.changeAddress}),l.a.createElement("input",{type:"text",id:"postnumber",name:"post_number_ship",placeholder:"Po\u0161tna \u0161t.",value:n.state.profileInfo.post_number_ship,style:{width:"150px"},maxLength:"10",onChange:n.changeAddress}),l.a.createElement("input",{type:"text",id:"town",name:"town_ship",placeholder:"Kraj",value:n.state.profileInfo.town_ship,style:{width:"150px"},maxLength:"30",onChange:n.changeAddress}),l.a.createElement("br",null),l.a.createElement("b",null,"TELEFON: "),l.a.createElement("input",{type:"text",id:"phonenumber",name:"phone_number",value:n.state.profileInfo.phone_number,style:{width:"200px"},maxLength:"20",onChange:n.changeAddress}),l.a.createElement("br",null),l.a.createElement("b",null,"IBAN: "),l.a.createElement("input",{type:"text",id:"iban",name:"iban",value:n.state.profileInfo.iban,style:{width:"200px"},maxLength:"30",onChange:n.changeAddress}),l.a.createElement("br",null),l.a.createElement("b",null,"BIC banke: "),l.a.createElement("input",{type:"text",id:"bic",name:"bic",value:n.state.profileInfo.bic,style:{width:"200px"},maxLength:"10",onChange:n.changeAddress}),l.a.createElement("br",null),l.a.createElement("button",{className:"btnb",type:"submit"},"SHRANI"),l.a.createElement("button",{className:"btnb",style:{marginLeft:"5px"},onClick:n.onEditButtonClick},"PREKLI\u010cI"))),!n.state.editInfo&&l.a.createElement("p",null,l.a.createElement("b",null,"TELEFON: "),n.state.profileInfo.phone_number),!n.state.editInfo&&l.a.createElement("p",null,l.a.createElement("b",null,"IBAN: ")," ",n.state.profileInfo.iban),!n.state.editInfo&&l.a.createElement("p",null,l.a.createElement("b",null,"BIC banke: ")," ",n.state.profileInfo.bic),n.state.editPass&&l.a.createElement("form",{onSubmit:n.updatePassword},"SPREMENI GESLO: ",l.a.createElement("input",{type:n.state.visible?"text":"password",id:"pass",name:"pass",value:n.state.password,style:{width:"200px"},onChange:n.changePassword}),n.state.visible?l.a.createElement("button",{type:"button",style:e,onClick:n.visibilityChange},l.a.createElement(ee.b,{size:"2em"})):l.a.createElement("button",{type:"button",style:e,onClick:n.visibilityChange},l.a.createElement(ee.a,{size:"2em"})),l.a.createElement("button",{className:"btnb",style:{marginLeft:"70px"},type:"submit"},"SHRANI"),l.a.createElement("button",{className:"btnb",style:{marginLeft:"5px"},onClick:n.onEditButtonClick},"PREKLI\u010cI")),l.a.createElement("p",{style:{color:"red",lineHeight:"40px"}},n.state.warning),l.a.createElement("p",{style:{lineHeight:"40px"}},n.state.success),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement("button",{id:"info",className:"btnu",onClick:n.onEditButtonClick},"UREDI PODATKE "),l.a.createElement("button",{id:"pass",className:"btnu",onClick:n.onEditButtonClick}," SPREMENI GESLO")))):l.a.createElement("div",null)},n.state={userId:"0",profileInfo:null,password:"",warning:"",success:"",editInfo:!1,editPass:!1,visible:!1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/sessionroutes",{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(t){e.setState({userId:t.userId}),"0"!==t.userId&&e.getProfileInfo()})).catch((function(e){return console.error("Critical failure: "+e.message)}))}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"checkPassStrength",value:function(e){return new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{8,})").test(e)}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),l.a.createElement(z,null),this.switchRender(),l.a.createElement(K,null),l.a.createElement(J,null))}}]),a}(l.a.Component),ae=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}))(te),ne=a(20),le=a(18),re=a.n(le),oe={border:"1px solid red"},ie=function(e){return l.a.createElement("div",null,l.a.createElement("select",{name:"day",id:"day",value:e.day,onChange:e.onChange,style:e.day||!0!==e.saveAttempt?null:oe},l.a.createElement("option",{value:"0"},"Dan rojstva"),function(){for(var e=[],t=1;t<32;t++)e.push(t);return e.map((function(e){return l.a.createElement("option",{value:e.toString(),key:e},e+".")}))}()),l.a.createElement("select",{name:"month",id:"month",value:e.month,onChange:e.onChange,style:e.month||!0!==e.saveAttempt?null:oe},l.a.createElement("option",{value:"0"},"Mesec rojstva"),l.a.createElement("option",{value:"1"},"Januar"),l.a.createElement("option",{value:"2"},"Februar"),l.a.createElement("option",{value:"3"},"Marec"),l.a.createElement("option",{value:"4"},"April"),l.a.createElement("option",{value:"5"},"Maj"),l.a.createElement("option",{value:"6"},"Junij"),l.a.createElement("option",{value:"7"},"Julij"),l.a.createElement("option",{value:"8"},"Avgust"),l.a.createElement("option",{value:"9"},"September"),l.a.createElement("option",{value:"10"},"Oktober"),l.a.createElement("option",{value:"11"},"November"),l.a.createElement("option",{value:"12"},"December")),l.a.createElement("select",{name:"year",id:"year",value:e.year,onChange:e.onChange,style:e.year||!0!==e.saveAttempt?null:oe},l.a.createElement("option",{value:"0"},"Leto rojstva"),function(){for(var e=[],t=0;t<100;t++)e.push(1910+t);return e.map((function(e){return l.a.createElement("option",{value:e.toString(),key:e},e)}))}()))},se=["AF","AL","DZ","AX","AS","AI","AD","AO","AN","AG","AQ","AR","AM","AU","AT","AW","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BM","BN","BO","BR","BS","BT","BV","BW","BY","BZ","KH","CM","CA","CV","CF","TD","CL","CN","CX","CC","CO","CG","CI","CK","CR","HR","CU","CY","CZ","CD","DJ","DK","DM","DO","EC","EG","SV","TP","EE","GQ","ER","ET","FI","FJ","FK","FM","FO","FR","FX","GF","PF","GA","GM","DE","GH","GI","GB","GD","GE","GR","GL","GN","GP","GS","GT","GU","GW","GY","HK","HM","HN","HT","HU","ID","IE","IL","IN","IO","IQ","IR","IT","JM","JO","JP","KE","KG","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MK","MO","MG","MY","ML","MW","MR","MH","MQ","MU","YT","MT","MX","MA","MC","MD","MN","MM","MP","MS","MV","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PG","PH","PK","PL","PM","CS","PN","PR","PS","PT","PW","PY","QA","RE","RO","RU","RW","SA","WS","SH","VC","SM","ST","SN","SC","SL","SG","SK","SI","SB","SO","ZA","ES","SD","SR","SJ","SE","CH","SY","SU","SZ","TW","TZ","TJ","TH","TL","TG","TK","TO","TT","TN","TR","TM","TC","TV","UA","UG","AE","UK","US","UM","UY","UZ","VU","VA","VE","VG","VI","VN","WF","EH","YE","YU","ZM","ZR","ZW"],ce=["Afghanistan","Albania","Algeria","Aland Islands","American Samoa","Anguilla","Andorra","Angola","Antilles - Netherlands","Antigua and Barbuda","Antarctica","Argentina","Armenia","Australia","Austria","Aruba","Azerbaijan","Bosnia and Herzegovina","Barbados","Bangladesh","Belgium","Burkina Faso","Bulgaria","Bahrain","Burundi","Benin","Bermuda","Brunei Darussalam","Bolivia","Brazil","Bahamas","Bhutan","Bouvet Island","Botswana","Belarus","Belize","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Congo","Cote D'Ivoire (Ivory Coast)","Cook Islands","Costa Rica","Croatia (Hrvatska)","Cuba","Cyprus","Czech Republic","Democratic Republic of the Congo","Djibouti","Denmark","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","East Timor","Estonia","Equatorial Guinea","Eritrea","Ethiopia","Finland","Fiji","Falkland Islands (Malvinas)","Federated States of Micronesia","Faroe Islands","France","France, Metropolitan","French Guiana","French Polynesia","Gabon","Gambia","Germany","Ghana","Gibraltar","Great Britain (UK)","Grenada","Georgia","Greece","Greenland","Guinea","Guadeloupe","S. Georgia and S. Sandwich Islands","Guatemala","Guam","Guinea-Bissau","Guyana","Hong Kong","Heard Island and McDonald Islands","Honduras","Haiti","Hungary","Indonesia","Ireland","Israel","India","British Indian Ocean Territory","Iraq","Iran","Italy","Jamaica","Jordan","Japan","Kenya","Kyrgyzstan","Kiribati","Comoros","Saint Kitts and Nevis","Korea (North)","Korea (South)","Kuwait","Cayman Islands","Kazakhstan","Laos","Lebanon","Saint Lucia","Liechtenstein","Sri Lanka","Liberia","Lesotho","Lithuania","Luxembourg","Latvia","Libya","Macedonia","Macao","Madagascar","Malaysia","Mali","Malawi","Mauritania","Marshall Islands","Martinique","Mauritius","Mayotte","Malta","Mexico","Morocco","Monaco","Moldova","Mongolia","Myanmar","Northern Mariana Islands","Montserrat","Maldives","Mozambique","Namibia","New Caledonia","Niger","Norfolk Island","Nigeria","Nicaragua","Netherlands","Norway","Nepal","Nauru","Niue","New Zealand (Aotearoa)","Oman","Panama","Peru","Papua New Guinea","Philippines","Pakistan","Poland","Saint Pierre and Miquelon","Serbia and Montenegro","Pitcairn","Puerto Rico","Palestinian Territory","Portugal","Palau","Paraguay","Qatar","Reunion","Romania","Russian Federation","Rwanda","Saudi Arabia","Samoa","Saint Helena","Saint Vincent and the Grenadines","San Marino","Sao Tome and Principe","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","Spain","Sudan","Suriname","Svalbard and Jan Mayen","Sweden","Switzerland","Syria","USSR (former)","Swaziland","Taiwan","Tanzania","Tajikistan","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Ukraine","Uganda","United Arab Emirates","United Kingdom","United States","United States Minor Outlying Islands","Uruguay","Uzbekistan","Vanuatu","Vatican City State","Venezuela","Virgin Islands (British)","Virgin Islands (U.S.)","Viet Nam","Wallis and Futuna","Western Sahara","Yemen","Yugoslavia (former)","Zambia","Zaire (former)","Zimbabwe"],ue=function(){return se.map((function(e,t){return l.a.createElement("option",{value:e,key:e},ce[t])}))},me={border:"1px solid red"},pe=function(e){return l.a.createElement("div",null,l.a.createElement("select",{name:"country",id:"country",value:e.country,onChange:e.onChange,style:e.country||!0!==e.saveAttempt?null:me},l.a.createElement("option",{value:""},"Dr\u017eava"),ue()),l.a.createElement("select",{name:"nationality",id:"nationality",value:e.nationality,onChange:e.onChange,style:e.nationality||!0!==e.saveAttempt?null:me},l.a.createElement("option",{value:""},"Dr\u017eavljanstvo"),ue()))},de=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).visibilityChange=function(){n.setState({visible:!n.state.visible})},n.state={visible:!1,style:{color:"gray"}},n}return Object(b.a)(a,[{key:"render",value:function(){var e={margin:"auto -50px",paddingTop:"8px",border:"none",backgroundColor:"rgb(255, 255, 255, 0)",verticalAlign:"middle"},t={border:"1px solid red"};return l.a.createElement("div",{style:{textAlign:"center",margin:"30px",paddingLeft:"20vw",paddingRight:"20vw"}},l.a.createElement("form",{onSubmit:this.props.handleClickSignUp},l.a.createElement("input",{type:"text",name:"firstName",value:this.props.firstName,placeholder:"Ime",onChange:this.props.handleChange,maxLength:"30",style:this.props.firstName||!0!==this.props.saveAttempt?null:t}),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"lastName",value:this.props.lastName,placeholder:"Priimek",onChange:this.props.handleChange,maxLength:"30",style:this.props.lastName||!0!==this.props.saveAttempt?null:t}),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"street",value:this.props.street,placeholder:"Ulica in hi\u0161na \u0161tevilka",onChange:this.props.handleChange,maxLength:"30",style:this.props.street||!0!==this.props.saveAttempt?null:t}),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"postNumber",value:this.props.postNumber,placeholder:"Po\u0161tna \u0161tevilka",onChange:this.props.handleChange,maxLength:"10",style:this.props.postNumber||!0!==this.props.saveAttempt?null:t}),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"town",value:this.props.town,placeholder:"Kraj",onChange:this.props.handleChange,maxLength:"30",style:this.props.town||!0!==this.props.saveAttempt?null:t}),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"region",value:this.props.region,placeholder:"Regija",onChange:this.props.handleChange,maxLength:"30",style:this.props.region||!0!==this.props.saveAttempt?null:t}),l.a.createElement("br",null),l.a.createElement(pe,{country:this.props.country,nationality:this.props.nationality,onChange:this.props.handleChange,saveAttempt:this.props.saveAttempt}),l.a.createElement("input",{type:"text",name:"phoneNumber",value:this.props.phoneNumber,placeholder:"\u0160tevilka mobilnega telefona",onChange:this.props.handleChange,maxLength:"20",style:this.props.phoneNumber||!0!==this.props.saveAttempt?null:t}),l.a.createElement("br",null),l.a.createElement("input",{type:"email",name:"email",value:this.props.email,placeholder:"E-naslov",onChange:this.props.handleChange,maxLength:"30",style:this.props.email||!0!==this.props.saveAttempt?null:t}),l.a.createElement(ie,{day:this.props.day,month:this.props.month,year:this.props.year,onChange:this.props.handleChange,saveAttempt:this.props.saveAttempt}),l.a.createElement("br",null),l.a.createElement("div",{style:{display:"inline-flex",width:"100%"}},l.a.createElement("input",{type:this.state.visible?"text":"password",name:"password",value:this.props.password,placeholder:"Geslo",onChange:this.props.handleChange,style:this.props.password||!0!==this.props.saveAttempt?null:t}),this.state.visible?l.a.createElement("button",{type:"button",style:e,onClick:this.visibilityChange},l.a.createElement(ee.b,{size:"2em"})):l.a.createElement("button",{type:"button",style:e,onClick:this.visibilityChange},l.a.createElement(ee.a,{size:"2em"}))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("p",null,l.a.createElement("b",null,"\u010cE SE \u017dELITE REGISTRIRATI TUDI KOT PRODAJALEC, IZPOLNITE \u0160E NASLEDNJE PODATKE:")),l.a.createElement("input",{type:"text",name:"iban",value:this.props.iban,placeholder:"IBAN",onChange:this.props.handleChange,maxLength:"30"}),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"bic",value:this.props.bic,placeholder:"BIC banke",onChange:this.props.handleChange,maxLength:"10"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{type:"submit",className:"btnb",id:"signup"},"ZAKLJU\u010cI REGISTRACIJO")),l.a.createElement("p",null,this.props.birthday))}}]),a}(n.Component),he=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.handleClickSignUp=function(e){var t,a,l;e.preventDefault(),n.setState({loading:!0,saveAttempt:!0}),""!==n.state.firstName&&""!==n.state.lastName&&""!==n.state.street&&""!==n.state.postNumber&&""!==n.state.town&&""!==n.state.region&&""!==n.state.country&&0!==n.state.day&&0!==n.state.month&&0!==n.state.year&&""!==n.state.nationality&&""!==n.state.phoneNumber&&""!==n.state.email&&""!==n.state.password&&""===n.state.warning?fetch("/api/signuproutes",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({enjoyer:{firstName:n.state.firstName,lastName:n.state.lastName,street:n.state.street,postNumber:n.state.postNumber,town:n.state.town,region:n.state.region,country:n.state.country,birthday:(t=n.state.year,a=n.state.month,l=n.state.day,new Date(Date.UTC(t,a-1,l,1,0,0)).getTime()/1e3),nationality:n.state.nationality,phoneNumber:n.state.phoneNumber,email:n.state.email,password:n.state.password,iban:n.state.iban,bic:n.state.bic}})}).then((function(e){return e.json()})).then((function(e){return n.setState({signUpText:e.signUpSuccess.text,registrationSuccess:e.signUpSuccess.code,loading:!1})})):n.setState((function(e){return Object($.a)({},e,{signUpText:"Napaka pri vnosu, preverite podatke!",loading:!1})}))},n.changePhoneNumber=function(e){var t=e.value;n.setState({phoneNumber:t})},n.changePostNumber=function(e){var t=e.value;n.setState({postNumber:t})},n.changeBirthday=function(e){var t=e.value;n.setState({birthday:t})},n.state={loggedInUserId:0,firstName:"",lastName:"",street:"",postNumber:"",town:"",region:"",country:"",day:0,month:0,year:0,nationality:"",phoneNumber:"",email:"",password:"",iban:"",bic:"",signUpText:"",warning:"",loading:!1,saveAttempt:!1,registrationSuccess:!1},n.handleChange=n.handleChange.bind(Object(y.a)(n)),n.handleClickSignUp=n.handleClickSignUp.bind(Object(y.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.setState({loggedInUserId:this.props.loggedInUserId}),console.log(this.state.loggedInUserId)}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"checkPassStrength",value:function(e){return new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{8,})").test(e)}},{key:"handleChange",value:function(e){"password"===e.target.name&&(this.checkPassStrength(e.target.value)?this.setState({warning:""}):this.setState({warning:"Geslo mora biti dolgo vsaj 8 znakov in mora vsebovati vsaj dva od naslednjih znakov: mala \u010drka, velika \u010drka, \u0161tevilka."})),this.setState(Object(ne.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=Number(this.state.loggedInUserId);return e?l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("p",{style:{color:"white"}},e),l.a.createElement("p",{style:{backgroundColor:"white"}},"STE \u017dE PRIJAVLJENI V SISTEM!"),l.a.createElement("br",null),l.a.createElement(k.b,{exact:!0,to:"/",style:{color:"white"}},"DOMOV")):this.state.registrationSuccess?l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement("br",null),l.a.createElement("h2",{style:{backgroundColor:"white"}},"REGISTRACIJA USPE\u0160NA! PREVERITE SVOJ PO\u0160TNI NABIRALNIK."),l.a.createElement("br",null)):l.a.createElement(l.a.Fragment,null,l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),l.a.createElement("div",{className:"SignUp"},l.a.createElement("h1",null,"DOBRODO\u0160LI!"),l.a.createElement("h2",null,"Nekaj napotkov:"),l.a.createElement("p",null,'"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."'),l.a.createElement(de,{saveAttempt:this.state.saveAttempt,firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email,street:this.state.street,postNumber:this.state.postNumber,town:this.state.town,region:this.state.region,country:this.state.country,nationality:this.state.nationality,day:this.state.day,month:this.state.month,year:this.state.year,phoneNumber:this.state.phoneNumber,password:this.state.password,iban:this.state.iban,bic:this.state.bic,handleChange:this.handleChange,changePhoneNumber:this.changePhoneNumber,changePostNumber:this.changePostNumber,changeBirthday:this.changeBirthday,handleClickSignUp:this.handleClickSignUp}),l.a.createElement("div",{style:{backgroundColor:"rgb(255, 255, 255, 0.8)"}},l.a.createElement("p",{style:{color:"red",lineHeight:"40px"}},this.state.warning),l.a.createElement("p",{style:{color:"black",lineHeight:"40px"}},this.state.signUpText)),1===this.state.signUpText.code&&l.a.createElement("div",null,l.a.createElement("p",null,"Niste prejeli e-sporo\u010dila? ",l.a.createElement(k.b,{to:"/requestconfirmemail"},"Ponovno po\u0161lji")," ")),l.a.createElement(re.a,{size:50,color:"white",loading:this.state.loading})),l.a.createElement(K,null),l.a.createElement(J,null))}}]),a}(l.a.Component),ge=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}))(he),be=function(){return l.a.createElement("div",{className:"container"})},Ee=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),l.a.createElement(be,{loggedInUser:this.props.loggedInUser}),l.a.createElement(K,null),l.a.createElement(J,null))}}]),a}(l.a.Component),ve={logIn:c,logOut:u},fe=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}),ve)(Ee),ke=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{style:{maxWidth:"300px",margin:"0 auto"}},l.a.createElement("form",{onSubmit:this.props.handleClickLogIn},l.a.createElement("input",{type:"text",name:"loginEmail",value:this.props.loginEmail,placeholder:"E-naslov",onChange:this.props.handleChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"password",name:"loginPassword",value:this.props.loginPassword,placeholder:"Geslo",onChange:this.props.handleChange}),l.a.createElement("br",null),l.a.createElement("button",{type:"submit",className:"btnb",id:"login"},"PRIJAVI SE"),l.a.createElement("br",null)),l.a.createElement(k.b,{to:"/forgotpassword",style:{fontWeight:"bold",color:"white"}},"Pozabljeno geslo"))}}]),a}(n.Component),ye=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.handleClickLogIn=function(e){e.preventDefault(),""!==n.state.loginEmail&&""!==n.state.loginPassword?fetch("/api/loginroutes",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({enjoyer:{email:n.state.loginEmail,password:n.state.loginPassword},type:"login"})}).then((function(e){return e.json()})).then((function(e){"login sucessfull"===e.success?(n.setState({logInText:e.success},(function(){return n.props.logIn(e.loggedInUser,e.uid)})),n.props.history.push("/")):n.setState({logInText:e.success})})):(console.log("LOGIN FAILED"),n.setState({logInText:"Napaka pri vnosu"})),n.setState({logInText:"",loginEmail:"",loginPassword:""})},n.state={loginEmail:"",loginPassword:"",logInText:""},n.handleChange=n.handleChange.bind(Object(y.a)(n)),n.handleClickLogIn=n.handleClickLogIn.bind(Object(y.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/sessionroutes",{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(t){return e.props.logIn(t.loggedInUser,t.userId)}))}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"handleChange",value:function(e){this.setState(Object(ne.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=window.location.href.includes("?confirmed");return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),l.a.createElement("div",{style:{textAlign:"center",marginTop:"10vh",paddingLeft:"30vw",paddingRight:"30vw"}},e&&l.a.createElement("p",{style:{color:"white"}},l.a.createElement("b",null,"USPE\u0160NO STE POTRDILI SVOJ E-NASLOV! PRIJAVITE SE Z UPORABNI\u0160KIM IMENOM IN GESLOM.")),l.a.createElement(ke,{loginEmail:this.state.loginEmail,loginPassword:this.state.loginPassword,handleChange:this.handleChange,handleClickLogIn:this.handleClickLogIn}),l.a.createElement("p",{style:{color:"red",textShadow:"1px 1px black"}},this.state.logInText),"Unconfirmed"===this.state.logInText&&l.a.createElement("div",{style:{color:"white"}},l.a.createElement("p",null,"Va\u0161 po\u0161tni naslov \u0161e ni potrjen. Preverite svoj po\u0161tni nabiralnik, vklju\u010dno z vsiljeno po\u0161to."),l.a.createElement("p",null,"\u010ce niste dobili e-po\u0161te ali pa je povezava potekla, kliknite ",l.a.createElement(k.b,{to:"/requestconfirmemail"},"tukaj"),".")),l.a.createElement("br",null),l.a.createElement("p",{style:{color:"white",textShadow:"1px 1px black"}},"\u0160e nima\u0161 uporabni\u0161kega ra\u010duna?"),l.a.createElement(k.b,{to:"/signUp_page",className:"btnb",activeStyle:{fontWeight:"bold"}},"REGISTRIRAJ SE")),l.a.createElement(K,null),l.a.createElement(J,null))}}]),a}(l.a.Component),Ie={logIn:c,logOut:u},Ce=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}),Ie)(ye),Se=a(32),Oe=a.n(Se);function je(e,t,a,n,l,r,o){if(o){for(var i=new FormData,s=o.map((function(e){return e.file})),c=0;c<s.length;c++)i.append("file",s[c]);for(var u=0;u<s.length;u++)i.append("fileName"+(u+1),s[u].name);for(var m=o.map((function(e){return e.crop})),p=0;p<m.length;p++)i.append("width"+(p+1),m[p].width),i.append("height"+(p+1),m[p].height),i.append("left"+(p+1),m[p].x),i.append("top"+(p+1),m[p].y);return Object.keys(t).forEach((function(e){i.append(e,t[e])})),i.append("userId",a),i.append("userName",n),i.append("type",e),i.append("adId",r),Oe.a.post("http://novomoden.si/api/uploadListing",i,{cancelToken:l.token})}return fetch("/api/editListing",{signal:l,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({selection:t,userId:a,userName:n,type:e,adId:r})})}function Ae(e,t){for(var a=0;a<e.length;a++)if(e[a].label===t)return a;return 0}function Ne(e,t){for(var a=0;a<e.length;a++)if(e[a].value===t)return a;return 0}var we=a(27),Pe=a.n(we),xe=a(47),Te=a.n(xe),Re=a(70),Ue=a(71),_e=a.n(Ue),De=a(72),Me=a.n(De),Le=(a(120),function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).onSelectFile=function(e){var t;e.target.files&&e.target.files.length>0&&("png"===(t=e.target.files[0].name.replace(/^.*\./,""))||"jpg"===t||"jpeg"===t?(n.readImageFile(e.target.files[0]),Me.a.imageFileResizer(e.target.files[0],450,600,"JPEG",100,0,(function(e){n.setState({src:e})}),"base64"),n.setState({file:e.target.files[0]}),n.setState({cropUrl:null})):n.setState({warning:"Slika mora biti formata jpg, jpeg ali png!"}))},n.readImageFile=function(e){var t,a,l=new FileReader,r=Object(y.a)(n);l.onload=function(e){var n=new Image;n.src=e.target.result,n.onload=function(){t=this.width,a=this.height,t<450||a<600?r.setState({warning:"Premajhna slika. Minimalna veikost slike je 450x600 px."}):r.setState({warning:""})}},l.readAsDataURL(e)},n.onImageLoaded=function(e){n.imageRef=e,n.setState({dimensions:{height:e.offsetHeight,width:e.offsetWidth}})},n.onCropComplete=function(e){n.makeClientCrop(e)},n.onCropChange=function(e,t){n.setState({crop:e})},n.saveCrop=function(){if(""===n.state.warning){n.setState({cropUrl:n.state.croppedImageUrl,src:"",croppedImageUrl:""});var e={file:n.state.file,crop:n.state.crop};n.props.callBackParent(e,parseInt(n.props.index))}},n.state={crop:{unit:"%",aspect:3/4,width:50},src:null,croppedImageUrl:"",cropUrl:null,file:null,dimensions:{height:0,width:0},warning:""},n}return Object(b.a)(a,[{key:"makeClientCrop",value:function(){var e=Object(Re.a)(Te.a.mark((function e(t){var a;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.imageRef&&t.width&&t.height)){e.next=5;break}return e.next=3,this.getCroppedImg(this.imageRef,t,"newFile.jpeg");case 3:a=e.sent,this.setState({croppedImageUrl:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCroppedImg",value:function(e,t,a){var n=this,l=document.createElement("canvas"),r=e.naturalWidth/e.width,o=e.naturalHeight/e.height;return l.width=t.width,l.height=t.height,l.getContext("2d").drawImage(e,t.x*r,t.y*o,t.width*r,t.height*o,0,0,t.width,t.height),new Promise((function(e,t){l.toBlob((function(t){t?(t.name=a,window.URL.revokeObjectURL(n.fileUrl),n.fileUrl=window.URL.createObjectURL(t),e(n.fileUrl)):console.error("Canvas is empty")}),"image/jpeg")}))}},{key:"render",value:function(){var e=this.state,t=e.crop,a=e.src;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"chosen_photos"},l.a.createElement("input",{id:"input1",type:"file",onChange:this.onSelectFile}),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("div",null,a&&l.a.createElement(_e.a,{src:a,crop:t,ruleOfThirds:!0,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange}),l.a.createElement("p",{style:{color:"red"}},this.state.warning),!this.state.cropUrl&&a&&l.a.createElement("button",{id:"1",className:"btnb",onClick:this.saveCrop},"SHRANI SLIKO"),this.state.cropUrl&&l.a.createElement("img",{alt:"Crop1",style:{width:"200px"},src:this.state.cropUrl})))}}]),a}(l.a.PureComponent)),ze=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}))(Le),Je=a(28),Be=a(48),Ve=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.fillTheForm=function(e){var t=Object.values(e);n.setState({category:R[t[0]],women:P[t[1]],men:x[t[1]],kids:T[t[1]],clothsize:_[t[2]],material:U[t[3]],condition:D[t[4]],brand:{value:t[5],status:!0},descrtext:{value:t[6],status:!0},weight:{value:t[7],status:!0},price:{value:t[8],status:!0}})},n.changeCategory=function(e){n.setState({category:e,women:{value:"",label:"Izberi kategorijo"},men:{value:"",label:"izberi kategorijo"},kids:{value:"",label:"Izberi kategorijo"}},(function(){return n.saveSelection}))},n.changeWomen=function(e){n.setState({women:e},(function(){return n.saveSelection()}))},n.changeMen=function(e){n.setState({men:e},(function(){return n.saveSelection()}))},n.changeKids=function(e){n.setState({kids:e},(function(){return n.saveSelection()}))},n.changeSize=function(e){n.setState({clothsize:e},(function(){return n.saveSelection()}))},n.changeMaterial=function(e){n.setState({material:e},(function(){return n.saveSelection()}))},n.changeCondition=function(e){n.setState({condition:e},(function(){return n.saveSelection()}))},n.changeBrand=function(e){var t=e.target.value;n.setState({brand:{value:t,status:!0}},(function(){return n.saveSelection()}))},n.changeWeight=function(e){var t=e.value;t>0&&t<2e3?n.setState({weight:{value:t,status:!0}},(function(){return n.saveSelection()})):n.setState({weight:{value:"",status:!1}},(function(){return n.saveSelection()}))},n.changePrice=function(e){var t=e.value;t>0&&t<2e3?n.setState({price:{value:t,status:!0}},(function(){return n.saveSelection()})):n.setState({price:{value:"",status:!1}},(function(){return n.saveSelection()}))},n.changeDescription=function(e){var t=e.target.value;n.setState({descrtext:{value:t,status:!0}},(function(){return n.saveSelection()}))},n.listFurther=function(){var e={container:function(e){return Object($.a)({},e,{border:""===n.state.women.value&&!0===n.props.saveAttempt&&"1px solid red",borderRadius:"4px"})}},t={container:function(e){return Object($.a)({},e,{border:""===n.state.men.value&&!0===n.props.saveAttempt&&"1px solid red",borderRadius:"4px"})}},a={container:function(e){return Object($.a)({},e,{border:""===n.state.kids.value&&!0===n.props.saveAttempt&&"1px solid red",borderRadius:"4px"})}};switch(n.state.category.value){case"women":return l.a.createElement(Je.a,{styles:e,options:P,value:n.state.women,name:"women",onChange:n.changeWomen});case"men":return l.a.createElement(Je.a,{styles:t,options:x,value:n.state.men,name:"men",onChange:n.changeMen});case"kids":return l.a.createElement(Je.a,{styles:a,options:T,value:n.state.kids,name:"kids",onChange:n.changeKids});default:return null}},n.renderSwitch=function(e){switch(e){case"women":return Ae(P,n.state.women.label);case"men":return Ae(x,n.state.men.label);case"kids":return Ae(T,n.state.kids.label);default:return""}},n.subcategName=function(e){switch(e){case"women":return n.state.women.label;case"men":return n.state.men.label;case"kids":return n.state.kids.label;default:return""}},n.saveSelection=function(){var e={category:Ae(R,n.state.category.label),subcategory:n.renderSwitch(n.state.category.value),subcategoryName:n.subcategName(n.state.category.value),clothsize:Ae(_,n.state.clothsize.label),material:Ae(U,n.state.material.label),condition:Ae(D,n.state.condition.label),brand:n.state.brand.value,descrtext:n.state.descrtext.value,weight:n.state.weight.value,price:n.state.price.value};n.props.callBackParent(e)},n.state={category:{value:"",label:"Izberi kategorijo"},women:{value:"",label:"Izberi kategorijo"},men:{value:"",label:"izberi kategorijo"},kids:{value:"",label:"Izberi kategorijo"},clothsize:{value:"",label:"Izberi velikost"},material:{value:"",label:"Izberi material"},condition:{value:"",label:"Izberi stanje"},brand:{value:"",status:!1},descrtext:{value:"",status:!1},weight:{value:null,status:!1},price:{value:null,status:!1}},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.adId;""!==t&&fetch("/api/fillform",{signal:this.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({adId:t})}).then((function(e){return e.json()})).then((function(t){e.fillTheForm(t[0])})).catch((function(e){return console.error("Critical failure: "+e.message)}))}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"render",value:function(){var e=this,t={container:function(t){return Object($.a)({},t,{border:""===e.state.category.value&&!0===e.props.saveAttempt&&"1px solid red",borderRadius:"4px"})}},a={container:function(t){return Object($.a)({},t,{border:""===e.state.clothsize.value&&!0===e.props.saveAttempt&&"1px solid red",borderRadius:"4px"})}},n={container:function(t){return Object($.a)({},t,{border:""===e.state.material.value&&!0===e.props.saveAttempt&&"1px solid red",borderRadius:"4px"})}},r={container:function(t){return Object($.a)({},t,{border:""===e.state.condition.value&&!0===e.props.saveAttempt&&"1px solid red",borderRadius:"4px"})}};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"column"},l.a.createElement(Je.a,{styles:t,options:R,value:this.state.category,name:"category",onChange:this.changeCategory}),l.a.createElement("br",null),this.listFurther()),l.a.createElement("div",{className:"column"},"kids"!==this.state.category.value&&l.a.createElement(Je.a,{styles:a,options:_,value:this.state.clothsize,name:"clothsize",onChange:this.changeSize}),l.a.createElement("br",null),l.a.createElement(Je.a,{styles:n,options:U,value:this.state.material,name:"material",onChange:this.changeMaterial}),l.a.createElement("br",null),l.a.createElement(Je.a,{styles:r,options:D,value:this.state.condition,name:"condition",onChange:this.changeCondition}),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"brand",value:this.state.brand.value,placeholder:"Znamka obla\u010dila (neobvezno)",maxLength:"30",onChange:this.changeBrand}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(Be.a,{value:this.state.weight.value,placeholder:"Masa v gramih",decimalSeparator:",",allowLeadingZeros:!1,allowNegative:!1,suffix:" g",isNumericString:!0,onValueChange:this.changeWeight,className:this.state.weight.status||!0!==this.props.saveAttempt?null:"red"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(Be.a,{value:this.state.price.value,placeholder:"Cena v evrih",decimalSeparator:",",allowLeadingZeros:!1,allowNegative:!1,suffix:" \u20ac",isNumericString:!0,onValueChange:this.changePrice,className:this.state.price.status||!0!==this.props.saveAttempt?null:"red"})),l.a.createElement("div",{className:"column"},l.a.createElement("textarea",{onChange:this.changeDescription,value:this.state.descrtext.value,placeholder:"Opis (neobvezno)",maxLength:"990"}))))}}]),a}(l.a.Component),Ke=Object(i.b)((function(e){return{saveAttempt:e.saveAttempt}}))(Ve),We=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.axiosSignal=Oe.a.CancelToken.source(),n.checkIfAll=function(){var e=!0,t=n.state.selection;return Object.keys(t).forEach((function(a){"brand"!==a&&"descrtext"!==a&&(0===t[a]&&3!==t.category||null===t[a]||""===t[a])&&(e=!1,n.setState({warning:"Izpolni vsa polja"}))})),n.state.photos.length<3&&(e=!1,n.setState({warning:"Izberi tri fotografije"})),e},n.onImageSaved=function(e,t){n.state.photos.length<=t?n.setState((function(t){return{photos:t.photos.concat(e)}})):n.setState((function(a){return{photos:a.photos.map((function(a,n){return n===t?e:a}))}}))},n.onSelectionSaved=function(e){n.setState({selection:e})},n.state={userId:"0",adId:"",photos:[],warning:"",uploadStatus:!1,selection:{category:"",subcategory:"",clothsize:"",material:"",condition:"",brand:"",descrtext:"",weight:null,price:null},loading:!1},n.handleUpload=n.handleUpload.bind(Object(y.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/sessionroutes",{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(t){return e.setState({userId:t.userId})})).catch((function(e){return console.error("Critical failure: "+e.message)}))}},{key:"componentWillUnmount",value:function(){this.abortController.abort(),this.axiosSignal.cancel("Api is being canceled")}},{key:"handleUpload",value:function(){var e=this;this.props.saveAtt(!0),this.checkIfAll()?(this.setState({loading:!0}),je("first",this.state.selection,this.props.loggedInUserId,this.props.loggedInUser,this.axiosSignal,0,this.state.photos).then((function(t){return e.setState({uploadStatus:!0,loading:!1})})).catch((function(e){return console.error("Critical failure: "+e.message)}))):this.setState({warning:"IZPOLNI VSA POLJA!"})}},{key:"render",value:function(){var e=Pe.a.stringify(Pe.a.parse(this.props.location.search));return"0"===this.state.userId?l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"PROSIMO PRIJAVITE SE V SISTEM!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement(J,null)):this.state.uploadStatus?l.a.createElement("div",{className:"App"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h1",{style:{backgroundColor:"rgb(255, 255, 255, 0.5)"}},"HVALA ZA ODDANI OGLAS!"),l.a.createElement(k.b,{exact:!0,to:"/user_listings"},l.a.createElement("button",{className:"btn"},"NAZAJ NA MOJO STRAN"))):l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(V,{pathname:this.props.location.pathname}),l.a.createElement("div",{style:{display:"flex",width:"90vw"}},l.a.createElement("div",{className:"sidenav"}),l.a.createElement("div",{style:{width:"100%",backgroundColor:"rgb(255, 255, 255, 0.5)"}},l.a.createElement("h1",null,"OBJAVI OGLAS"),l.a.createElement("br",null),l.a.createElement(Ke,{callBackParent:this.onSelectionSaved,saveAtt:this.state.saveAttempt,adId:e}),l.a.createElement("br",null),l.a.createElement("p",{style:{fontWeight:"bold"}},"Nalo\u017ei tri fotografije (prva fotografija je naslovna)"),l.a.createElement(ze,{callBackParent:this.onImageSaved,index:"0"}),l.a.createElement(ze,{callBackParent:this.onImageSaved,index:"1"}),l.a.createElement(ze,{callBackParent:this.onImageSaved,index:"2"}),!this.state.loading&&l.a.createElement("button",{className:"btnb",onClick:this.handleUpload},"SHRANI OGLAS"),l.a.createElement(re.a,{size:50,color:"#123abc",loading:this.state.loading}),l.a.createElement("p",{style:{color:"red"}},this.state.warning))),l.a.createElement(J,null))}}]),a}(l.a.Component),Ge={saveAtt:m},Ze=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId,saveAttempt:e.saveAttempt}}),Ge)(We),Fe=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.axiosSignal=Oe.a.CancelToken.source(),n.checkIfAll=function(){var e=!0,t=n.state.selection;return Object.keys(t).forEach((function(a){"brand"!==a&&"descrtext"!==a&&(0===t[a]&&3!==t.category||null===t[a]||""===t[a])&&(e=!1,n.setState({warning:"Izpolni vsa polja"}))})),n.state.photos.length<3&&0!==n.state.photos.length&&(e=!1,n.setState({warning:"Izberi tri fotografije"})),e},n.onImageSaved=function(e,t){n.state.photos.length<=t?n.setState((function(t){return{photos:t.photos.concat(e)}})):n.setState((function(a){return{photos:a.photos.map((function(a,n){return n===t?e:a}))}}))},n.onSelectionSaved=function(e){n.setState({selection:e})},n.state={userId:"0",adId:"",uploadedPhotos:[],photos:[],urls:[],fileWarning:"",warning:"",srcsToPass:[],editStatus:!1,selection:{category:"",subcategory:"",clothsize:"",material:"",condition:"",brand:"",descrtext:"",weight:null,price:null},loading:!1},n.handleUpload=n.handleUpload.bind(Object(y.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/sessionroutes",{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(t){return e.setState({userId:t.userId})})).catch((function(e){return console.error("Critical failure: "+e.message)}));var t=Pe.a.stringify(Pe.a.parse(this.props.location.search));this.setState({adId:t}),""===t&&void 0===t||(console.log(t),fetch("/api/fillform",{signal:this.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({adId:t})}).then((function(e){return e.json()})).then((function(t){return e.setState((function(e){var a=[t[0].photo1_url,t[0].photo2_url,t[0].photo3_url];return{srcsToPass:e.srcsToPass.concat(a)}}))})).catch((function(e){return console.error("Critical failure: "+e.message)})))}},{key:"componentWillUnmount",value:function(){this.abortController.abort(),this.axiosSignal.cancel("Api is being canceled")}},{key:"handleUpload",value:function(){var e=this;this.props.saveAtt(!0),this.checkIfAll()?(this.setState({loading:!0}),3===this.state.photos.length?je("edit",this.state.selection,this.props.loggedInUserId,this.props.loggedInUser,this.axiosSignal,this.state.adId,this.state.photos).then((function(){return e.setState({editStatus:!0,loading:!1})})).catch((function(e){return console.error("Critical failure: "+e.message)})):je("edit",this.state.selection,this.props.loggedInUserId,this.props.loggedInUser,this.abortController.signal,this.state.adId).then((function(){return e.setState({editStatus:!0,loading:!1})})).catch((function(e){return console.error("Critical failure: "+e.message)}))):this.setState({warning:"IZPOLNI VSA POLJA!"})}},{key:"render",value:function(){var e=Pe.a.stringify(Pe.a.parse(this.props.location.search));return"0"===this.state.userId?l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"PROSIMO PRIJAVITE SE V SISTEM!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement(J,null)):this.state.editStatus?l.a.createElement("div",{className:"App"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h1",{style:{backgroundColor:"rgb(255, 255, 255, 0.5)"}},"USPE\u0160NO STE POPRAVILI OGLAS!"),l.a.createElement(k.b,{exact:!0,to:"/user_listings"},l.a.createElement("button",{className:"btn"},"NAZAJ NA MOJO STRAN"))):this.state.srcsToPass.length?l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(V,{pathname:this.props.location.pathname}),l.a.createElement("div",{style:{display:"flex",width:"90vw"}},l.a.createElement("div",{className:"sidenav"}),l.a.createElement("div",{style:{width:"100%",backgroundColor:"rgb(255, 255, 255, 0.5)"}},l.a.createElement("h1",null,"POPRAVI OGLAS"),l.a.createElement("br",null),l.a.createElement(Ke,{callBackParent:this.onSelectionSaved,saveAtt:this.state.saveAttempt,adId:e}),l.a.createElement("br",null),l.a.createElement("p",null,"OBDR\u017dI TRENUTNE FOTOGRAFIJE:"),l.a.createElement("br",null),l.a.createElement("img",{src:"/api"+this.state.srcsToPass[0].substring(1),alt:"image_one",height:"200px",hspace:"20"}),l.a.createElement("img",{src:"/api"+this.state.srcsToPass[1].substring(1),alt:"image_two",height:"200px",hspace:"20"}),l.a.createElement("img",{src:"/api"+this.state.srcsToPass[2].substring(1),alt:"image_three",height:"200px",hspace:"20"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("p",null,"ALI IZBERI NOVE FOTOGRAFIJE:"),l.a.createElement(ze,{callBackParent:this.onImageSaved,index:"0"}),l.a.createElement(ze,{callBackParent:this.onImageSaved,index:"1"}),l.a.createElement(ze,{callBackParent:this.onImageSaved,index:"2"}),!this.state.loading&&l.a.createElement("button",{className:"btnb",onClick:this.handleUpload},"SHRANI OGLAS"),l.a.createElement(re.a,{size:50,color:"#123abc",loading:this.state.loading}),l.a.createElement("p",{style:{color:"red"}},this.state.warning))),l.a.createElement(J,null)):l.a.createElement("div",{className:"App"},l.a.createElement("h1",{style:{backgroundColor:"rgb(255, 255, 255, 0.5)"}},"Something went wrong"))}}]),a}(l.a.Component),He={saveAtt:m},qe=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}),He)(Fe),Ye=a(73),Xe=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).addToCart=function(){if(0!==n.props.loggedInUserId){var e=JSON.parse(window.localStorage.getItem(n.props.loggedInUserId));if(null!==e)e.includes(n.props.adId)?n.setState({addingResult:"IZDELEK JE \u017dE V KO\u0160ARICI!"}):(e.push(n.props.adId),window.localStorage.setItem(n.props.loggedInUserId,JSON.stringify(e)),n.setState({addingResult:"IZDELEK DODAN V KO\u0160ARICO!"}));else{var t=[];t.push(n.props.adId),window.localStorage.setItem(n.props.loggedInUserId,JSON.stringify(t)),n.setState({addingResult:"IZDELEK DODAN V KO\u0160ARICO!"})}n.props.itemAdded(1)}else n.setState({addingResult:"ZA DODAJANJE V KO\u0160ARICO SE PRIJAVITE."})},n.removeFromCart=function(){var e=JSON.parse(window.localStorage.getItem(n.props.loggedInUserId));null!==e&&(e.splice(e.indexOf(n.props.adId),1),window.localStorage.setItem(n.props.loggedInUserId,JSON.stringify(e)))},n.showCart=function(){window.localStorage.clear(),console.log(JSON.parse(window.localStorage.getItem(n.props.loggedInUserId)))},n.handleMsgRequest=function(){n.setState({msgRequest:!0})},n.handleConfirm=function(){},n.proceedToMsg=function(){console.log("SUBMITTED!"),n.setState({msgRequest:!1})},n.descriptDiv=function(){var e=n.props.selection,t="",a=e.category.value;switch(a){case"women":t=e.women.label;break;case"men":t=e.men.label;break;case"kids":t=e.kids.label;break;default:t=""}return l.a.createElement("div",null,l.a.createElement("h3",null,t),"kids"!==a&&l.a.createElement("p",null,l.a.createElement("b",null,"Velikost: "),e.clothsize.label),l.a.createElement("p",null,l.a.createElement("b",null,"Material: "),e.material.label),l.a.createElement("p",null,l.a.createElement("b",null,"Stanje: "),e.condition.label),l.a.createElement("p",null,l.a.createElement("b",null,"Znamka: "),e.brand.value),l.a.createElement("p",null,l.a.createElement("b",null,"Opis: "),e.descrtext.value),l.a.createElement("br",null),l.a.createElement("p",null,l.a.createElement("b",null,"Cena: "),e.price.value," \u20ac"),"active"===n.props.status&&"0"!==n.props.loggedInUserId&&l.a.createElement("button",{className:"btnb",onClick:n.addToCart},"DODAJ V KO\u0160ARICO"),l.a.createElement("p",{style:{fontWeight:"bold"}},n.state.addingResult),l.a.createElement("br",null),l.a.createElement("p",null,"Prodajalec: ",n.props.seller," "),l.a.createElement(k.b,{className:"btnu",exact:!0,to:"/sellerlistings?"+n.props.sellerId},"Vsi oglasi tega prodajalca"),"0"!==n.props.loggedInUserId&&n.props.loggedInUserId!==n.props.sellerId&&l.a.createElement("p",{style:{fontSize:10}},l.a.createElement("button",{style:{backgroundColor:"rgb(255,255,255,0)",border:"none",margin:0,padding:0,fontSize:"small",textDecoration:"underline",color:"grey",cursor:"pointer"},onClick:n.handleMsgRequest},"Kontaktiraj prodajalca")))},n.state={addingResult:"",msgRequest:!1,buttonDisabled:!0},n.onLoadRecaptcha=n.onLoadRecaptcha.bind(Object(y.a)(n)),n.verifyCallback=n.verifyCallback.bind(Object(y.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit",e.async=!0,document.body.appendChild(e),this.captchaDemo&&(console.log("started, just a second..."),this.captchaDemo.reset())}},{key:"onLoadRecaptcha",value:function(){this.captchaDemo&&this.captchaDemo.reset()}},{key:"verifyCallback",value:function(e){e&&this.setState({buttonDisabled:!1})}},{key:"render",value:function(){var e=this;return this.state.msgRequest?l.a.createElement("div",{className:"description"},l.a.createElement(W.a,{open:!0,position:"center center",onClose:this.closeModal},l.a.createElement("div",{style:{display:"flex",justifyContent:"center",height:"90px",lineHeight:"90px"}},l.a.createElement(Ye.ReCaptcha,{ref:function(t){e.captchaDemo=t},size:"normal","data-theme":"dark",render:"explicit",sitekey:"6Lf43ugZAAAAAN5duvLk0-87qD0uCU5gLCkwtnr5",onloadCallback:this.onLoadRecaptcha,verifyCallback:this.verifyCallback}),this.state.buttonDisabled&&l.a.createElement("span",{style:{paddingLeft:"20px"}},"NADALJUJ"),!this.state.buttonDisabled&&l.a.createElement(k.b,{style:{paddingLeft:"20px"},onClick:this.proceedToMsg,exact:!0,to:"/chatpage/conversation?"+this.props.sellerId},"NADALJUJ"))),this.descriptDiv()):l.a.createElement("div",{className:"description"},this.descriptDiv())}}]),a}(l.a.Component),Qe={saveAtt:m},$e=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}),Qe)(Xe),et=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.fillTheForm=function(e){var t=Object.values(e);n.setState({adId:n.props.adId,status:t[16],seller:t[12],sellerId:t[17],photos:[t[9],t[10],t[11]],origPhotos:[t[13],t[14],t[15]],selection:{category:R[t[0]],women:P[t[1]],men:x[t[1]],kids:T[t[1]],clothsize:_[t[2]],material:U[t[3]],condition:D[t[4]],brand:{value:t[5],status:!0},descrtext:{value:t[6],status:!0},weight:{value:t[7],status:!0},price:{value:t[8],status:!0}}})},n.closeModal=function(){n.setState({focused:-1})},n.state={adId:"",status:"",seller:"",sellerId:"",photos:[],origPhotos:[],selection:{category:{value:"",label:"Izberi kategorijo"},women:{value:"",label:"Izberi kategorijo"},men:{value:"",label:"izberi kategorijo"},kids:{value:"",label:"Izberi kategorijo"},clothsize:{value:"",label:"Izberi velikost"},material:{value:"",label:"Izberi material"},condition:{value:"",label:"Izberi stanje"},brand:{value:"",status:!1},descrtext:{value:"",status:!1},weight:{value:0,status:!1},price:{value:0,status:!1}},focused:-1},n}return Object(b.a)(a,[{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"componentDidMount",value:function(){var e=this;""!==this.props.adId&&fetch("/api/fillform",{signal:this.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({adId:this.props.adId})}).then((function(e){return e.json()})).then((function(t){e.fillTheForm(t[0])})).catch((function(e){return console.error("Critical failure: "+e.message)}))}},{key:"render",value:function(){var e=this;return 0===this.state.photos.length?l.a.createElement("div",null):-1!==this.state.focused?l.a.createElement(W.a,{open:!0,position:"center center",onClose:this.closeModal},l.a.createElement("div",{style:{height:"99vh"}},l.a.createElement("img",{src:"/api/"+this.state.origPhotos[this.state.focused],alt:this.state.origPhotos[this.state.focused]+"_photo",style:{maxWidth:"100%",height:"100%",margin:"0 auto"}}),l.a.createElement("button",{type:"button",style:{position:"absolute",border:"none",backgroundColor:"rgb(255, 255, 255, 0)",verticalAlign:"middle"},onClick:this.closeModal},l.a.createElement(ee.c,{size:"2em"})))):l.a.createElement("div",{className:"itemDesc"},l.a.createElement("div",{className:"imgSlider"},l.a.createElement("img",{src:"/api/"+this.state.origPhotos[0],alt:this.state.origPhotos[0]+"_photo",onClick:function(){return e.setState({focused:0})}}),l.a.createElement("img",{src:"/api/"+this.state.origPhotos[1],alt:this.state.origPhotos[1]+"_photo",onClick:function(){return e.setState({focused:1})}}),l.a.createElement("img",{src:"/api/"+this.state.origPhotos[2],alt:this.state.origPhotos[2]+"_photo",onClick:function(){return e.setState({focused:2})}})),l.a.createElement($e,{selection:this.state.selection,seller:this.state.seller,sellerId:this.state.sellerId,adId:this.props.adId,status:this.state.status,itemAdded:this.props.itemAdded}))}}]),a}(l.a.Component),tt=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).itemAdded=function(e){n.setState({cartUpdated:e}),console.log("updated cart!")},n.state={cartUpdated:0},n}return Object(b.a)(a,[{key:"render",value:function(){var e,t,a=(e=window.location.href,t="?",e.substring(e.indexOf(t)+1));return l.a.createElement("div",{className:"App"},l.a.createElement(S,{updated:this.state.cartUpdated}),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),l.a.createElement(et,{adId:a,itemAdded:this.itemAdded}),l.a.createElement(K,null),l.a.createElement(J,null))}}]),a}(l.a.Component),at=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.handleClickProceed=function(){fetch("/api/sessionorder",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({type:1,ids:n.props.ids})}).then((function(e){return e.json()})).then((function(e){"0"===e.available?n.setState({fetching:!1,available:!1},(function(){return console.log(n.state)})):n.setState({fetching:!1},(function(){return console.log(n.state)}))})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.state={fetching:!0,available:!0},n}return Object(b.a)(a,[{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"render",value:function(){var e=this.props.sum.weight,t=this.props.sum.price,a=e<100?2:3;return!this.state.fetching&&this.state.available?l.a.createElement(f.a,{to:"/shoppingcart/placeorder"}):this.state.available?l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.8)",padding:"10px",margin:"0 auto",borderBottom:"10px solid black",borderTop:"2px dotted black"}},l.a.createElement("h3",null,"Cena: ",t," \u20ac"),l.a.createElement("h4",null,"Po\u0161tnina: ",a," \u20ac"),l.a.createElement("h3",null,"Skupaj: ",t+a," \u20ac"),l.a.createElement("button",{className:"btnb",onClick:this.handleClickProceed},"NADALJUJ NA PLA\u010cILO")):l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.8)",padding:"10px",margin:"0 auto",borderBottom:"10px solid black",borderTop:"2px dotted black"}},l.a.createElement("h3",null,"OPROSTITE, EDEN ALI VE\u010c IZDELKOV NI VE\u010c NA VOLJO"))}}]),a}(l.a.Component),nt=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId,order:e.order}}))(at),lt=function(e){var t=e.description;if(t){var a,n,r;switch(t.category){case 1:a="women",n=P[t.subcategory].value,r=P[t.subcategory].label;break;case 2:a="men",n=x[t.subcategory].value,r=P[t.subcategory].label;break;case 3:a="kids",n=T[t.subcategory].value,r=P[t.subcategory].label;break;default:a="",n="",r=""}return l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.7)",padding:"30px",margin:"0 auto"}},l.a.createElement(k.b,{exact:!0,to:"/listings/"+a+"/"+n+"/item?"+t.ad_id},l.a.createElement("img",{src:"/api"+t.photo1_url.substring(1),alt:t.photo1_url+"_photo",height:"300",style:{border:"2px solid white"}})),l.a.createElement("div",{className:"description"},l.a.createElement("p",{style:{fontWeight:"bold"}},r),l.a.createElement("p",null,"Velikost: ",_[t.size].label),l.a.createElement("p",null,"ID oglasa: ",t.ad_id),l.a.createElement("p",null,"Cena: ",t.price," \u20ac"),l.a.createElement("p",null,"Prodajalec: ",t.username),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement("button",{className:"btnx",onClick:function(){var a=JSON.parse(window.localStorage.getItem(e.loggedInUserId));null!==a&&(a.splice(a.indexOf(t.ad_id.toString()),1),window.localStorage.setItem(e.loggedInUserId,JSON.stringify(a))),a=JSON.parse(window.localStorage.getItem(e.loggedInUserId)),e.update(-1),e.callBackParent()}},"X ODSTRANI"))))}return l.a.createElement("div",null,l.a.createElement("h2",null,(void 0).props.description.price," \u20ac"))},rt=function(e){for(var t=e.items,a=t.length,n=[],r={weight:0,price:0},o=t.map((function(e){return e.ad_id})),i=0;i<a;i++)n.push(l.a.createElement(lt,{key:i,description:t[i],loggedInUserId:e.loggedInUserId,callBackParent:e.callBackParent,update:e.update})),r.weight+=t[i].weight,r.price+=t[i].price;return n.push(l.a.createElement(nt,{key:r.weight,sum:r,ids:o})),n},ot=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.getCart=function(){fetch("/api/sessionroutes",{signal:n.abortController.signal}).then((function(e){return e.json()})).then((function(e){n.setState({userId:e.userId});var t=JSON.parse(window.localStorage.getItem(e.userId));t&&(t.length&&fetch("/api/cartListings",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){n.setState({sortedCart:e},(function(){e.length!==t.length&&n.deleteFromStorage(e)}))})).catch((function(e){return console.error("Critical failure: "+e.message)})),!t.length&&n.setState({sortedCart:[]}))})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.reMount=function(){n.getCart()},n.deleteFromStorage=function(e){fetch("/api/sessionroutes",{signal:n.abortController.signal}).then((function(e){return e.json()})).then((function(t){n.removeFromCart(t,e)})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.removeFromCart=function(e,t){for(var a=JSON.parse(window.localStorage.getItem(e.userId)),n=0;n<a.length;n++){for(var l=0,r=0;r<t.length;r++)a[n]===t[r].ad_id.toString()&&(l=1);0===l&&(a.splice(a.indexOf(a[n]),1),window.localStorage.setItem(e.userId,JSON.stringify(a)))}},n.listCart=function(){var e=n.state.sortedCart,t=[],a=[],r=[];if(e.length>0)for(var o,i=0,s=0;i<e.length;){for(o=e[i].username;s<e.length&&e[s].username===o;)r.push(e[s]),s++;a.push(r),t.push(l.a.createElement(rt,{key:s,items:r,loggedInUserId:n.props.loggedInUserId,callBackParent:n.reMount,update:n.update})),r=[],i=s}return t},n.update=function(){n.setState({updated:n.state.updated-1})},n.showCart=function(){console.log(JSON.parse(window.localStorage.getItem(21))),console.log(n.state.sortedCart),console.log(n.state.cart)},n.switchRender=function(){var e=n.state.sortedCart.length;return"0"===n.state.userId?l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"PROSIMO PRIJAVITE SE V SISTEM!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)):e?l.a.createElement("div",{style:{padding:"30px"}}," ",n.listCart()," "):l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"KO\u0160ARICA JE PRAZNA!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null))},n.state={userId:"0",cart:[],sortedCart:[],updated:0},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.getCart()}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,{updated:this.state.updated}),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),this.switchRender(),l.a.createElement(K,null),l.a.createElement(J,null))}}]),a}(l.a.Component),it=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}))(ot),st=function(e){var t=e.description;if(t){var a=function(e,t){var a;switch(e){case"women":a=P[t];break;case"men":a=x[t];break;case"kids":a=T[t];break;default:a=null}return a.label}(R[t.category].value,t.subcategory);return l.a.createElement("div",{style:{padding:"30px",borderBottom:"2px dotted black",margin:"0 auto"}},l.a.createElement("img",{src:"/api"+t.photo1_url.substring(1),alt:t.photo1_url+"_photo",height:"200"}),l.a.createElement("div",{className:"description"},l.a.createElement("p",{style:{fontWeight:"bold"}},a),3!==t.category&&l.a.createElement("p",null,"Velikost: ",_[t.size].label),l.a.createElement("p",null,"ID oglasa: ",t.ad_id)))}return l.a.createElement("div",null,l.a.createElement("h2",null,(void 0).props.description.price," \u20ac"))},ct=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.getProfileInfo=function(){fetch("/api/profileroutes",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({requestType:1})}).then((function(e){return e.json()})).then((function(e){return n.setState({profileInfo:e[0],shippingAddress:{firstName:e[0].first_name,lastName:e[0].last_name,street:e[0].street_ship,postNumber:e[0].post_number_ship,town:e[0].town_ship}})})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.changeAddress=function(e){var t=Object($.a)({},n.state.shippingAddress),a=e.target,l=a.name,r=a.value;t[l]=r,n.setState({shippingAddress:t})},n.onEditButtonClick=function(e){"info"===e.target.id&&n.setState({editInfo:!0}),"cancel"===e.target.id&&n.setState({editInfo:!1})},n.updateInfo=function(e){e.preventDefault(),n.props.callbackParent(n.state.shippingAddress),n.setState({editInfo:!1})},n.switchRender=function(){return"0"===n.state.userId?l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"PROSIMO PRIJAVITE SE V SISTEM!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)):n.state.profileInfo?l.a.createElement("div",{className:"finishorderdata"},l.a.createElement("br",null),l.a.createElement("b",null,"DOSTAVA: "),l.a.createElement("br",null),l.a.createElement("p",null,"Po\u0161ta Slovenije, navadna po\u0161iljka"),!n.state.editInfo&&l.a.createElement("p",null,l.a.createElement("b",null,"DOSTAVA NA NASLOV:"),l.a.createElement("br",null),l.a.createElement("br",null),n.state.shippingAddress.firstName+" "+n.state.shippingAddress.lastName,l.a.createElement("br",null),n.state.shippingAddress.street+", "+n.state.shippingAddress.postNumber+" "+n.state.shippingAddress.town,l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("b",null,"NA\u010cIN PLA\u010cILA: "),l.a.createElement("br",null),l.a.createElement("p",null,"Pla\u010dilna kartica (VISA, MASTERCARD)")):l.a.createElement("div",null)},n.state={userId:"0",profileInfo:null,shippingAddress:null,editInfo:!1,visible:!1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/sessionroutes",{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(t){e.setState({userId:t.userId}),"0"!==t.userId&&e.getProfileInfo()})).catch((function(e){return console.error("Critical failure: "+e.message)}))}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"render",value:function(){return this.switchRender()}}]),a}(l.a.Component),ut=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}))(ct),mt=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.cancelOrder=function(){fetch("/api/sessionorder",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({type:1,ids:[]})}).then((function(){return n.setState({canceled:!0})})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.removeFromCart=function(){var e=JSON.parse(window.localStorage.getItem(n.props.loggedInUserId));n.state.adIds.forEach((function(t){e.splice(e.indexOf(t.toString()),1)})),window.localStorage.setItem(n.props.loggedInUserId,JSON.stringify(e))},n.finishOrder=function(){n.setState({loading:!0});var e=n.priceSum(n.state.order,n.state.order.length),t=n.postageSum(n.state.order,n.state.order.length);fetch("/api/placeorder",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({order:{ids:n.state.adIds,price:e,postage:t,seller_id:n.state.order[0].user_id,seller:n.state.order[0].username,status:-1}})}).then((function(e){return e.json()})).then((function(e){return n.setState({redirectUrl:e.redirectUrl})})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.handleOrder=function(){n.setState({orderStatus:"ORDERED!"})},n.priceSum=function(e,t){for(var a=0,n=0;n<t;n++)a+=e[n].price;return a},n.postageSum=function(e,t){for(var a=0,n=0;n<t;n++)a+=e[n].weight;return a<100?2:3},n.goToPage=function(e){window.location.href=e},n.switchRender=function(){var e=n.state.order,t=e.length,a=n.priceSum(e,t),r=n.postageSum(e,t);if(""===n.state.redirectUrl)return"0"===n.state.userId?l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"PROSIMO PRIJAVITE SE V SISTEM!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)):t?!t||n.state.canceled||n.state.finished?n.state.canceled&&!n.state.finished?l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.7)",margin:"0 auto"}},l.a.createElement("br",null),l.a.createElement("h1",null,"NARO\u010cILO PREKLICANO!"),l.a.createElement(k.b,{exact:!0,to:"/shoppingcart",className:"btnb"},"NAZAJ NA KO\u0160ARICO"),l.a.createElement("br",null)):n.state.finished&&!n.state.canceled?l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.7)",margin:"0 auto"}},l.a.createElement("br",null),!n.state.error&&l.a.createElement("h1",null,"NARO\u010cILO ZAKLJU\u010cENO!"),n.state.error&&l.a.createElement("h1",null,"NAPAKA! EDEN ALI VE\u010c IZDELKOV \u017dAL NI VE\u010c NA VOLJO!"),l.a.createElement(k.b,{exact:!0,to:"/",className:"btnb"},"DOMOV"),l.a.createElement("br",null)):l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("br",null)):l.a.createElement("div",{style:{padding:"30px",margin:"0 auto"}},l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.7)",margin:"0 auto"}},l.a.createElement("div",{style:{textAlign:"left",paddingLeft:"50px",fontSize:"Large"}},l.a.createElement("br",null),l.a.createElement("p",null,l.a.createElement("b",null,"ODDAJ NARO\u010cILO"))),l.a.createElement("br",null),l.a.createElement("div",{style:{float:"left",paddingRight:"100px",minHeight:"70vh"}},n.state.order.map((function(e){return l.a.createElement(st,{key:e.ad_id,description:e})}))),l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement(ut,null),l.a.createElement("br",null),l.a.createElement("p",null,"Cena: ",a," \u20ac"),l.a.createElement("p",null,"Cena po\u0161tnine: ",r," \u20ac"),l.a.createElement("p",{style:{fontWeight:"bold"}},"Skupaj: ",a+r," \u20ac"),l.a.createElement("button",{className:"btnb",onClick:n.finishOrder},"ZAKLJU\u010cI NARO\u010cILO"),l.a.createElement("button",{className:"btnb",onClick:n.cancelOrder},"PREKLI\u010cI NARO\u010cILO"),l.a.createElement("br",null),l.a.createElement(re.a,{size:50,color:"#123abc",loading:n.state.loading}),l.a.createElement("br",null),l.a.createElement("p",null,n.state.orderStatus)),l.a.createElement("br",null),l.a.createElement("div",{style:{clear:"both"}}),l.a.createElement("br",null))):l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.7)",margin:"0 auto"}},l.a.createElement("br",null),l.a.createElement("h1",null,"O NE! NEKAJ JE \u0160LO NAROBE."),l.a.createElement(k.b,{exact:!0,to:"/shoppingcart",className:"btnb"},"NAZAJ NA KO\u0160ARICO"),l.a.createElement("br",null));n.goToPage(n.state.redirectUrl)},n.state={orderStatus:"",adIds:[],order:[],fetching:!0,canceled:!1,finished:!1,error:!1,loading:!1,userId:"0",redirectUrl:""},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/sessionorder",{signal:this.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({type:2})}).then((function(e){return e.json()})).then((function(t){var a=JSON.parse(t);e.setState({adIds:a}),a.length&&fetch("/api/cartListings",{signal:e.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){e.setState({order:t})})).catch((function(e){return console.error("Critical failure: "+e.message)}))})).catch((function(e){return console.error("Critical failure: "+e.message)})),fetch("/api/sessionroutes",{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(t){return e.setState({userId:t.userId})})).catch((function(e){return console.error("Critical failure: "+e.message)}))}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),this.switchRender(),l.a.createElement(K,null),l.a.createElement(J,null))}}]),a}(l.a.Component),pt={logIn:c,logOut:u},dt=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}),pt)(mt),ht=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.timer=null,n.checkPayment=function(){var e,t,a=(e=window.location.href,t="=",e.substring(e.indexOf(t)+1));fetch("/api/paymentstatus",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({eventId:a})}).then((function(e){return e.json()})).then((function(e){e.success&&n.setState({success:!0,eventId:e.orderId})})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.switchRender=function(){return n.state.success?l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.7)",margin:"0 auto"}},l.a.createElement("br",null),l.a.createElement("h1",null,"PLA\u010cILO JE SPREJETO! NARO\u010cILO ZAKLJU\u010cENO! \u0160TEVILKA NARO\u010cILA: ",n.state.eventId),l.a.createElement(k.b,{exact:!0,to:"/",className:"btnb"},"DOMOV"),l.a.createElement("br",null)):l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.7)",margin:"0 auto"}},l.a.createElement("br",null),l.a.createElement("h1",null,"OJEJ, NEKAJ JE \u0160LO NAROBE, PLA\u010cILO NI USPELO."),l.a.createElement(k.b,{exact:!0,to:"/",className:"btnb"},"DOMOV"),l.a.createElement("br",null))},n.state={success:!1,eventId:""},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout((function(){return e.checkPayment()}),100)}},{key:"componentWillUnmount",value:function(){this.abortController.abort(),clearTimeout(this.timer)}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),this.switchRender(),l.a.createElement(K,null),l.a.createElement(J,null))}}]),a}(l.a.Component),gt={logIn:c,logOut:u},bt=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}),gt)(ht),Et=function(e){var t={width:"100%",border:"2px solid white"},a={width:"50px",position:"relative",zIndex:"10",backgroundColor:"rgb(255,255,255,0.5)",padding:"2x",paddingRight:"5px",marginTop:-28,textAlign:"right",fontWeight:"bold"};return l.a.createElement("div",{style:{maxWidth:"100%",justifyContent:"center",minHeight:"80vh"}},l.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gridGap:"100px 100px",maxWidth:"100%",margin:"50px 50px"}},e.ads.map((function(e){var n,r=w[e.category];switch(r){case"women":n=P[e.subcategory].value;break;case"men":n=x[e.subcategory].value;break;case"kids":n=T[e.subcategory].value;break;default:n=0}return l.a.createElement("li",{key:e.ad_id,style:{listStyleType:"none"}},l.a.createElement(k.b,{exact:!0,to:"/listings/"+r+"/"+n+"/item?"+e.ad_id},l.a.createElement("img",{src:"/api/"+e.photo1_url,alt:e.photo1_url+"_photo",style:t})),l.a.createElement("p",{style:a},e.price," \u20ac"))}))))},vt=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.paginationButtonClick=function(e){var t,a,l=(t=window.location.href,a="?",t.substring(0,t.indexOf(a))),r=1;switch(e.target.id){case"first":n.setState({page:1}),window.history.replaceState(null,"",l+"?1");break;case"previous":r=n.state.page>1?n.state.page-1:1,n.setState({page:r}),window.history.replaceState(null,"",l+"?"+r);break;case"next":r=n.state.page<n.state.numPages?n.state.page+1:n.state.numPages,n.setState({page:r}),window.history.replaceState(null,"",l+"?"+r);break;case"last":n.setState({page:n.state.numPages}),window.history.replaceState(null,"",l+"?"+n.state.numPages);break;default:return null}},n.sortSelect=function(e){var t=e.target.value,a=n.state.ads;switch(t){case"date":a.sort((function(e,t){return e.ad_id>t.ad_id?-1:e.ad_id<t.ad_id?1:0}));break;case"price":a.sort((function(e,t){return e.price<t.price?-1:e.price>t.price?1:0}))}n.setState({ads:a})},n.adsDiv=function(){if(0===n.state.ads.length)return l.a.createElement("div",{style:{display:"flex",maxWidth:"90vw",minHeight:"30vh",justifyContent:"center"}},l.a.createElement("div",null,l.a.createElement("h2",{style:{color:"white"}},"OPROSTITE, V TEJ KATEGORIJI NI OGLASOV!")));var e,t=n.state.ads.length,a=n.state.adsPerPage,r=n.state.page-1;e=r*a+a<t?(r+1)*a:t;var o=n.state.ads.slice(r*a,e);return l.a.createElement("div",null,l.a.createElement("div",{style:{textAlign:"right",marginRight:"150px"}},l.a.createElement("select",{name:"sort",id:"sort",onChange:n.sortSelect},l.a.createElement("option",{value:"date"},"Sortiraj"),l.a.createElement("option",{value:"date"},"Najnovej\u0161e"),l.a.createElement("option",{value:"price"},"Najcenej\u0161e"))),l.a.createElement("div",{style:{display:"flex",maxWidth:"100vw",paddingLeft:"5vw",paddingRight:"5vw"}},l.a.createElement(Et,{ads:o})),l.a.createElement("div",null,l.a.createElement("button",{id:"first",className:"btn_nopad",onClick:n.paginationButtonClick},"PRVA"),l.a.createElement("button",{id:"previous",className:"btn_nopad",onClick:n.paginationButtonClick},"<<"),l.a.createElement("button",{id:"current",className:"btn_nopad"},n.state.page,"/",n.state.numPages),l.a.createElement("button",{id:"next",className:"btn_nopad",onClick:n.paginationButtonClick},">>"),l.a.createElement("button",{id:"last",className:"btn_nopad",onClick:n.paginationButtonClick},"ZADNJA")))},n.state={prevProps:null,ads:[],adsPerPage:5,numPages:1,page:1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e,t,a,n,l=this;if(window.location.href.includes("?")){var r=parseInt((e=window.location.href,t="?",e.substring(e.indexOf(t)+1)));this.setState({page:r})}switch(this.props.category){case"women":a=1,n="0"!==this.props.subcategory?Ne(P,this.props.subcategory):0;break;case"men":a=2,n="0"!==this.props.subcategory?Ne(x,this.props.subcategory):0;break;case"kids":a=3,n="0"!==this.props.subcategory?Ne(T,this.props.subcategory):0;break;default:a=0,n=0}fetch("/api/allphotos",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:this.abortController.signal,body:JSON.stringify({type:1,category:a,subcategory:n})}).then((function(e){return e.json()})).then((function(e){l.setState({ads:e,numPages:Math.floor(e.length/l.state.adsPerPage+.99)})})).catch((function(e){return console.error("Critical failure: "+e.message)}))}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"render",value:function(){var e="";return e="0"===this.props.subcategory?"/listings/"+this.props.category+"/all":"/listings/"+this.props.category+"/"+this.props.subcategory,l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:e}),this.adsDiv(),l.a.createElement(J,null))}}]),a}(l.a.Component),ft=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.conversationsFetch=function(){fetch("/api/fetchconversations",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){for(var t=e,a=[],l=0;l<e.length;l++)a.push(0);var r=Math.floor(e.length/n.state.perPage+.99);n.setState((function(e){return Object($.a)({},e,{conversations:t,unread:a,numPages:r})}),(function(){for(var t=0;t<e.length;t++){var a=0;a=e[t].id1.toString()===n.props.loggedInUserId?e[t].id2:e[t].id1,n.fetchNumberOfUnread(t,a)}}))})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.fetchNumberOfUnread=function(e,t){fetch("/api/fetchunread",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({iLId:t})}).then((function(e){return e.json()})).then((function(t){n.setState((function(a){var n=a.unread.map((function(a,n){return n===e?t:a}));return Object($.a)({},a,{unread:n})}))})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.paginationButtonClick=function(e){var t=1;switch(e.target.id){case"first":n.setState({page:1});break;case"previous":t=n.state.page>1?n.state.page-1:1,n.setState({page:t});break;case"next":t=n.state.page<n.state.numPages?n.state.page+1:n.state.numPages,n.setState({page:t});break;case"last":n.setState({page:n.state.numPages});break;default:return null}},n.switchRender=function(){var e,t=n.state.conversations.length,a=n.state.perPage,r=n.state.page-1;e=r*a+a<t?(r+1)*a:t;var o=n.state.conversations.slice(r*a,e);return"0"===n.state.userId?l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"PROSIMO PRIJAVITE SE V SISTEM!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{backgroundColor:"rgb(255, 255, 255, 0.7)",textAlign:"left",paddingLeft:"100px",paddingBottom:"50px"}},l.a.createElement("br",null),l.a.createElement("h2",null,"POGOVORI:"),o.map((function(e,t){var a=0,r="";a=e.id1===parseInt(n.props.loggedInUserId)?e.id2:e.id1,r=e.conversant1===n.props.loggedInUser?e.conversant2:e.conversant1;var o="";return n.state.unread[t]&&(o="("+n.state.unread[t]+")"),l.a.createElement("li",{key:t,style:{listStyleType:"none",paddingLeft:"200px",paddingTop:"10px"}},l.a.createElement(k.b,{style:{color:"black",textTransform:"uppercase",fontWeight:"bold"},exact:!0,to:"/chatpage/conversation?"+a},r+o))}))),l.a.createElement("div",{style:{textAlign:"left",paddingLeft:"12px"}},l.a.createElement("button",{id:"first",className:"btn_nopad",onClick:n.paginationButtonClick},"PRVA"),l.a.createElement("button",{id:"previous",className:"btn_nopad",onClick:n.paginationButtonClick},"<<"),l.a.createElement("button",{id:"current",className:"btn_nopad"},n.state.page,"/",n.state.numPages),l.a.createElement("button",{id:"next",className:"btn_nopad",onClick:n.paginationButtonClick},">>"),l.a.createElement("button",{id:"last",className:"btn_nopad",onClick:n.paginationButtonClick},"ZADNJA")))},n.state={userId:"0",conversations:[],unread:[],perPage:10,numPages:1,page:1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/sessionroutes",{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(t){return e.setState({userId:t.userId})})).catch((function(e){return console.error("Critical failure: "+e.message)})),this.conversationsFetch(),this.interval=setInterval((function(){e.conversationsFetch()}),3e4)}},{key:"componentWillUnmount",value:function(){this.abortController.abort(),clearInterval(this.interval)}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),this.switchRender(),l.a.createElement(K,null),l.a.createElement(J,null))}}]),a}(n.Component),kt=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}))(ft),yt=a(75),It=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).updateMsg=function(e){e.preventDefault();var t=e.target.value;n.setState({newMsg:t})},n.onClickSend=function(){n.props.callBackParent(n.state.newMsg),n.setState({newMsg:""})},n.state={newMsg:""},n}return Object(b.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("textarea",{style:{width:"60vw",minHeight:"10px"},onChange:this.updateMsg,value:this.state.newMsg,placeholder:"Novo sporo\u010dilo",maxLength:"990"}),l.a.createElement("br",null),l.a.createElement("button",{className:"btn",style:{border:"2px solid #ccc"},onClick:this.onClickSend},"SEND"))}}]),a}(l.a.Component),Ct=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.msgFetch=function(){var e=n.interlocutorId();n.interlocutor(e),fetch("/api/fetchmessages",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({conversantId:e})}).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return{time:e.date_created,sender:e.sender,msg:e.msg}}));n.setState({messages:t})})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.sendMsg=function(e){n.setState({newMsg:e});var t=n.interlocutorId();fetch("/api/newmessage",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({receiverId:t,msg:e})}).then((function(e){return e.json()})).then((function(e){return e.success&&n.setState((function(e){var t=[].concat(Object(yt.a)(e.messages),[{time:"now",sender:n.props.loggedInUser,msg:e.newMsg}]);return Object($.a)({},e,{messages:t,newMsg:""})}))})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.interlocutor=function(e){fetch("/api/firstname",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({iLId:e})}).then((function(e){return e.json()})).then((function(e){return n.setState({interlocutor:e[0].first_name})})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.switchRender=function(){var e=n.state.messages,t=n.state.messages.length;return"0"===n.state.userId?l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"PROSIMO PRIJAVITE SE V SISTEM!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)):l.a.createElement("div",{style:{backgroundColor:"rgb(255, 255, 255, 0.8)"}},l.a.createElement("p",null,n.state.time),l.a.createElement("br",null),l.a.createElement("p",{style:{fontSize:"30px"}},"POGOVOR S/Z: ",l.a.createElement("b",null,n.state.interlocutor)),t>5&&l.a.createElement(k.b,{exact:!0,to:n.props.location.pathname+"/all?"+n.interlocutorId(),className:"btn"},"POKA\u017dI STAREJ\u0160A SPORO\u010cILA"),l.a.createElement("br",null),l.a.createElement("ul",{style:{display:"inline-block",maxWidth:"60vw",paddingLeft:"0px"}},t>5&&e.slice(t-5,t).map((function(e,t){return l.a.createElement("li",{key:t,style:{listStyleType:"none",lineHeight:"35px"}},e.time.substring(8,10),"-",e.time.substring(5,7),"-",e.time.substring(0,4)," ",e.time.substring(11,16),": ",l.a.createElement("b",null,e.sender),": ",e.msg)})),t<=5&&n.state.messages.map((function(e,t){return l.a.createElement("li",{key:t,style:{listStyleType:"none",lineHeight:"35px"}},e.time.substring(8,10),"-",e.time.substring(6,7),"-",e.time.substring(0,4)," ",e.time.substring(11,16),": ",l.a.createElement("b",null,e.sender),": ",e.msg)}))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement(It,{callBackParent:n.sendMsg})))},n.state={userId:"0",time:null,interlocutor:"",messages:[],newMsg:""},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/sessionroutes",{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(t){return e.setState({userId:t.userId})})).catch((function(e){return console.error("Critical failure: "+e.message)})),this.msgFetch(),this.interval=setInterval((function(){e.msgFetch()}),3e4)}},{key:"componentWillUnmount",value:function(){this.abortController.abort(),clearInterval(this.interval)}},{key:"interlocutorId",value:function(){var e,t,a=(e=window.location.href,t="?",e.substring(e.indexOf(t)+1));return a}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),this.switchRender(),l.a.createElement(K,null),l.a.createElement(J,null))}}]),a}(n.Component),St=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}))(Ct),Ot=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.msgFetch=function(){var e=n.interlocutorId();n.interlocutor(e),fetch("/api/fetchmessages",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({conversantId:e})}).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return{time:e.date_created,sender:e.sender,msg:e.msg}}));n.setState({messages:t})})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.interlocutor=function(e){fetch("/api/firstname",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({iLId:e})}).then((function(e){return e.json()})).then((function(e){return n.setState({interlocutor:e[0].first_name})})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.switchRender=function(){var e=n.state.messages;return"0"===n.state.userId?l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"PROSIMO PRIJAVITE SE V SISTEM!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)):l.a.createElement("div",{style:{backgroundColor:"rgb(255, 255, 255, 0.8)"}},l.a.createElement("br",null),l.a.createElement("p",{style:{fontSize:"30px"}},"ZGODOVINA POGOVOROV S/Z: ",l.a.createElement("b",null,n.state.interlocutor)),l.a.createElement("br",null),l.a.createElement("ul",{style:{display:"inline-block",maxWidth:"60vw"}},e.map((function(e,t){return l.a.createElement("li",{key:t,style:{listStyleType:"none",lineHeight:"35px"}},e.time.substring(8,10),"-",e.time.substring(6,7),"-",e.time.substring(0,4)," ",e.time.substring(11,16),": ",l.a.createElement("b",null,e.sender),": ",e.msg)}))),l.a.createElement(k.b,{exact:!0,to:"/chatpage/conversation?"+n.interlocutorId(),className:"btn"},"NAZAJ"))},n.state={userId:"0",interlocutor:"",messages:[]},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/sessionroutes",{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(t){return e.setState({userId:t.userId})})).catch((function(e){return console.error("Critical failure: "+e.message)})),this.msgFetch()}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"interlocutorId",value:function(){var e,t,a=(e=window.location.href,t="?",e.substring(e.indexOf(t)+1));return a}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:"/chatpage/conversation?"+this.interlocutorId()+"/all?"+this.interlocutorId()}),this.switchRender(),l.a.createElement(K,null),l.a.createElement(J,null))}}]),a}(n.Component),jt=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}))(Ot),At=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.sendRequestForReset=function(e){e.preventDefault(),n.setState({loading:!0}),fetch("/api/forgotpassword",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:n.state.email})}).then((function(e){return e.json()})).then((function(e){return n.setState({success:e.success,loading:!1})}))},n.state={userId:0,email:"",success:"",loading:!1},n.handleChange=n.handleChange.bind(Object(y.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/sessionroutes",{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(t){e.setState({userId:t.userId})})).catch((function(e){return console.error("Critical failure: "+e.message)}))}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"handleChange",value:function(e){this.setState(Object(ne.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return 0!==this.state.userId?l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"STE \u017dE PRIJAVLJENI"),l.a.createElement(k.b,{to:"/"},"DOMOV"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)):l.a.createElement("div",{className:"app"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(V,{pathname:this.props.location.pathname}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("form",{onSubmit:this.sendRequestForReset,style:{textAlign:"center",marginTop:"100px"}},l.a.createElement("input",{type:"email",name:"email",value:this.state.email,placeholder:"Vpi\u0161i svoj e-naslov ...",style:{width:"300px",marginRight:"10px"},onChange:this.handleChange}),l.a.createElement("button",{type:"submit",className:"btn"},"PO\u0160LJI ZAHTEVO ZA SPREMEMBO GESLA")),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(re.a,{size:50,color:"white",loading:this.state.loading})),l.a.createElement("p",{style:{backgroundColor:"white",textAlign:"center",lineHeight:"50px",marginBottom:"300px"}},this.state.success),l.a.createElement(J,null))}}]),a}(l.a.Component),Nt=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.sendRequest=function(e){e.preventDefault(),n.setState({loading:!0}),fetch("/api/resendconfirmemail",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:n.state.email})}).then((function(e){return e.json()})).then((function(e){e.success?n.setState({resultText:"Poslali smo vam novo povezavo. Preverite svoj e-po\u0161tni nabiralnik, vklju\u010dno z vsiljeno po\u0161to.",loading:!1}):n.setState({resultText:"E-naslov ne obstaja, ali pa je \u017ee potrjen.",loading:!1})}))},n.state={userId:0,email:"",success:!1,loading:!1,resultText:""},n.handleChange=n.handleChange.bind(Object(y.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/sessionroutes",{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(t){e.setState({userId:t.userId})})).catch((function(e){return console.error("Critical failure: "+e.message)}))}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"handleChange",value:function(e){this.setState(Object(ne.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return 0!==parseInt(this.state.userId)?l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"STE \u017dE PRIJAVLJENI"),l.a.createElement(k.b,{to:"/"},"DOMOV"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)):l.a.createElement("div",{className:"app"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(V,{pathname:this.props.location.pathname}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("form",{onSubmit:this.sendRequest,style:{textAlign:"center",marginTop:"100px"}},l.a.createElement("input",{type:"email",name:"email",value:this.state.email,placeholder:"Vpi\u0161i svoj e-naslov ...",style:{width:"300px",marginRight:"10px"},onChange:this.handleChange}),l.a.createElement("button",{type:"submit",className:"btn"},"PO\u0160LJI MI NOVO E-SPORO\u010cILO")),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(re.a,{size:50,color:"white",loading:this.state.loading})),l.a.createElement("p",{style:{backgroundColor:"white",textAlign:"center",lineHeight:"50px",marginBottom:"300px"}},this.state.resultText),l.a.createElement(J,null))}}]),a}(l.a.Component),wt=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.typeBtnclick=function(e){e.preventDefault();var t=parseInt(e.target.id);n.setState({questionType:t,warning:""})},n.updateMsg=function(e){e.preventDefault();var t=e.target.value;n.setState({msg:t})},n.updateOrderNumber=function(e){e.preventDefault();var t=e.target.value;n.setState({orderNumber:t})},n.onClickSend=function(){3===n.state.questionType&&n.state.orderNumber?n.state.orderNumber?fetch("/api/reclamation",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({userId:n.props.loggedInUserId,msg:n.state.msg,orderNumber:parseInt(n.state.orderNumber)})}).then((function(e){return e.json()})).then((function(e){e.success?n.setState({success:!0}):n.setState({warning:"Napa\u010dna \u0161tevilka naro\u010dila."})})).catch((function(e){return console.error("Critical failure: "+e.message)})):n.setState({warning:"Napa\u010dna \u0161tevilka naro\u010dila."}):fetch("/api/ticketroutes",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({typect:"content",questionType:n.state.questionType,userId:n.props.loggedInUserId,msg:n.state.msg})}).then((function(e){return e.json()})).then((function(e){return e.success&&n.setState({success:!0})})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.reclamationDiv=function(){return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("p",{style:{textAlign:"left",color:"white",fontWeight:"bold",fontSize:"large"}},"REKLAMACIJA"),l.a.createElement("input",{placeholder:"\u0160tevilka naro\u010dila",onChange:n.updateOrderNumber}))},n.renderSwitch=function(e,t){return 0!==e||t?t?l.a.createElement("div",{className:"white-back"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"HVALA ZA ODDANO VPRA\u0160ANJE. ODGOVORILI VAM BOMO PO E-PO\u0160TI V NAJKRAJ\u0160EM MO\u017dNEM \u010cASU."),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)):l.a.createElement("div",null,l.a.createElement("div",{style:{display:"inline-block"}},l.a.createElement("button",{id:1,className:"support_btn",onClick:n.typeBtnclick},"VPRA\u0160ANJE V ZVEZI S PRODAJO"),l.a.createElement("button",{id:2,className:"support_btn",onClick:n.typeBtnclick},"VPRA\u0160ANJE V ZVEZI Z NAKUPOM"),l.a.createElement("button",{id:3,className:"support_btn",onClick:n.typeBtnclick},"REKLAMACIJA IZDELKA")),n.state.questionType?l.a.createElement("div",{style:{textAlign:"center",width:"60vw",minHeight:"10px",margin:"0 auto"}},l.a.createElement("br",null),1===n.state.questionType&&l.a.createElement("p",{style:{textAlign:"left",color:"white",fontWeight:"bold",fontSize:"large"}},"VPRA\u0160ANJE V ZVEZI S PRODAJO"),2===n.state.questionType&&l.a.createElement("p",{style:{textAlign:"left",color:"white",fontWeight:"bold",fontSize:"large"}},"VPRA\u0160ANJE V ZVEZI Z NAKUPOM"),3===n.state.questionType&&n.reclamationDiv(),l.a.createElement("textarea",{style:{width:"60vw",minHeight:"10px"},onChange:n.updateMsg,value:n.state.msg,placeholder:"Va\u0161e sporo\u010dilo",maxLength:"990"}),l.a.createElement("br",null),l.a.createElement("button",{className:"btn",style:{border:"2px solid #ccc"},onClick:n.onClickSend},"PO\u0160LJI")):null,l.a.createElement("p",{style:{color:"red"}},n.state.warning)):l.a.createElement("div",{className:"white-back"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"PROSIMO, DA SE PRED ODDAJO VPRA\u0160ANJA PRIJAVITE."),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null))},n.state={questionType:0,msg:"",orderNumber:0,success:!1,warning:""},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e,t;window.location.href.includes("?")&&this.setState({questionType:parseInt((e=window.location.href,t="?",e.substring(e.indexOf(t)+1)))})}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"render",value:function(){var e=this.props.loggedInUserId,t=this.state.success;return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),this.renderSwitch(e,t),l.a.createElement(K,null),l.a.createElement(J,null))}}]),a}(l.a.Component),Pt=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}))(wt),xt=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.updateMsg=function(e){var t=e.target.value;n.setState({msg:t})},n.onClickSend=function(){console.log(n.props.loggedInUserId),fetch("/api/techsupportroutes",{signal:n.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({typect:"technical",userId:n.props.loggedInUserId,msg:n.state.msg})}).then((function(e){return e.json()})).then((function(e){return e.success&&n.setState({success:!0})})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.state={msg:"",success:!1},n}return Object(b.a)(a,[{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"render",value:function(){console.log(this.props.location.pathname);var e=this.props.loggedInUserId,t=this.state.success;return 0!==e||t?t?l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"HVALA ZA ODDANO VPRA\u0160ANJE. ODGOVORILI VAM BOMO PO E-PO\u0160TI V NAJKRAJ\u0160EM MO\u017dNEM \u010cASU."),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement(K,null),l.a.createElement(J,null)):l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("br",null),l.a.createElement("h2",null,"KAKO VAM LAHKO POMAGAMO?"),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("textarea",{style:{width:"60vw",minHeight:"10px"},onChange:this.updateMsg,value:this.state.msg,placeholder:"Novo sporo\u010dilo",maxLength:"990"}),l.a.createElement("br",null),l.a.createElement("button",{className:"btn",style:{border:"2px solid #ccc"},onClick:this.onClickSend},"SEND")),l.a.createElement(K,null),l.a.createElement(J,null)):l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"PROSIMO, DA SE PRED ODDAJO VPRA\u0160ANJA PRIJAVITE."),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement(K,null),l.a.createElement(J,null))}}]),a}(l.a.Component),Tt=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}))(xt),Rt=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:"/idcard"}),l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("p",null,"MINIMALIST d.o.o."),l.a.createElement("p",null,"SVETA TROJICA 5, ORMO\u017d")),l.a.createElement(K,null),l.a.createElement(J,null))},Ut=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:"/advertising"}),l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.7)"}},l.a.createElement("br",null),l.a.createElement("h2",null,"OGLA\u0160EVANJE"),l.a.createElement("p",null,"Trenutno ogla\u0161evanje na tej spletni strani ni mo\u017eno, je pa v na\u010drtu za kasneje."),l.a.createElement("br",null)),l.a.createElement(K,null),l.a.createElement(J,null))},_t=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:"/cookies"}),l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.7)"}},l.a.createElement("br",null),l.a.createElement("h2",null,"PI\u0160KOTKI"),l.a.createElement("p",null,"Ta spletna stran uporablja le pi\u0161kotke, ki so nujno potrebni za delovanje strani."),l.a.createElement("br",null)),l.a.createElement(K,null),l.a.createElement(J,null))},Dt=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:"/privacy"}),l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.7)",width:"60vw",textAlign:"left",display:"inline-block",padding:"50px"}},l.a.createElement("br",null),l.a.createElement("h2",null,"POLITIKA ZASEBNOSTI"),l.a.createElement("h3",null,"Pravica do zasebnosti"),l.a.createElement("p",null,"Z va\u0161imi osebnimi podatki ravnamo pazljivo in skladno z v Republiki Sloveniji veljavnimi predpisi. Dostop do osebnih podatkov je dovoljen le poobla\u0161\u010denim zaposlenim in pogodbenim obdelovalcem, v obsegu in z namenom, ki je nujno potreben za nemoteno delovanje spletne strani."),l.a.createElement("h3",null,"Poobla\u0161\u010dena oseba za varstvo osebnih podatkov"),l.a.createElement("p",null,"\u010ce imate kakr\u0161na koli vpra\u0161anja v zvezi z na\u0161o politiko varovanja osebnih podatkov ali na\u010dinom obravnave va\u0161ih osebnih podatkov, se lahko brez zadr\u017ekov obrnete na na\u0161o poobla\u0161\u010deno osebo za varstvo osebnih podatkov v dru\u017ebi _____________ d.o.o. preko elektronskega naslova _______. "),l.a.createElement("h3",null,"Nameni obdelave osebnih podatkov in pravni temelji"),l.a.createElement("p",null,"Minimalist osebne podatke strank obdeluje kot posrednik pri prodaji izdelkov na spletni strani, predvsem za namene nakazil in pri reklamacijskih zahtevkih strank. Pri pla\u010dilu preko spleta Minimalist zagotavlja vse potrebne tehnolo\u0161ke in organizacijske re\u0161itve za popolno varnost nakupa. Prenos osebnih podatkov podanih ob registraciji v spletno mesto Minimalist in transakcijskih podatkov povezanih z nakupom na spletni strani se izvaja v varnem na\u010dinu s pomo\u010djo protokola SSL (SecureSocketsLayer). Varnost osebnih podatkov ob nakupu je zagotovljena tudi z upo\u0161tevanjem veljavnih zakonskih obveznosti in priporo\u010dil slovenske ter mednarodne zveze potro\u0161nikov. "),l.a.createElement("h3",null,"Pi\u0161kotki"),l.a.createElement("p",null,"Minimalist zbira osebne podatke tudi ob obisku spletne strani, prek pi\u0161kotkov, za namene zagotavljanja bolj\u0161e funkcionalnosti in uporabni\u0161ke izku\u0161nje, varnosti ter nemotenega delovanja spletne strani. Trenutno minimalist uporablja le obvezne pi\u0161kotke, ki so klju\u010dni in brez njih spletna stran ne bi delovala, kot bi morala. Nastavijo se, ko posameznik odda obrazec, se prijavi ali opravi kakr\u0161nokoli interakcijo s spletno stranjo preko klikanja na enostavne povezave."),l.a.createElement("h3",null,"Obdelovalci osebnih podatkov"),l.a.createElement("p",null,"Poleg Minimalista osebne podatke v njegovem imenu in za njegov ra\u010dun obdelujejo tudi pogodbeni partnerji, trenutno Mangopay, ki skrbi za transakcije med uporabniki spletne strani."),l.a.createElement("h3",null,"Pravice posameznikov"),l.a.createElement("p",null,"S pisno zahtevo, poslano na naslov: __________________ s pripisom \xbbza GDPR\xab, ali na elektronski naslov ________________ lahko posameznik zahteva dostop, dopolnitev, popravek, blokiranje oz. omejitev obdelave, izbris osebnih podatkov ali lahko ugovarja obdelavi podatkov, ki se obdelujejo v zvezi z njim ter zahteva prenos podatkov. Posameznik lahko dane privolitve v obdelavo osebnih kadarkoli trajno ali za\u010dasno, v celoti ali delno prekli\u010de s pisno zahtevo, poslano na naslov: _______________________, s pripisom \xbbza GDPR\xab, ali na elektronski naslov _______________. Preklic privolitve ne vpliva na zakonitost obdelave, ki se je na podlagi privolitve izvajala do njenega preklica. Posameznik ima pravico vlo\u017eiti prito\u017ebo pri Informacijskem poobla\u0161\u010dencu RS, \u010de meni, da se njegovi osebni podatki shranjujejo ali kako druga\u010de obdelujejo v nasprotju z veljavnimi predpisi, ki urejajo varstvo osebnih podatkov. "),l.a.createElement("h3",null,"Roki hrambe osebnih podatkov"),l.a.createElement("p",null,"Minimalist bo obdeloval osebne podatke v obsegu, ki je potreben za uresni\u010devanje namenov obdelave in dokler bo to potrebno za dosego zasledovanega cilja, v primeru pridobljenih osebnih podatkov na podlagi privolitev, pa do preklica, razen v primerih, ko je rok hrambe osebnih podatkov dolo\u010den z zakonom. V slednjih primerih Minimalist podatke hrani v skladu z zakonsko obveznostjo."),l.a.createElement("br",null)),l.a.createElement(K,null),l.a.createElement(J,null))},Mt={listStylePosition:"inside",lineHeight:"30px"},Lt=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:"/buying"}),l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.7)"}},l.a.createElement("br",null),l.a.createElement("h2",null,"NAKUPOVANJE NA SPLETNI STRANI"),l.a.createElement("p",null,"Nakupovanje na spletni strani je enostavno. Potrebovali boste le kreditno kartico. Sledite naslednjim korakom:"),l.a.createElement("ol",{style:Mt},l.a.createElement("li",null,"\u010ce \u0161e nimate uporabni\u0161kega ra\u010duna, se najprej registrirajte."),l.a.createElement("li",null,"Prijavite se v sistem."),l.a.createElement("li",null,"Poi\u0161\u010dite izdelke, ki vam ustrezajo in jih dodajte v ko\u0161arico."),l.a.createElement("li",null,"Sledite postopku naro\u010dila in zaklju\u010dite naro\u010dilo s pla\u010dilom s kreditno kartico."),l.a.createElement("li",null,'Po prejemu izdelkov v uporabni\u0161kih straneh pod zavihkom "moja naro\u010dila" potrdite prejem, \u010de je bilo z naro\u010dilom vse v redu. V nasprotnem primeru kontaktirajte prodajalca oziroma podajte reklamacijo, \u010de s prodajalcem ne prideta do sporazumne re\u0161itve.')),l.a.createElement("br",null),l.a.createElement("p",null,"Imate dodatna vpra\u0161anja? ",l.a.createElement(k.b,{to:"/contentsupport"},"Pi\u0161ite nam")),l.a.createElement("br",null)),l.a.createElement(K,null),l.a.createElement(J,null))},zt={listStylePosition:"inside",lineHeight:"30px"},Jt=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:"/selling"}),l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.7)"}},l.a.createElement("br",null),l.a.createElement("h2",null,"PRODAJA NA SPLETNI STRANI"),l.a.createElement("p",null,"Za objavo in prodajo izdelkov boste potrebovali uporabni\u0161ki ra\u010dun. Zagotoviti boste morali pravilne podatke o va\u0161em ban\u010dnem ra\u010dunu, na katerega si boste lahko nakazali denar od prodaje izdelkov. Za objavo in prodajo sledite naslednjim korakom:"),l.a.createElement("ol",{style:zt},l.a.createElement("li",null,"\u010ce \u0161e nimate uporabni\u0161kega ra\u010duna, se najprej registrirajte. Vpi\u0161ite pravilne podatke o ban\u010dnem ra\u010dunu."),l.a.createElement("li",null,"Prijavite se v sistem."),l.a.createElement("li",null,'V uporabni\u0161kih straneh pod zavihkom "moji oglasi" objavite oglas.'),l.a.createElement("li",null,"Ko boste prejeli naro\u010dilo, bo to vidno v va\u0161ih uporabni\u0161kih straneh, dobili pa boste tudi obvestilo po e-po\u0161ti."),l.a.createElement("li",null,"Zapakirajte in po\u0161ljite izdelke na naslov, ki ga dobite prek e-po\u0161te, ter v uporabni\u0161kih straneh pri naro\u010dilu ozna\u010dite, da ste izdelke odposlali."),l.a.createElement("li",null,"Po\u010dakajte na potrditev kupca."),l.a.createElement("li",null,'Denar od prodaje se zbira v va\u0161i e-denarnici. V uporabni\u0161kih straneh pod zavihkom "moja denarnica" si lahko naka\u017eete denar na svoj ban\u010dni ra\u010dun. Naka\u017eete si lahko le denar od naro\u010dil, za katere je bil potrjen prejem. Minimalni znesek nakazila je 10 \u20ac.')),l.a.createElement("br",null),l.a.createElement("p",null,"Imate dodatna vpra\u0161anja? ",l.a.createElement(k.b,{to:"/contentsupport"},"Pi\u0161ite nam")),l.a.createElement("br",null)),l.a.createElement(K,null),l.a.createElement(J,null))},Bt=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:"/posting"}),l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.7)"}},l.a.createElement("br",null),l.a.createElement("h2",null,"PO\u0160ILJANJE IZDELKOV"),l.a.createElement("p",null,"Po prejetju naro\u010dila izdelke \u010dimprej zapakirajte in odpo\u0161ljite prek Po\u0161te Slovenije priporo\u010deno ali z navadnim paketom."),l.a.createElement("p",null,"Naslov za po\u0161iljanje boste prejeli v e-sporo\u010dilu, ko boste prejeli naro\u010dilo."),l.a.createElement("p",null,"Stro\u0161kov pakiranja in po\u0161tnine ne morete dolo\u010diti sami, pa\u010d pa se izra\u010dunajo glede na te\u017eo izdelkov, ki jo vpi\u0161ete, tako da vam kupec dodatno pla\u010da stro\u0161ek po\u0161iljanja."),l.a.createElement("br",null),l.a.createElement("p",null,"Imate dodatna vpra\u0161anja? ",l.a.createElement(k.b,{to:"/contentsupport"},"Pi\u0161ite nam")),l.a.createElement("br",null)),l.a.createElement(K,null),l.a.createElement(J,null))},Vt=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:"/protection"}),l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.5)"}},l.a.createElement("p",null,"INFORMACIJE"),l.a.createElement("p",null,"V ZVEZI Z ZA\u0160\u010cITO")),l.a.createElement(K,null),l.a.createElement(J,null))},Kt=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:"/commission"}),l.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.7)"}},l.a.createElement("br",null),l.a.createElement("h2",null,"PROVIZIJA"),l.a.createElement("p",null,"Provizijo od prodaje pla\u010da prodajalec, in sicer v znesku 0.5 \u20ac + 5 % od zneska naro\u010dila."),l.a.createElement("p",null,"To pomeni, da bo priliv v e-denarnico prodajalca zmanj\u0161an za znesek provizije."),l.a.createElement("br",null)),l.a.createElement(K,null),l.a.createElement(J,null))},Wt=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.search=function(){var e=n.state.searchFor;""===e&&(e="nothingtosearchfor"),fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({signal:n.abortController.signal,searchFor:e})}).then((function(e){return e.json()})).then((function(e){return n.setState({ads:e,numPages:Math.floor(e.length/n.state.adsPerPage+.99)})})).catch((function(e){return console.error("Critical failure: "+e.message)}))},n.onSearchChange=function(e){n.setState({searchFor:e},(function(){return n.search()}))},n.paginationButtonClick=function(e){var t,a,l;window.location.href.includes("=")?(a=window.location.href,l="=",t=a.substring(0,a.indexOf(l))):t=window.location.href;var r=1;switch(e.target.id){case"first":n.setState({page:1}),window.history.replaceState(null,"",t+"=1");break;case"previous":r=n.state.page>1?n.state.page-1:1,n.setState({page:r}),window.history.replaceState(null,"",t+"="+r);break;case"next":r=n.state.page<n.state.numPages?n.state.page+1:n.state.numPages,n.setState({page:r}),window.history.replaceState(null,"",t+"="+r);break;case"last":n.setState({page:n.state.numPages}),window.history.replaceState(null,"",t+"="+n.state.numPages);break;default:return null}},n.toRender=function(e){var t={width:"100%",border:"2px solid white"},a=n.state.searchFor;return 0===e.length?l.a.createElement("div",{style:{display:"flex",maxWidth:"90vw",minHeight:"30vh",justifyContent:"center"}},l.a.createElement("div",null,l.a.createElement("h2",{style:{color:"white"}},"OPROSTITE, NI\u010cESAR NISMO NA\u0160LI!"))):l.a.createElement("div",null,l.a.createElement("p",{className:"white-back"},"Rezultati iskanja za: ",l.a.createElement("b",null,a)),l.a.createElement("div",{style:{maxWidth:"100%",justifyContent:"center",minHeight:"80vh"}},l.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gridGap:"100px 100px",maxWidth:"100%",margin:"50px 50px"}},e.map((function(e){var a,n=w[e.category];switch(n){case"women":a=P[e.subcategory].value;break;case"men":a=x[e.subcategory].value;break;case"kids":a=T[e.subcategory].value;break;default:a=0}return l.a.createElement("li",{key:e.ad_id,style:{listStyleType:"none"}},l.a.createElement(k.b,{exact:!0,to:"/listings/"+n+"/"+a+"/item?"+e.ad_id},l.a.createElement("img",{src:"/api/"+e.photo1_url,alt:e.ad_id+"somephoto",style:t})))})))))},n.state={searchFor:"",ads:[],adsPerPage:5,numPages:1,page:1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;function t(e,t){return e.substring(e.indexOf(t)+1)}var a,n,l,r="";if(console.log(r),window.location.href.includes("=")){a=window.location.href,n="?",l="=",r=a.substring(a.indexOf(n)+1,a.indexOf(l));var o=parseInt(t(window.location.href,"="));this.setState({page:o})}else r=t(window.location.href,"?");this.setState({searchFor:r},(function(){return e.search()}))}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"render",value:function(){var e,t=this.state.ads.length,a=this.state.adsPerPage,n=this.state.page-1;e=n*a+a<t?(n+1)*a:t;var r=this.state.ads.slice(n*a,e);return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,{callBackParent:this.onSearchChange}),l.a.createElement(V,{pathname:"/searchresults"}),this.toRender(r),l.a.createElement("div",null,l.a.createElement("button",{id:"first",className:"btn_nopad",onClick:this.paginationButtonClick},"PRVA"),l.a.createElement("button",{id:"previous",className:"btn_nopad",onClick:this.paginationButtonClick},"<<"),l.a.createElement("button",{id:"current",className:"btn_nopad"},this.state.page,"/",this.state.numPages),l.a.createElement("button",{id:"next",className:"btn_nopad",onClick:this.paginationButtonClick},">>"),l.a.createElement("button",{id:"last",className:"btn_nopad",onClick:this.paginationButtonClick},"ZADNJA")),l.a.createElement(K,null),l.a.createElement(J,null))}}]),a}(l.a.Component),Gt=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.paginationButtonClick=function(e){var t,a,l;window.location.href.includes("=")?(a=window.location.href,l="=",t=a.substring(0,a.indexOf(l))):t=window.location.href;var r=1;switch(e.target.id){case"first":n.setState({page:1}),window.history.replaceState(null,"",t+"=1");break;case"previous":r=n.state.page>1?n.state.page-1:1,n.setState({page:r}),window.history.replaceState(null,"",t+"="+r);break;case"next":r=n.state.page<n.state.numPages?n.state.page+1:n.state.numPages,n.setState({page:r}),window.history.replaceState(null,"",t+"="+r);break;case"last":n.setState({page:n.state.numPages}),window.history.replaceState(null,"",t+"="+n.state.numPages);break;default:return null}},n.adsDiv=function(){if(0===n.state.ads.length)return l.a.createElement("div",{style:{display:"flex",maxWidth:"90vw",minHeight:"30vh",justifyContent:"center"}},l.a.createElement("div",null,l.a.createElement("h2",{style:{color:"white"}},"OPROSTITE, TA UPORABNIK NIMA AKTIVNIH OGLASOV!")));var e,t=n.state.ads.length,a=n.state.adsPerPage,r=n.state.page-1;e=r*a+a<t?(r+1)*a:t;var o=n.state.ads.slice(r*a,e);return l.a.createElement("div",null,l.a.createElement("div",{style:{display:"flex",maxWidth:"100vw",paddingLeft:"5vw",paddingRight:"5vw"}},l.a.createElement(Et,{ads:o})),l.a.createElement("div",null,l.a.createElement("button",{id:"first",className:"btn_nopad",onClick:n.paginationButtonClick},"PRVA"),l.a.createElement("button",{id:"previous",className:"btn_nopad",onClick:n.paginationButtonClick},"<<"),l.a.createElement("button",{id:"current",className:"btn_nopad"},n.state.page,"/",n.state.numPages),l.a.createElement("button",{id:"next",className:"btn_nopad",onClick:n.paginationButtonClick},">>"),l.a.createElement("button",{id:"last",className:"btn_nopad",onClick:n.paginationButtonClick},"ZADNJA")))},n.state={ads:[],adsPerPage:5,numPages:1,page:1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e,t,a,n,l=this;function r(e,t){return e.substring(e.indexOf(t)+1)}if(window.location.href.includes("=")){t=window.location.href,a="?",n="=",e=t.substring(t.indexOf(a)+1,t.indexOf(n));var o=parseInt(r(window.location.href,"="));this.setState({page:o})}else e=r(window.location.href,"?");fetch("/api/allphotos",{signal:this.abortController.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({type:2,sellerId:e})}).then((function(e){return e.json()})).then((function(e){return l.setState({ads:e,numPages:Math.floor(e.length/l.state.adsPerPage+.99)})})).catch((function(e){return console.error("Critical failure: "+e.message)}))}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(A,null),l.a.createElement(L,null),l.a.createElement(V,{pathname:this.props.location.pathname}),this.adsDiv(),l.a.createElement(J,null))}}]),a}(l.a.Component),Zt=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).makeWomanPaths=function(){return P.map((function(e){return l.a.createElement(f.b,{exact:!0,path:"/listings/women/"+e.value,component:function(){return l.a.createElement(vt,{category:"women",subcategory:e.value})},key:e.value})}))},n.makeManPaths=function(){return x.map((function(e){return l.a.createElement(f.b,{exact:!0,path:"/listings/men/"+e.value,component:function(){return l.a.createElement(vt,{category:"men",subcategory:e.value})},key:e.value})}))},n.makeKidPaths=function(){return T.map((function(e){return l.a.createElement(f.b,{exact:!0,path:"/listings/kids/"+e.value,component:function(){return l.a.createElement(vt,{category:"kids",subcategory:e.value})},key:e.value})}))},n.makeWomanItemPaths=function(){return P.map((function(e){return l.a.createElement(f.b,{exact:!0,path:"/listings/women/"+e.value+"/item",component:tt,key:e.value})}))},n.makeManItemPaths=function(){return x.map((function(e){return l.a.createElement(f.b,{exact:!0,path:"/listings/men/"+e.value+"/item",component:tt,key:e.value})}))},n.makeKidItemPaths=function(){return T.map((function(e){return l.a.createElement(f.b,{exact:!0,path:"/listings/kids/"+e.value+"/item",component:tt,key:e.value})}))},n.state={loggedInUserId:0,loggedInUser:"guest"},n}return Object(b.a)(a,[{key:"render",value:function(){return l.a.createElement(k.a,null,l.a.createElement(f.d,null,l.a.createElement(f.b,{exact:!0,path:"/",component:fe}),l.a.createElement(f.b,{exact:!0,path:"/user_listings",component:Z}),l.a.createElement(f.b,{exact:!0,path:"/user_pastorders",component:H}),l.a.createElement(f.b,{exact:!0,path:"/user_sold",component:Y}),l.a.createElement(f.b,{exact:!0,path:"/user_wallet",component:Q}),l.a.createElement(f.b,{exact:!0,path:"/user_profile",component:ae}),l.a.createElement(f.b,{exact:!0,path:"/signUp_page",component:ge}),l.a.createElement(f.b,{exact:!0,path:"/logIn_page",component:Ce}),l.a.createElement(f.b,{exact:!0,path:"/upload",component:Ze}),l.a.createElement(f.b,{exact:!0,path:"/edit",component:qe}),l.a.createElement(f.b,{exact:!0,path:"/listings?1",component:function(){return l.a.createElement(vt,{category:"0",subcategory:"0"})}}),l.a.createElement(f.b,{exact:!0,path:"/listings/women",component:function(){return l.a.createElement(vt,{category:"women",subcategory:"0"})}}),l.a.createElement(f.b,{exact:!0,path:"/listings/men",component:function(){return l.a.createElement(vt,{category:"men",subcategory:"0"})}}),l.a.createElement(f.b,{exact:!0,path:"/listings/kids",component:function(){return l.a.createElement(vt,{category:"kids",subcategory:"0"})}}),this.makeWomanPaths(),this.makeManPaths(),this.makeKidPaths(),this.makeWomanItemPaths(),this.makeManItemPaths(),this.makeKidItemPaths(),l.a.createElement(f.b,{exact:!0,path:"/item",component:tt}),l.a.createElement(f.b,{exact:!0,path:"/sellerlistings",component:Gt}),l.a.createElement(f.b,{exact:!0,path:"/shoppingcart",component:it}),l.a.createElement(f.b,{exact:!0,path:"/shoppingcart/placeorder",component:dt}),l.a.createElement(f.b,{exact:!0,path:"/chatpage",component:kt}),l.a.createElement(f.b,{exact:!0,path:"/chatpage/conversation",component:St}),l.a.createElement(f.b,{exact:!0,path:"/chatpage/conversation/all",component:jt}),l.a.createElement(f.b,{exact:!0,path:"/forgotpassword",component:At}),l.a.createElement(f.b,{exact:!0,path:"/requestconfirmemail",component:Nt}),l.a.createElement(f.b,{exact:!0,path:"/contentsupport",component:Pt}),l.a.createElement(f.b,{exact:!0,path:"/technicalsupport",component:Tt}),l.a.createElement(f.b,{exact:!0,path:"/idcard",component:Rt}),l.a.createElement(f.b,{exact:!0,path:"/advertising",component:Ut}),l.a.createElement(f.b,{exact:!0,path:"/cookies",component:_t}),l.a.createElement(f.b,{exact:!0,path:"/privacy",component:Dt}),l.a.createElement(f.b,{exact:!0,path:"/buying",component:Lt}),l.a.createElement(f.b,{exact:!0,path:"/selling",component:Jt}),l.a.createElement(f.b,{exact:!0,path:"/posting",component:Bt}),l.a.createElement(f.b,{exact:!0,path:"/protection",component:Vt}),l.a.createElement(f.b,{exact:!0,path:"/commission",component:Kt}),l.a.createElement(f.b,{exact:!0,path:"/searchresults",component:Wt}),l.a.createElement(f.b,{exact:!0,path:"/paymentstatus",component:bt}),l.a.createElement(f.a,{to:"/404"})))}}]),a}(l.a.Component),Ft=Object(i.b)((function(e){return{loggedInUser:e.loggedInUser,loggedInUserId:e.loggedInUserId}}))(Zt),Ht=a(74),qt=a.n(Ht);o.a.render(l.a.createElement(i.a,{store:h},l.a.createElement(Ft,null),l.a.createElement(qt.a,{location:"bottom",buttonText:"STRINJAM SE",cookieName:"basiccookies",style:{background:"#2B373B"},buttonStyle:{color:"#4e503b",fontSize:"13px"},expires:150,overlay:!0},"Spletna stran uporablja osnovne pi\u0161kotke za nemoteno delovanje. Ve\u010d o pi\u0161kotkih si lahko preberete ",l.a.createElement("a",{href:"/privacy",target:"_blank",style:{color:"white"}},"tukaj"),".")),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},68:function(e,t,a){e.exports=a.p+"static/media/novomoden.446e65ba.png"},76:function(e,t,a){e.exports=a(139)},84:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.2306232f.chunk.js.map
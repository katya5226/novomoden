{"version":3,"sources":["redux/actions.js","redux/reducers.js","redux/store.js","serviceWorker.js","components/UpperLine.jsx","components/Header.jsx","constants/index.js","components/NavBar.jsx","pages/UserPage/UserSideBar.jsx","components/Bottom.jsx","components/BreadCrumbs.jsx","components/AdSpace.jsx","pages/UserPage/UserListings.jsx","pages/UserPage/PastOrders.jsx","pages/UserPage/Sold.jsx","pages/UserPage/Wallet.jsx","pages/UserPage/Profile.jsx","components/Birthday.jsx","components/Countries.jsx","components/SignUpForm.jsx","pages/SignUpPage.jsx","components/MainPagePhoto.jsx","pages/HomePage.jsx","components/SignInForm.jsx","pages/LogInPage.jsx","functions/index.js","pages/Publish/ImgUpload.jsx","pages/Publish/SelectForms.jsx","pages/Publish/UploadPage.jsx","pages/Publish/EditPage.jsx","pages/Listing/ItemDescription.jsx","pages/Listing/Item.jsx","pages/Listing/ItemPage.jsx","pages/ShoppingCart/SumForSeller.jsx","pages/ShoppingCart/CartListingSeller.jsx","pages/ShoppingCart/CartGroup.jsx","pages/ShoppingCart/ShoppingCartPage.jsx","pages/ShoppingCart/OrderListing.jsx","pages/ShoppingCart/FinishOrderData.jsx","pages/ShoppingCart/OrderPage.jsx","pages/ShoppingCart/PaymentStatus.jsx","pages/Listings/CategoryListings.jsx","pages/Listings/ListingsPage.jsx","pages/Chat/ChatPage.jsx","pages/Chat/NewMsg.jsx","pages/Chat/Conversation.jsx","pages/Chat/AllMessages.jsx","pages/ForgotPassword.jsx","pages/RequestConfirmEmail.jsx","pages/Support/ContentSupport.jsx","pages/Support/TechnicalSupport.jsx","pages/Bottom/IDcard.jsx","pages/Bottom/Advertising.jsx","pages/Bottom/Cookies.jsx","pages/Bottom/Privacy.jsx","pages/Bottom/Buying.jsx","pages/Bottom/Selling.jsx","pages/Bottom/Posting.jsx","pages/Bottom/Protection.jsx","pages/Bottom/Commission.jsx","pages/Listings/SearchResults.jsx","pages/Listings/SellerListings.jsx","App.jsx","index.js","novomoden.png"],"names":["logIn","name","uid","type","logOut","saveAtt","att","initialState","loggedInUser","loggedInUserId","saveAttempt","cartUpdate","page","rootReducer","action","createStore","undefined","window","__REDUX_DEVTOOLS_EXTENSION__","Boolean","location","hostname","match","UpperLine","props","abortController","AbortController","removeFromCart","res","items","cart","JSON","parse","localStorage","getItem","userId","i","length","d","j","ad_id","toString","splice","indexOf","setItem","stringify","deleteFromStorage","fetch","signal","then","json","catch","e","console","error","message","goHome","href","state","cartNum","unreadMsg","handleClickLogOut","bind","this","method","headers","body","setState","abort","updated","linkStyle","textDecoration","color","className","exact","to","style","activeStyle","fontWeight","textShadow","backgroundColor","padding","border","paddinRight","cursor","onClick","join","React","Component","mapDispatchToProps","connect","Header","src","Logo","alt","width","categoryNames","women","value","label","men","kids","category","material","clothsize","condition","breadCrumbsConsts","NavBar","womanPaths","Constants","slice","map","key","manPaths","kidPaths","onSearchChange","searchFor","target","onSearchClick","includes","callBackParent","handleKeyDown","event","id","background","height","borderRadius","margin","display","placeholder","onChange","onKeyDown","minWidth","verticalAlign","size","UserSideBar","handleClick","callBack","Bottom","makeSlovene","word","sWord","BreadCrumbs","linksplit","pathname","substr","split","links","Array","fill","n","textAlign","link","index","AdSpace","UserListings","handleDeleteRequest","tryingToDelete","handleDelete","adId","success","displayPhotos","cancelDelete","paginationButtonClick","newpage","numPages","renderListings","till","imgStyle","marginRight","textStyle","numAds","listings","adsPerPage","p","adsPortion","listing","subcategory","listStyleType","photo1_url","substring","float","switchRender","open","position","onClose","closeModal","justifyContent","urls","Math","floor","PastOrders","confirmGoodsReceived","callBackEnd","backendPath","newStatus","orderId","confirmReceived","openDispute","fetchOrders","orders","perPage","cancelConfirm","formatDate","date","Date","month","getMonth","day","getDate","year","getFullYear","mapOrders","numOrders","ordersPortion","order","order_id","date_modified","price","postage","seller","ad_ids","status","seller_id","dispute","Sold","confirmGoodsSent","confirmSent","buyer","Wallet","callUserWallet","amount","requestWithdraw","walletInfo","onWithdrawButtonClick","cancelWithdraw","wallet","Balance","Amount","Currency","availableBalance","scs","Profile","getProfileInfo","requestType","profileInfo","onEditButtonClick","edit","changePhoneNumber","values","phone_number","changeAddress","updateInfo","preventDefault","log","editInfo","changePassword","checkPassStrength","warning","password","updatePassword","editPass","visibilityChange","visible","iconStyle","paddingTop","first_name","last_name","street_ship","post_number_ship","town_ship","onSubmit","maxLength","iban","bic","marginLeft","lineHeight","pass","RegExp","test","warnStyle","Birthday","yearArr","push","makeSelectDay","makeSelectYear","abb","country","makeSelectCountry","Countries","nationality","SignUpForm","paddingLeft","paddingRight","handleClickSignUp","firstName","handleChange","lastName","street","postNumber","town","region","phoneNumber","email","birthday","SignUpPage","loading","enjoyer","UTC","getTime","result","signUpText","signUpSuccess","text","registrationSuccess","code","changePostNumber","changeBirthday","loggedInId","Number","MainPagePhoto","HomePage","SignInForm","maxWidth","handleClickLogIn","loginEmail","loginPassword","LogInPage","logInText","history","confirmed","marginTop","doUpload","selection","user","photos","data","FormData","files","photo","file","append","crops","crop","x","y","Object","keys","forEach","axios","post","cancelToken","token","userName","findIndex","array","nameWeAreLookingFor","findIndexByValue","ImgUpload","onSelectFile","fileExtension","replace","readImageFile","Resizer","imageFileResizer","uri","cropUrl","w","h","reader","FileReader","self","onload","img","Image","readAsDataURL","onImageLoaded","image","imageRef","dimensions","offsetHeight","offsetWidth","onCropComplete","makeClientCrop","onCropChange","percentCrop","saveCrop","croppedImageUrl","parseInt","unit","aspect","getCroppedImg","fileName","canvas","document","createElement","scaleX","naturalWidth","scaleY","naturalHeight","getContext","drawImage","Promise","resolve","reject","toBlob","blob","URL","revokeObjectURL","fileUrl","createObjectURL","ruleOfThirds","onComplete","PureComponent","SelectForms","fillTheForm","receivedObject","receivedValues","brand","descrtext","weight","changeCategory","selected","saveSelection","changeWomen","changeMen","changeKids","changeSize","changeMaterial","changeCondition","changeBrand","changeWeight","changePrice","changeDescription","listFurther","warnWomenStyle","container","provided","warnMenStyle","warnKidsStyle","styles","options","renderSwitch","param","subcategName","subcategoryName","warnCategoryStyle","warnSizeStyle","warnMaterialStyle","warnConditionStyle","decimalSeparator","allowLeadingZeros","allowNegative","suffix","isNumericString","onValueChange","UploadPage","axiosSignal","CancelToken","source","checkIfAll","check","onImageSaved","concat","item","onSelectionSaved","uploadStatus","handleUpload","cancel","queryString","search","EditPage","uploadedPhotos","fileWarning","srcsToPass","editStatus","arr","photo2_url","photo3_url","hspace","ItemDescription","addToCart","addingResult","initialCart","itemAdded","showCart","clear","handleMsgRequest","msgRequest","handleConfirm","proceedToMsg","descriptDiv","categ","sellerId","fontSize","buttonDisabled","onLoadRecaptcha","verifyCallback","script","async","appendChild","captchaDemo","reset","recaptchaToken","ref","el","data-theme","render","sitekey","onloadCallback","Item","origPhotos","focused","ItemPage","cartUpdated","str","char","SumForSeller","handleClickProceed","ids","available","fetching","sum","borderBottom","borderTop","CartListingSeller","des","description","subcategorySlo","username","update","CartGroup","ShoppingCartPage","getCart","sortedCart","reMount","listCart","sCart","componentArray","sellerArray","listingArray","len","OrderListing","sc","findSubcategory","FinishOrderData","shippingAddress","callbackParent","OrderPage","cancelOrder","canceled","adIds","finishOrder","priceSum","postageSum","user_id","redirectUrl","handleOrder","orderStatus","goToPage","redUrl","finished","minHeight","PaymentStatus","timer","checkPayment","eventId","setTimeout","clearTimeout","CategoryListings","priceTagStyle","zIndex","gridTemplateColumns","gridGap","ads","ad","ListingsPage","replaceState","sortSelect","sortBy","sortedAds","sort","a","b","adsDiv","prevProps","path","ChatPage","conversationsFetch","conversations","unread","iLId","id1","id2","fetchNumberOfUnread","num","numConvers","conversPortion","paddingBottom","conv","conversant","conversant1","conversant2","numunread","textTransform","interval","setInterval","clearInterval","NewMsg","updateMsg","newMsg","onClickSend","Conversation","msgFetch","interlocutorId","interlocutor","conversantId","results","messages","time","date_created","sender","msg","sendMsg","receiverId","N","AllMessages","ForgotPassword","sendRequestForReset","marginBottom","RequestConfirmEmail","sendRequest","resultText","ContentSupport","typeBtnclick","questionType","updateOrderNumber","orderNumber","typect","reclamationDiv","TechnicalSupport","IDcard","Advertising","Cookies","Privacy","listStyle","listStylePosition","Buying","Selling","Posting","Protection","Commission","SearchResults","toRender","subStrAfterChars","char1","char2","SellerListings","App","makeWomanPaths","component","makeManPaths","makeKidPaths","makeWomanItemPaths","makeManItemPaths","makeKidItemPaths","ReactDOM","store","buttonText","cookieName","buttonStyle","expires","overlay","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.2306232f.chunk.js","sourcesContent":["export const LOG_IN = 'LOG_IN';\nexport const LOG_OUT = 'LOG_OUT';\nexport const SAVE_ATT = 'SAVE_ATT';\n//export const ADD_TO_CART = 'ADD_TO_CART';\n//export const REMOVE_FROM_CART = 'REMOVE_FROM_CART';\n//export const UPDATE_CART = 'UPDATE_CART';\n//export const ADD_TO_ORDER = 'ADD_TO_ORDER';\n\nexport function logIn(name, uid) {\n  return { type: LOG_IN, name: name, uid: uid };\n}\n\nexport function logOut() {\n  return { type: LOG_OUT };\n}\n\nexport function saveAtt(att) {\n    return { type: SAVE_ATT, att: att };\n}\n\n/*export const addToCart = (id) => {\n    return { type: ADD_TO_CART, id: id }\n}\n\nexport const removeFromCart = (id) => {\n    return { type: REMOVE_FROM_CART, id: id }\n}\n\nexport const updateCart = (items) => {\n    return { type: UPDATE_CART, items: items }\n}\n\nexport const addToOrder = (id) => {\n    return { type: ADD_TO_ORDER, id: id }\n}*/","import { LOG_IN,\n        LOG_OUT,\n        SAVE_ATT } from './actions';\n\n\nconst initialState = {\n    loggedInUser: 'guest',\n    loggedInUserId: 0,\n    saveAttempt: false,\n    cartUpdate: false,\n    page: 1\n};\n\nfunction rootReducer(state = initialState, action) {\n\n  switch(action.type) {\n    case LOG_IN:\n      return { loggedInUser: action.name, loggedInUserId: action.uid };\n\n    case LOG_OUT:\n      return { loggedInUser: 'guest', loggedInUserId: 0 };\n\n    case SAVE_ATT:\n        return { saveAttempt: action.att };\n    \n    /*case ADD_TO_CART:\n        //updatedCart = state.cart.push(action.id);\n        return{\n            cart: [...initialState.cart, action.id]\n        }\n    case REMOVE_FROM_CART:\n        let updatedCart = initialState.cart.splice(state.cart.indexOf(action.id), 1 );\n        return{\n            cart: updatedCart\n        }\n    case UPDATE_CART:\n        return{\n            cart: action.items\n        }\n    case ADD_TO_ORDER:\n        //updatedCart = state.cart.push(action.id);\n        return{ order: action.id };*/\n\n    default:\n      return initialState;\n  };\n}\n\nexport default rootReducer;","import { createStore } from 'redux';\nimport rootReducer from './reducers';\n\nexport default createStore(\n  rootReducer,\n  undefined,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport { NavLink} from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { logIn, logOut } from '../redux/actions';\n\nclass UpperLine extends React.Component {\n\n\tconstructor(props) {\n        super(props);\n        this.state = {\n            cartNum: 0,\n            unreadMsg: 0\n        };\n        this.handleClickLogOut = this.handleClickLogOut.bind(this);\n    }\n\n    abortController = new AbortController();\n\tcomponentDidMount() {\n\t\tfetch('/api/sessionroutes', {signal: this.abortController.signal})\n\t\t\t.then(res => res.json())\n            .then(res => {if(res.userId !== '0') {\n                            this.props.logIn(res.loggedInUser, res.userId);\n                            let cart = JSON.parse(window.localStorage.getItem(res.userId));\n                            if(cart) {\n                                //this.setState({cartNum: cart.length})\n                                (cart.length) && fetch('/api/cartListings', {\n                                    signal: this.abortController.signal,\n                                    method: 'POST',\n                                    headers: {\n                                        'Content-Type': 'application/json',\n                                        'Accept': 'application/json'\n                                    },\n                                    body: JSON.stringify(cart)\n                                }).then(res => res.json())\n                                    .then(res => {this.setState({cartNum: res.length}, () => {(res.length !== cart.length) && this.deleteFromStorage(res)})})\n                                    .catch(e => console.error(\"Critical failure: \" + e.message));\n                            }\n                            fetch('/api/fetchallunread',{\n                                signal: this.abortController.signal,\n                                method: 'POST',\n                                headers: {\n                                    'Content-Type': 'application/json',\n                                    'Accept': 'application/json'\n                                }\n                            })\n                            .then(res => res.json())\n                            .then(res => this.setState({unreadMsg: res}))\n                            .catch(e => console.error(\"Critical failure: \" + e.message));\n                        }\n            })\n            .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    removeFromCart = (res, items) => {\n        let cart = JSON.parse(window.localStorage.getItem(res.userId));\n        for (let i = 0; i < cart.length; i++) {\n            let d = 0;\n            for (let j = 0; j < items.length; j++) {\n                if (cart[i] === items[j].ad_id.toString()) d = 1;\n            }\n            if (d === 0) {\n                cart.splice(cart.indexOf(cart[i]), 1);\n                window.localStorage.setItem(res.userId, JSON.stringify(cart));\n            }\n        }\n    }\n\n    deleteFromStorage = (items) => {\n        fetch('/api/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => {this.removeFromCart(res, items);})\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    handleClickLogOut() {\n        window.location.href = '/';\n        fetch('/api/loginroutes', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                type: \"logout\"\n            })\n        }).then(res => res.json())\n            .then(res => this.props.logIn(res.loggedInUser, res.userId))\n            .then(() => this.goHome())\n            .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    goHome = () => {\n        window.location.href = '/';\n    }\n\n    render() {\n        \n        let cartNum = this.state.cartNum;\n        this.props.updated && (cartNum += this.props.updated);\n        let unreadMsg = this.state.unreadMsg;\n\n        const linkStyle = {\n            textDecoration: 'none',\n            color: 'black'\n        }\n\n        const userBtnStyle = {\n            color: 'white',\n            textShadow: '1px 1px black',\n            backgroundColor: 'rgb(255, 255, 255, 0)',\n            padding: 0,\n            border: 'none'\n        }\n\n        const logoutStyle = {\n            color: 'white',\n            textShadow: '1px 1px black',\n            backgroundColor: 'rgb(255, 255, 255, 0)',\n            paddinRight: 10,\n            border: 'none',\n            textDecoration: 'underline',\n            cursor: 'pointer'\n        }\n\n        return(\n            <div className=\"Upper-line\">\n                {this.props.loggedInUser === 'guest' ? <button className = 'btn'>\n                    <NavLink  exact to=\"/login_page\" className=\"first\" style={linkStyle} activeStyle={{fontWeight: \"bold\"}}>PRIJAVA</NavLink></button> :\n                <>\n                    <button style = {userBtnStyle}>Živjo {this.props.loggedInUser}! </button>\n                    <button\n                        style = {logoutStyle}\n                        onClick={this.handleClickLogOut}> (odjava)\n                    </button>\n                    <NavLink\n                        exact to=\"/user_listings\"\n                        className={['btn', 'first'].join(' ')}\n                        style={linkStyle}\n                        activeStyle={{fontWeight: \"bold\"}}>MOJA STRAN\n                    </NavLink>\n                    <NavLink \n                        exact to=\"/chatpage\"\n                        className={['btn', 'first'].join(' ')}\n                        style={linkStyle}\n                        activeStyle={{fontWeight: \"bold\"}}>{!unreadMsg ? 'SPOROČILA' : 'SPOROČILA (' + unreadMsg + ')'}\n                    </NavLink>\n                    <NavLink\n                        exact to=\"/shoppingcart\"\n                        className={['btn', 'first'].join(' ')}\n                        style={linkStyle}\n                        activeStyle={{fontWeight: \"bold\"}}>{!cartNum ? 'KOŠARICA' : 'KOŠARICA (' + cartNum + ')'}\n                    </NavLink>\n                </>}\n            </div>\n        )\n\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId,\n    };\n  };\n  \n  const mapDispatchToProps = {\n    logIn: logIn,\n    logOut: logOut\n  };\n\nexport default connect(mapStateToProps, mapDispatchToProps) (UpperLine);","import React from 'react';\nimport Logo from '../novomoden.png';\nimport { NavLink } from 'react-router-dom';\nimport '../App.css';\n\nconst Header = () => {\n\n    return (\n        <header className='App-header'>\n            <NavLink exact to = '/'>\n                <img src={Logo} alt='logo' width='300px'/>\n            </NavLink>\n        </header>\n    )\n}\n\nexport default Header;","//SelectForms.jsx\n\nexport const categoryNames = ['category', 'women', 'men', 'kids', 'clothsize', 'material', 'condition']\n\nexport const women = [\n    { value: '', label: 'Izberi kategorijo' },\n    { value: 'dresses', label: 'Obleke' },\n    { value: 'specdresses', label: 'Obleke za posebne priložnosti' },\n    { value: 'tops', label: 'Majice in topi' },\n    { value: 'topsls', label: 'Majice z dolgimi rokavi' },\n    { value: 'shirts', label: 'Srajce in bluze' },\n    { value: 'sweaters', label: 'Puloverji' },\n    { value: 'cardigans', label: 'Jopice' },\n    { value: 'jackets', label: 'Jakne in plašči' },\n    { value: 'trousers', label: 'Hlače' },\n    { value: 'jeans', label: 'Kavbojke' },\n    { value: 'shorts', label: 'Kratke hlače' },\n    { value: 'skirts', label: 'Krila' },\n    { value: 'tracksuits', label: 'Trenirke' },\n    { value: 'nightwear', label: 'Oblačila za spanje' },\n    { value: 'sportswear', label: 'Športna oblačila' },\n    { value: 'underwear', label: 'Spodnje perilo' },\n    { value: 'swimsuits', label: 'Kopalke' },\n    { value: 'sets', label: 'Kompleti' },\n    { value: 'socks', label: 'Nogavice in hlačne nogavice' },\n    { value: 'maternitywear', label: 'Oblačila za nosečnice' },\n    { value: 'shoes', label: 'Obutev' },\n    { value: 'accessories', label: 'Dodatki' }\n]\n\nexport const men = [\n    { value: '', label: 'Izberi kategorijo' },\n    { value: 'suits', label: 'Obleke' },\n    { value: 'specdresses', label: 'Obleke za posebne priložnosti' },\n    { value: 'sets', label: 'Kompleti' },\n    { value: 'tops', label: 'Majice' },\n    { value: 'shirts', label: 'Srajce' },\n    { value: 'sweaters', label: 'Puloverji'},\n    { value: 'cardigans', label: 'Jopice' },\n    { value: 'jackets', label: 'Jakne in plašči' },\n    { value: 'trousers', label: 'Hlače' },\n    { value: 'jeans', label: 'Kavbojke' },\n    { value: 'shorts', label: 'Kratke hlače' },\n    { value: 'tracksuits', label: 'Trenirke' },\n    { value: 'nightwear', label: 'Oblačila za spanje' },\n    { value: 'sportswear', label: 'Športna oblačila' },\n    { value: 'underwear', label: 'Spodnje perilo' },\n    { value: 'swimshorts', label: 'Kopalke' },\n    { value: 'socks', label: 'Nogavice' },\n    { value: 'shoes', label: 'Obutev' },\n    { value: 'accessories', label: 'Dodatki' }\n]\n\nexport const kids = [\n    { value: '', label: 'Izberi kategorijo' },\n    { value: '9m', label: '0 do 9 mesecev' },\n    { value: '2y', label: '1 do 2 leti' },\n    { value: 'g6y', label: 'Deklice 3 do 6 let' },\n    { value: 'b6y', label: 'Dečki 3 do 6 let' },\n    { value: 'g10y', label: 'Deklice 7 do 10 let' },\n    { value: 'b10y', label: 'Dečki 7 do 10 let' },\n    { value: 'g16y', label: 'Deklice 11 do 16 let' },\n    { value: 'b16y', label: 'Dečki 11 do 16 let' }\n]\n\nexport const category = [\n    { value: '', label: 'Izberi kategorijo' },\n    { value: 'women', label: 'Ženske' },\n    { value: 'men', label: 'Moški' },\n    { value: 'kids', label: 'Otroci' }\n]\n\nexport const material = [\n    { value: '', label: 'Izberi material' },\n    { value: 'cotton', label: 'Bombaž' },\n    { value: 'lan', label: 'Lan' },\n    { value: 'polyester', label: 'Poliester' },\n    { value: 'viscose', label: 'Viskoza' },\n    { value: 'lycra', label: 'Lycra' },\n    { value: 'polyamid', label: 'Poliamid' },\n    { value: 'other', label: 'Drugo' }\n]\n\nexport const clothsize = [\n    { value: '', label: 'Izberi velikost' },\n    { value: 'XS', label: 'XS (ženska 32,34 moška 40,42)' },\n    { value: 'S', label: 'S (ženska 36,38 moška 44,46)' },\n    { value: 'M', label: 'M (ženska 40,42 moška 48,50)' },\n    { value: 'L', label: 'L (ženska 44,46 moška 52,54)' },\n    { value: 'XL', label: 'XL (ženska 48,50 moška 56,58)' }\n]\n\nexport const condition = [\n    { value: '', label: 'Izberi stanje' },\n    { value: '1', label: 'Novo, nikoli nošeno' },\n    { value: '2', label: 'Do trikrat nošeno' },\n    { value: '3', label: 'Malo nošeno' },\n    { value: '4', label: 'Veliko nošeno ali starejše' }\n]\n\nexport const breadCrumbsConsts = [\n    { value: 'Home', label: 'domov'},\n    { value: 'user_listings', label: 'moji oglasi'},\n    { value: 'user_pastorders', label: 'moja naročila'},\n    { value: 'user_sold', label: 'prodano'},\n    { value: 'user_profile', label: 'profil'},\n    { value: 'signUp_page', label: 'registracija'},\n    { value: 'login_page', label: 'prijava'},\n    { value: 'contentsupport', label: 'vsebinska pomoč'},\n    { value: 'technicalsupport', label: 'tehnična pomoč'},\n    { value: 'idcard', label: 'vizitka'},\n    { value: 'advertising', label: 'oglaševanje'},\n    { value: 'privacy', label: 'politika zasebnosti'},\n    { value: 'cookies', label: 'piškotki'},\n    { value: 'buying', label: 'nakupovanje'},\n    { value: 'selling', label: 'prodaja'},\n    { value: 'posting', label: 'pošiljanje'},\n    { value: 'protection', label: 'zaščita'},\n    { value: 'commission', label: 'provizija'},\n    { value: 'searchresults', label: 'rezultati iskanja'},\n    { value: 'upload', label: 'objavi oglas'},\n    { value: 'item', label: 'izdelek'},\n    { value: 'edit', label: 'uredi_oglas'},\n    { value: 'shoppingcart', label: 'košarica'},\n    { value: 'placeorder', label: 'oddaj naročilo'},\n    { value: 'chatpage', label: 'pošta'},\n    { value: 'conversation', label: 'pogovor'},\n    { value: 'all', label: 'vse'},\n    { value: 'forgotpassword', label: 'pozabljeno geslo'},\n    { value: 'requestconfirmemail', label: 'ponovno pošlji'},\n    { value: 'listings', label: 'oglasi'},\n    { value: 'sellerlistings', label: 'vsi oglasi prodajalca'},\n    { value: 'women', label: 'ženske' },\n    { value: 'men', label: 'moški' },\n    { value: 'kids', label: 'otroci' },\n    { value: 'dresses', label: 'obleke' },\n    { value: 'specdresses', label: 'obleke za posebne priložnosti' },\n    { value: 'tops', label: 'majice in topi' },\n    { value: 'topsls', label: 'majice z dolgimi rokavi' },\n    { value: 'shirts', label: 'srajce in bluze' },\n    { value: 'sweaters', label: 'puloverji' },\n    { value: 'cardigans', label: 'Jopice' },\n    { value: 'jackets', label: 'jakne in plašči' },\n    { value: 'trousers', label: 'hlače' },\n    { value: 'jeans', label: 'kavbojke' },\n    { value: 'shorts', label: 'kratke hlače' },\n    { value: 'skirts', label: 'krila' },\n    { value: 'tracksuits', label: 'trenirke' },\n    { value: 'nightwear', label: 'oblačila za spanje' },\n    { value: 'sportswear', label: 'športna oblačila' },\n    { value: 'underwear', label: 'spodnje perilo' },\n    { value: 'swimsuits', label: 'kopalke' },\n    { value: 'sets', label: 'kompleti' },\n    { value: 'socks', label: 'nogavice in hlačne nogavice' },\n    { value: 'maternitywear', label: 'oblačila za nosečnice' },\n    { value: 'shoes', label: 'obutev' },\n    { value: 'accessories', label: 'dodatki' },\n    { value: 'swimshorts', label: 'kopalke' },\n    { value: '9m', label: '0 do 9 mesecev' },\n    { value: '2y', label: '1 do 2 leti' },\n    { value: 'g6y', label: 'deklice 3 do 6 let' },\n    { value: 'b6y', label: 'dečki 3 do 6 let' },\n    { value: 'g10y', label: 'deklice 7 do 10 let' },\n    { value: 'b10y', label: 'dečki 7 do 10 let' },\n    { value: 'g16y', label: 'deklice 11 do 16 let' },\n    { value: 'b16y', label: 'dečki 11 do 16 let' },\n    \n]","import React from 'react';\nimport { NavLink} from \"react-router-dom\";\nimport { IoMdSearch } from \"react-icons/io\";\nimport '../App.css';\nimport * as Constants from '../constants';\n\n\nclass NavBar extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            searchFor: ''\n\t\t};\n    }\n\n    womanPaths = () => {\n        return Constants.women.slice(1).map((category) => <li key = {category.value}><NavLink to={'/listings/women/' + category.value}>{category.label}</NavLink></li>);   \n    }\n    manPaths = () => {\n        return Constants.men.slice(1).map((category) => <li key = {category.value}><NavLink to={'/listings/men/' + category.value}>{category.label}</NavLink></li>);   \n    }\n    kidPaths = () => {\n        return Constants.kids.slice(1).map((category) => <li key = {category.value}><NavLink to={'/listings/kids/' + category.value}>{category.label}</NavLink></li>);   \n    }\n\n    onSearchChange = (e) => {\n        this.setState({searchFor: e.target.value})\n    }\n\n    onSearchClick = () => {\n        const path = window.location.href;\n        if(path.includes('searchresults')) {\n            this.props.callBackParent(this.state.searchFor);\n            window.location.href = `?${this.state.searchFor}`;\n        }\n        else {\n            window.location.href = `/searchresults?${this.state.searchFor}`;\n        }\n    }\n\n    handleKeyDown = (event) => {\n        if (event.key === 'Enter') {\n           this.onSearchClick();\n        }\n    }\n\n    render() {\n\n        const searchBtnStyle = {\n            color: 'black',\n            height: '100%',\n            minWidth: '50px',\n            backgroundColor: 'rgb(255, 255, 255, 0)',\n            borderRadius: '0',\n            margin: '0px',\n            padding: '0px',\n            verticalAlign: 'middle',\n            border: 'none',\n            cursor: 'pointer'\n        }\n        \n        const searchStyle = {\n            width: '200px',\n            height: '100%',\n            border: 'none',\n            backgroundColor: 'rgb(255, 255, 255, 0)',\n            borderRadius: '0',\n            margin: '0px',\n            display: 'inline-block'\n        }\n\n        return(\n            <nav id=\"nav\">\n                <ul id=\"navigation\">\n                    <li><NavLink  exact to=\"/\" className=\"first\" activeStyle={{background: \"#525050\"}}>DOMOV</NavLink></li>\n                    <li><NavLink to=\"/listings/women\" activeStyle={{background: \"#525050\"}}>ŽENSKE</NavLink>\n                        <ul>\n                            {this.womanPaths()}\n                        </ul>\n                    </li>\n                    <li><NavLink to=\"/listings/men\" activeStyle={{background: \"#525050\"}}>MOŠKI</NavLink>\n                        <ul>\n                            {this.manPaths()}\n                        </ul>\n                    </li>\n                    <li><NavLink to=\"/listings/kids\" activeStyle={{background: \"#525050\"}}>OTROCI</NavLink>\n                        <ul>\n                            {this.kidPaths()}\n                        </ul>\n                    </li>\n                    <li>\n                        <input\n                            style = {searchStyle}\n                            type=\"text\"\n                            name=\"search\"\n                            value={this.state.searchFor}\n                            placeholder=\"Išči ...\"\n                            onChange = {this.onSearchChange}\n                            onKeyDown={this.handleKeyDown}>\n                        </input>\n                    </li>\n                    <NavLink exact to = {'/searchresults?' + this.state.searchFor} style = {searchBtnStyle} onClick = {this.onSearchClick}>\n                        <IoMdSearch size = '2em'/>\n                    </NavLink>\n                </ul>\n            </nav>\n        )\n\n    }\n}\n\nexport default NavBar\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport '../../App.css';\n\nclass UserSideBar extends React.Component {\n\n    handleClick = (event) => this.props.callBack(event.target.id);\n\n    render() {\n\n        return(\n            <div className='sidenav'>\n                <NavLink id='listings' exact to = {'/user_listings'} className='nonActive' activeStyle = {{color: 'white'}}>MOJI OGLASI</NavLink>\n                <NavLink id='pastorders' exact to = {'/user_pastorders'} className='nonActive' activeStyle = {{color: 'white'}}>MOJA NAROČILA</NavLink>\n                <NavLink id='sold' exact to = {'/user_sold'} className='nonActive' activeStyle = {{color: 'white'}}>PRODANO</NavLink>\n                <NavLink id='wallet' exact to = {'/user_wallet'} className='nonActive' activeStyle = {{color: 'white'}}>MOJA DENARNICA</NavLink>\n                <NavLink id='profile' exact to = {'/user_profile'} className='nonActive' activeStyle = {{color: 'white'}}>PROFIL</NavLink>\n            </div>\n        )\n        //<button id=\"shranjeno\" onClick={this.handleClick} className={this.props.saved}>SHRANJENO</button>\n\n    }\n\n}\n\n\nexport default UserSideBar;","import React from 'react';\nimport { NavLink as Link} from 'react-router-dom';\nimport '../App.css';\n\nconst Bottom = () => {\n    return(\n        <div className=\"ContactDiv-container\">\n        <ul>\n            <li>\n                <ul>\n                    <li style={{textDecoration: \"underline\"}}>KUPI/PRODAJ</li>\n                    <li><Link exact to=\"/buying\" className=\"Link\">Nakupovanje</Link></li>\n                    <li><Link exact to=\"/selling\" className=\"Link\">Prodaja</Link></li>\n                    <li><Link exact to=\"/posting\" className=\"Link\">Pošiljanje</Link></li>\n                    {/* <li><Link exact to=\"/protection\" className=\"Link\">Zaščita</Link></li> */}\n                    <li><Link exact to=\"/commission\" className=\"Link\">Provizija</Link></li>\n                </ul>\n            </li>\n            <li>\n                <ul>\n                    <li style={{textDecoration: \"underline\"}}>O NOVOMODEN.SI</li>\n                    <li><Link exact to=\"/idcard\" className=\"Link\">Vizitka</Link></li>\n                    <li><Link exact to=\"/advertising\" className=\"Link\">Oglaševanje</Link></li>\n                    <li><Link exact to=\"/privacy\" className=\"Link\">Politika zasebnosti</Link></li>\n                    <li><Link exact to=\"/cookies\" className=\"Link\">Piškotki</Link></li>\n                </ul>\n            </li>\n            <li>\n                <ul>\n                    <li style={{textDecoration: \"underline\"}}>PODPORA</li>\n                    <li><Link exact to=\"/contentsupport\" className=\"Link\">Vsebinska podpora</Link></li>\n                    <li><Link exact to=\"/technicalsupport\" className=\"Link\">Tehnična podpora</Link></li>\n                </ul>\n            </li>\n        </ul>\n    </div>\n    )\n}\n export default Bottom;","import React from 'react'\nimport { NavLink } from \"react-router-dom\"\nimport * as Constants from '../constants';\nimport '../App.css';\n\n\nconst makeSlovene = (word) => {\n\n    let sWord = '';\n    \n    for(let i=0; i < Constants.breadCrumbsConsts.length; i++) {\n        (word === Constants.breadCrumbsConsts[i].value) && (sWord = Constants.breadCrumbsConsts[i].label);\n        if (word.includes('conversation?')) sWord = 'pogovor';\n        if (word.includes('all?')) sWord = 'vse';\n    }\n\n    return sWord;\n}\n\n\nconst BreadCrumbs = (props) => {\n\n    let linksplit = props.pathname.substr(1).split('/');\n\n    let links = new Array(linksplit.length).fill('');\n\n    for (let i = 0; i < linksplit.length; i++) {\n        for (let j = 0; j <= i; j++) {\n            links[i] += '/' + linksplit[j]\n        }\n    }\n\n    let n = links.length;\n\n    return <div style = {{textAlign: 'left', padding: '20px', color: 'white', textShadow: '1px 1px black'}}>\n            <NavLink to = '/' style = {{color: 'white', textShadow: '1px 1px black', textDecoration: 'none'}}>domov</NavLink>\n            {links.map((link, index) => {\n                    if (index !== n-1) {return (\n                    <NavLink key = {index} to = {link} style = {{color: 'white', textShadow: '1px 1px black', textDecoration: 'none'}}> > {makeSlovene(linksplit[index])}</NavLink>\n                    )} else return null\n            })}\n            > {makeSlovene(linksplit[n-1])}\n    </div>\n}\n\nexport default BreadCrumbs","import React from 'react';\nimport '../App.css'\n\nconst AdSpace = () => {\n    return(\n        <div className=\"Ad-space\">\n\n        </div>\n    )\n}\n\nexport default AdSpace;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport NavBar from '../../components/NavBar';\nimport UserSideBar from './UserSideBar';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport AdSpace from '../../components/AdSpace';\nimport Popup from 'reactjs-popup';\nimport * as Constants from '../../constants';\nimport '../../App.css';\n\n\nclass UserListings extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            userId: '0',\n            urls: [],\n            listings: [],\n            tryingToDelete: -1,\n            adsPerPage: 5,\n            numPages: 1,\n            page: 1\n        };\n\n        this.displayPhotos = this.displayPhotos.bind(this);\n\n    }\n\n    abortController = new AbortController();\n\tcomponentDidMount() {\n        fetch('/api/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => {this.setState({userId: res.userId}); this.displayPhotos(res.userId)})\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    displayPhotos(uid) {\n        fetch('/api/photos', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({userId: uid})\n        }).then(res => res.json())\n            .then(listings => { if (!listings.length) { this.setState({listings: []}) }\n                    else{ this.setState({listings: listings, numPages: Math.floor(listings.length/this.state.adsPerPage + 0.99)}) };\n            })\n            .catch(e => console.error(\"Critical failure: \" + e.message));\n\n    }\n\n    handleDeleteRequest = (id) => {\n        this.setState({tryingToDelete: id});\n    }\n\n    handleDelete = (id) => {\n\n        fetch('/api/deleteListing', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({adId: id})\n        }).then(res => res.json())\n        .then(res => res.success && this.setState({tryingToDelete: -1}))\n        .then(() => this.displayPhotos(this.props.loggedInUserId))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n        \n    }\n\n    cancelDelete = () => {\n        this.setState({tryingToDelete: -1});\n    }\n\n    paginationButtonClick = (e) => {\n        let newpage = 1;\n        switch(e.target.id) {\n            case 'first':\n                this.setState({page: 1});\n                break;\n            case 'previous':\n                this.state.page > 1 ? newpage = this.state.page-1 : newpage = 1;\n                this.setState({page: newpage});\n                break;\n            case 'next':\n                this.state.page < this.state.numPages ? newpage = this.state.page+1 : newpage = this.state.numPages;\n                this.setState({page: newpage});\n                break;\n            case 'last':\n                this.setState({page: this.state.numPages});\n                break;\n            default:\n                return null;\n        }\n    }\n\n    renderListings = () => {\n\n        const imgStyle = {\n            height: \"290px\",\n            verticalAlign: \"middle\",\n            marginRight: \"20px\",\n            border: '2px solid rgb(255, 255, 255, 0.5)'\n        }\n\n        const textStyle = {\n            color: 'black',\n            textDecoration: 'underline',\n            fontWeight: '500'\n        }\n\n        let numAds = this.state.listings.length;\n        let n = this.state.adsPerPage;\n        let p = this.state.page - 1;\n        let till;\n        p*n + n < numAds ? till = (p+1)*n : till = numAds;\n        let adsPortion = this.state.listings.slice(p*n, till);\n\n        return  <div>\n                    <div style={{width: \"100%\", verticalAlign: 'top', textAlign: 'right'}}>\n                        <NavLink exact to=\"/upload\" className = 'btn'><b>+ OBJAVI NOV OGLAS</b></NavLink>\n                    </div>\n                    <div className=\"listingWrapper\">\n                        {adsPortion.map((listing) => \n                            {\n                                let category = Constants.category[listing.category].value;\n                                let subcategory = ''\n                                switch(category) {\n                                    case 'women':\n                                        subcategory = Constants.women[listing.subcategory].value;\n                                        break;\n                                    case 'men':\n                                        subcategory = Constants.men[listing.subcategory].value;\n                                        break;\n                                    case 'kids':\n                                        subcategory = Constants.kids[listing.subcategory].value;\n                                        break;\n                                    default:\n                                        subcategory = ''\n                                }\n                                return (\n                                <li key={listing.ad_id} style={{ listStyleType: \"none\" }}>\n                                    <img src={'/api' + listing.photo1_url.substring(1)} alt={listing.photo1_url} style={imgStyle}/><span style={{verticalAlign: \"middle\", display: \"inline-block\", height: \"100%\"}}></span>\n                                    <div style = {{width: '60%', height: '80%', float: 'right', padding: '20px'}}>\n                                        <p>Številka oglasa: <NavLink to={'listings/' + category + '/' + subcategory + '/item?' + listing.ad_id} style = {textStyle}>{listing.ad_id}</NavLink></p>\n                                        <p><NavLink to={\"/edit?\" + listing.ad_id} style = {textStyle}>  UREJANJE</NavLink></p>\n                                        <button style = {{backgroundColor: 'rgb(255,255,255,0)', border: 'none', cursor: 'pointer'}} onClick = {() => this.handleDeleteRequest(listing.ad_id)}>X IZBRIŠI</button>\n                                    </div>\n                                </li>)\n                            }\n                        )}\n                        <div>\n                            <button id='first' className='btn_nopad' onClick={this.paginationButtonClick}>PRVA</button>\n                            <button id='previous' className='btn_nopad' onClick={this.paginationButtonClick}>&#60;&#60;</button>\n                            <button id='current' className='btn_nopad'>{this.state.page}/{this.state.numPages}</button>\n                            <button id='next' className='btn_nopad' onClick={this.paginationButtonClick}>&#62;&#62;</button>\n                            <button id='last' className='btn_nopad' onClick={this.paginationButtonClick}>ZADNJA</button>\n                        </div>\n                    </div>\n                </div>\n    }\n\n    switchRender = () => {\n\n        if(this.state.userId === '0') {\n            return (\n                <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                    <br/><br/><br/>\n                    <h2>PROSIMO PRIJAVITE SE V SISTEM!</h2>\n                    <br/><br/><br/>\n                </div>\n            )\n        }\n        else if(!this.state.listings.length) {\n            return (\n                <div className=\"userContainer\">\n                    <div style = {{textAlign: 'center'}}>\n                        <h2 style = {{color: 'white'}}>NIMATE ŠE OBJAVLJENIH OGLASOV.</h2>\n                    </div>\n                    <div style={{width: \"100%\", verticalAlign: 'top', textAlign: 'right'}}>\n                        <NavLink exact to=\"/upload\" className = 'btn'><b>+ OBJAVI NOV OGLAS</b></NavLink>\n                    </div>\n                </div>\n            );\n        } else if(this.state.listings.length && this.state.tryingToDelete !== -1) {\n            return (\n                <div className=\"userContainer\">\n                <Popup open = {true}\n                position = 'center center'\n                onClose={this.closeModal}>\n                    <div style = {{display: 'inline-flex', justifyContent: 'space-around'}}>\n                        <p style= {{margin: 'auto 10px'}}>Ste prepričani, da želite izbrisati oglas?</p>\n                        <button className = 'btnb' onClick ={() => this.handleDelete(this.state.tryingToDelete)}>DA</button>\n                        <button className = 'btnb' onClick = {this.cancelDelete}>NE</button>\n                    </div>\n                </Popup>\n                {this.renderListings()}\n                </div>  \n            )\n\n        }else {\n            return (\n                <div className=\"userContainer\">\n                    {this.renderListings()}\n                </div>\n            );\n\n        }\n    }\n\n    render() {\n        return(\n            <div className=\"App\">\n            <UpperLine/>\n            <Header/>\n            <NavBar/>\n            <BreadCrumbs pathname = {this.props.location.pathname}/>\n            <UserSideBar/>\n            {this.switchRender()}\n            <AdSpace/>\n            <Bottom/>\n            </div>\n        )\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n  };\n\n\nexport default connect(mapStateToProps) (UserListings);\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport Popup from 'reactjs-popup';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport NavBar from '../../components/NavBar';\nimport UserSideBar from './UserSideBar';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport AdSpace from '../../components/AdSpace';\nimport '../../App.css';\n\n\nclass PastOrders extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            userId: '0',\n            orders: [],\n            confirmReceived: 0,\n            openDispute: 0,\n            perPage: 10,\n            numPages: 1,\n            page: 1\n        };\n    }\n\n    abortController = new AbortController();\n\tcomponentDidMount() {\n        fetch('/api/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => this.setState({userId: res.userId}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n\n        this.callBackEnd('/userorders', 0, 0);\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    confirmGoodsReceived = (id) => {\n        //const orders = this.state.orders.map((order) => {if(order.order_id === id) order.status = 2})\n        this.callBackEnd('/orderstatus', id, 2);\n        window.location.href = '/user_pastorders';\n        //let orders = this.state.orders.map(order => {if(order.order_id === id) order.status=2})\n        //console.log(this.state.orders[0].order_id)\n        //const orders = this.state.orders.map((order) => {if(order.order_id === id) order.status = 2})\n        //this.setState(state => {const orders = state.orders.map(order => {if(order.order_id === id) order.status=2}); return({...state, orders})});\n    }\n\n    callBackEnd = (backendPath, id, newStatus) => {\n        fetch(backendPath, {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                orderId: id,\n                newStatus: newStatus\n            })\n        })\n        .then(this.setState({confirmReceived: 0, openDispute: 0}, () => {this.fetchOrders();}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    fetchOrders = () => {\n        fetch('/api/userorders', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            }\n        })\n        .then(res => res.json())\n        .then(orders => this.setState({orders: orders, numPages: Math.floor(orders.length/this.state.perPage + 0.99)}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n        this.setState({confirmReceived: 0, openDispute: 0});\n    }\n\n    openDispute = (id) => {\n        // this.callBackEnd('/orderstatus', id, 3);\n        // this.callBackEnd('/userorders', 0, 0);\n        window.location.href = '/contentsupport?3';\n    }\n\n    cancelConfirm = () => {\n        this.setState({confirmReceived: 0, openDispute: 0});\n    }\n\n    formatDate = (date) => {\n        var d = new Date(date*1000),\n            month = '' + (d.getMonth() + 1),\n            day = '' + d.getDate(),\n            year = d.getFullYear();\n        if (month.length < 2) \n            month = '0' + month;\n        if (day.length < 2) \n            day = '0' + day;\n    \n        return [day, month, year].join('-');\n    }\n\n    paginationButtonClick = (e) => {\n        let newpage = 1;\n        switch(e.target.id) {\n            case 'first':\n                this.setState({page: 1});\n                break;\n            case 'previous':\n                this.state.page > 1 ? newpage = this.state.page-1 : newpage = 1;\n                this.setState({page: newpage});\n                break;\n            case 'next':\n                this.state.page < this.state.numPages ? newpage = this.state.page+1 : newpage = this.state.numPages;\n                this.setState({page: newpage});\n                break;\n            case 'last':\n                this.setState({page: this.state.numPages});\n                break;\n            default:\n                return null;\n        }\n    }\n\n    mapOrders = () => {\n\n        let numOrders = this.state.orders.length;\n        let n = this.state.perPage;\n        let p = this.state.page - 1;\n        let till;\n        p*n + n < numOrders ? till = (p+1)*n : till = numOrders;\n        let ordersPortion = this.state.orders.slice(p*n, till);\n\n        return (\n            <div className = 'orderListWrapper'>                    \n            {ordersPortion.map((order) =>\n                <li key={order.order_id} style={{ listStyleType: \"none\" }}>\n                    Številka naročila: <span style={{fontWeight: 'bold'}}> {order.order_id} </span>\n                    Datum naročila:  <span style={{fontWeight: 'bold'}}>{this.formatDate(order.date_modified)} </span>\n                    Cena:  <span style={{fontWeight: 'bold'}}>{order.price} € </span>\n                    Poštnina:  <span style={{fontWeight: 'bold'}}>{order.postage} € </span>\n                    Prodajalec: <span style={{fontWeight: 'bold'}}>{order.seller} </span>\n                    Izdelki: {order.ad_ids.split(',').map(id => <NavLink to={\"/item?\" + id} key = {id} className = 'btn_nopad'>{id}</NavLink>)}\n                    {order.status === 1 && <p><b>Naročilo je odposlano.</b></p>}\n                    <br/>\n                    {order.status === 1 && <button className = {['btn_nopad', 'btn_marg', 'btn_blue'].join(\" \")} onClick = {() => this.setState({confirmReceived: order.order_id})}>POTRDI PREJEM</button>}\n                    {(order.status === 0 || order.status === 1) && <NavLink className = {['btn_nopad', 'btn_marg', 'btn_lightyellow'].join(\" \")} to = {'/chatpage/conversation?' + order.seller_id}>KONTAKTIRAJ PRODAJALCA</NavLink>}\n                    {((order.status === 0 || order.status === 1) && order.dispute === 0) && <button className = {['btn_nopad', 'btn_marg', 'btn_yellow'].join(\" \")} onClick = {() => this.setState({openDispute: order.order_id})}>ODPRI PRITOŽBO</button>}\n                    {order.dispute === 1 && <button className = {['btn_nopad', 'btn_marg', 'btn_red', 'btn_nocursor'].join(\" \")}>ODPRTA PRITOŽBA</button>}\n                    {order.status === 2 && <button className = {['btn_nopad', 'btn_marg', 'btn_green', 'btn_nocursor'].join(\" \")}>ZAKLJUČENO</button>}\n                    {order.status === 4 && <button className = {['btn_nopad', 'btn_marg', 'btn_red', 'btn_nocursor'].join(\" \")}>PREKLICANO</button>}\n                </li>\n            )}\n                <div>\n                    <button id='first' className='btn_nopad' onClick={this.paginationButtonClick}>PRVA</button>\n                    <button id='previous' className='btn_nopad' onClick={this.paginationButtonClick}>&#60;&#60;</button>\n                    <button id='current' className='btn_nopad'>{this.state.page}/{this.state.numPages}</button>\n                    <button id='next' className='btn_nopad' onClick={this.paginationButtonClick}>&#62;&#62;</button>\n                    <button id='last' className='btn_nopad' onClick={this.paginationButtonClick}>ZADNJA</button>\n                </div>\n            </div>\n        )\n    }\n\n    switchRender = () => {\n        if(this.state.userId === '0') {\n            return (\n                <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                    <br/><br/><br/>\n                    <h2>PROSIMO PRIJAVITE SE V SISTEM!</h2>\n                    <br/><br/><br/>\n                </div>\n            )\n        }\n        else if(!this.state.orders.length) {\n            return (<div><h2 style = {{color: 'white'}}>NIČESAR ŠE NISTE NAROČILI.</h2></div>)\n        } else if(this.state.confirmReceived || this.state.openDispute) {\n            return (\n                <div className = 'userContainer'>\n                    <br/>\n                    <br/>\n                    {this.mapOrders()}\n                    <Popup open = {true}\n                        position = 'center center'\n                        onClose={this.closeModal}>\n                        <div style = {{display: 'inline-flex', justifyContent: 'space-around'}}>\n                            {this.state.confirmReceived ? <p style= {{margin: 'auto 10px'}}>S potrditvijo bo naročilo zaključeno in pritožba ne bo več možna. Ali ste prepričani, da želite potrditi prejem izdelkov?</p> : null}\n                            {this.state.confirmReceived ? <button className = 'btnb' onClick ={() => this.confirmGoodsReceived(this.state.confirmReceived)}>DA</button> : null}\n                            {this.state.openDispute ? <p style= {{margin: 'auto 10px'}}>Pritožbo podajte le, če ste že kontaktirali prodajalca in niste prišli do sporazumne rešitve. Želite nadaljevati?</p> : null}\n                            {this.state.openDispute ? <button className = 'btnb' onClick ={() => this.openDispute(this.state.openDispute)}>DA</button> : null}\n                            <button className = 'btnb' onClick = {this.cancelConfirm}>NE</button>\n                        </div>\n                    </Popup>\n                </div>\n            )\n        }\n        else return(\n            <div className = 'userContainer'>\n            <br/>\n            <br/>\n            {this.mapOrders()}\n        </div>\n        )\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n            <UpperLine/>\n            <Header/>\n            <NavBar/>\n            <BreadCrumbs pathname = {this.props.location.pathname}/>\n            <UserSideBar/>\n            {this.switchRender()}\n            <AdSpace/>\n            <Bottom/>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n  };\n\n\nexport default connect(mapStateToProps) (PastOrders);\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport Popup from 'reactjs-popup';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport NavBar from '../../components/NavBar';\nimport UserSideBar from './UserSideBar';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport AdSpace from '../../components/AdSpace';\nimport '../../App.css';\n\n\nclass Sold extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            userId: '0',\n            confirmSent: 0,\n            orders: [],\n            perPage: 10,\n            numPages: 1,\n            page: 1\n        };\n    }\n\n    abortController = new AbortController();\n\tcomponentDidMount() {\n        fetch('/api/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => this.setState({userId: res.userId}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n\n        fetch('/api/usersold', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            }\n        })\n        .then(res => res.json())\n        .then(orders => this.setState({orders}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));   \n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    confirmGoodsSent = (id) => {\n        this.callBackEnd('/orderstatus', id, 1);\n        this.fetchOrders();\n    }\n\n    cancelConfirm = () => {\n        this.setState({confirmSent: 0});\n    }\n\n    callBackEnd = (backendPath, id, newStatus) => {\n        fetch(backendPath, {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                orderId: id,\n                newStatus: newStatus\n            })\n        })\n        .then(this.setState({confirmReceived: 0, openDispute: 0}, () => {this.fetchOrders();}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    fetchOrders = () => {\n        fetch('/api/usersold', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            }\n        })\n        .then(res => res.json())\n        .then(orders => this.setState({orders: orders, numPages: Math.floor(orders.length/this.state.perPage + 0.99)}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n        this.setState({confirmSent: 0});\n    }\n\n    formatDate = (date) => {\n        var d = new Date(date*1000),\n            month = '' + (d.getMonth() + 1),\n            day = '' + d.getDate(),\n            year = d.getFullYear();\n        if (month.length < 2) \n            month = '0' + month;\n        if (day.length < 2) \n            day = '0' + day;\n    \n        return [day, month, year].join('-');\n    }\n\n    paginationButtonClick = (e) => {\n        let newpage = 1;\n        switch(e.target.id) {\n            case 'first':\n                this.setState({page: 1});\n                break;\n            case 'previous':\n                this.state.page > 1 ? newpage = this.state.page-1 : newpage = 1;\n                this.setState({page: newpage});\n                break;\n            case 'next':\n                this.state.page < this.state.numPages ? newpage = this.state.page+1 : newpage = this.state.numPages;\n                this.setState({page: newpage});\n                break;\n            case 'last':\n                this.setState({page: this.state.numPages});\n                break;\n            default:\n                return null;\n        }\n    }\n\n    mapOrders = () => {\n\n        let numOrders = this.state.orders.length;\n        let n = this.state.perPage;\n        let p = this.state.page - 1;\n        let till;\n        p*n + n < numOrders ? till = (p+1)*n : till = numOrders;\n        let ordersPortion = this.state.orders.slice(p*n, till);\n\n        return(\n            <div className = 'orderListWrapper'>\n            <br/>\n            <br/>\n            {ordersPortion.map((order) =>\n                <li key={order.order_id} style={{ listStyleType: \"none\" }}>\n                    Številka naročila: <span style={{fontWeight: 'bold'}}> {order.order_id} </span>\n                    Datum naročila:  <span style={{fontWeight: 'bold'}}>{this.formatDate(order.date_modified)} </span>\n                    Cena:  <span style={{fontWeight: 'bold'}}>{order.price} € </span>\n                    Poštnina:  <span style={{fontWeight: 'bold'}}>{order.postage} € </span>\n                    Kupec: <span style={{fontWeight: 'bold'}}>{order.buyer} </span>\n                    Izdelki: {order.ad_ids.split(',').map(id => <NavLink to={\"/item?\" + id} key = {id} className = 'btn_nopad'>{id}</NavLink>)}\n                    <br/>\n                    {order.status === 0 && <button className = {['btn_nopad', 'btn_marg', 'btn_yellow'].join(\" \")} onClick = {() => this.setState({confirmSent: order.order_id})}>POTRDI POŠILJANJE</button>}\n                    {order.status === 1 && <button className = {['btn_nopad', 'btn_marg', 'btn_lightyellow', 'btn_nocursor'].join(\" \")}>ČAKA POTRDITEV KUPCA</button>}\n                    {order.dispute === 1 && <button className = {['btn_nopad', 'btn_marg', 'btn_red', 'btn_nocursor'].join(\" \")}>ODPRTA PRITOŽBA</button>}\n                    {order.status === 2 && <button className = {['btn_nopad', 'btn_marg', 'btn_green', 'btn_nocursor'].join(\" \")}>ZAKLJUČENO</button>}\n                    {order.status === 4 && <button className = {['btn_nopad', 'btn_marg', 'btn_red', 'btn_nocursor'].join(\" \")}>PREKLICANO</button>}\n                </li>\n            )}\n            <div>\n                <button id='first' className='btn_nopad' onClick={this.paginationButtonClick}>PRVA</button>\n                <button id='previous' className='btn_nopad' onClick={this.paginationButtonClick}>&#60;&#60;</button>\n                <button id='current' className='btn_nopad'>{this.state.page}/{this.state.numPages}</button>\n                <button id='next' className='btn_nopad' onClick={this.paginationButtonClick}>&#62;&#62;</button>\n                <button id='last' className='btn_nopad' onClick={this.paginationButtonClick}>ZADNJA</button>\n            </div>\n            </div>\n        )\n    }\n    \n    switchRender = () => {\n        if(this.state.userId === '0') {\n            return (\n                <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                    <br/><br/><br/>\n                    <h2>PROSIMO PRIJAVITE SE V SISTEM!</h2>\n                    <br/><br/><br/>\n                </div>\n            )\n        }\n        else if(!this.state.orders.length) {\n            return (<div><h2 style = {{color: 'white'}}>NI PRODANIH IZDELKOV.</h2></div>)\n        } else {\n            if(!this.state.confirmSent)\n                return (\n                    <div className = 'userContainer'>\n                        {this.mapOrders()}\n                    </div>\n                )\n            else if(this.state.confirmSent)\n                return(\n                    <div className = 'userContainer'>\n                        {this.mapOrders()}\n                        <Popup open = {true}\n                            position = 'center center'\n                            onClose={this.closeModal}>\n                            <div style = {{display: 'inline-flex', justifyContent: 'space-around'}}>\n                                {this.state.confirmSent ? <p style= {{margin: 'auto 10px'}}>Potrjujem, da sem odposlal/a izdelke.</p> : null}\n                                {this.state.confirmSent ? <button className = 'btnb' onClick ={() => this.confirmGoodsSent(this.state.confirmSent)}>DA</button> : null}\n                                <button className = 'btnb' onClick = {this.cancelConfirm}>NE</button>\n                            </div>\n                        </Popup>\n                    </div>\n                )\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n            <UpperLine/>\n            <Header/>\n            <NavBar/>\n            <BreadCrumbs pathname = {this.props.location.pathname}/>\n            <UserSideBar/>\n            {this.switchRender()}\n            <AdSpace/>\n            <Bottom/>\n            </div>\n        )\n\n\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n  };\n\n\nexport default connect(mapStateToProps) (Sold);\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Popup from 'reactjs-popup';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport NavBar from '../../components/NavBar';\nimport UserSideBar from './UserSideBar';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport AdSpace from '../../components/AdSpace';\nimport '../../App.css';\n\n\nclass Wallet extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            userId: '0',\n            walletInfo: null,\n            success: null,\n            requestWithdraw: false\n        };\n    }\n\n    abortController = new AbortController();\n\tcomponentDidMount() {\n        fetch('/api/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => this.setState({userId: res.userId}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n\n        this.callUserWallet(0);\n\n    }\n\n    callUserWallet = (amount) => {\n        fetch('/api/userwallet', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                amount: amount\n            })\n        })\n        .then(res => res.json())\n        .then(res => {if(!amount) {this.setState({walletInfo: res});} else this.setState({success: res.success, requestWithdraw: false})})\n        .catch(e => console.error(\"Critical failure: \" + e.message));   \n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    onWithdrawButtonClick = () => {\n        this.setState({requestWithdraw: true});\n    }\n\n    cancelWithdraw = () => {\n        this.setState({requestWithdraw: false});\n    }\n\n    closeModal = () => {\n        this.setState( {success: null, requestWithdraw: false})\n    }\n\n    switchRender = () => {\n\n        let walletInfo = this.state.walletInfo;\n\n        if(this.state.userId === '0') {\n            return (\n                <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                    <br/><br/><br/>\n                    <h2>PROSIMO PRIJAVITE SE V SISTEM!</h2>\n                    <br/><br/><br/>\n                </div>\n            )\n        } else if(!this.state.walletInfo) return <div></div>\n\n        else if(this.state.requestWithdraw) {\n            return (\n                <div className = 'userContainer'>\n                <div className = 'profile'>\n                    <h2>MOJA DENARNICA</h2>\n                    <p><b>Stanje:</b> {walletInfo.wallet.Balance.Amount/100 + ' ' + walletInfo.wallet.Balance.Currency}</p>\n                    <p><b>Na voljo za prenos:</b> {walletInfo.availableBalance} EUR</p>\n                    {walletInfo.availableBalance >= 10 && <button className = 'btn' onClick = {this.onWithdrawButtonClick}>PRENESI NA SVOJ BANČNI RAČUN</button>}\n                </div>\n                <Popup open = {true}\n                position = 'center center'\n                onClose={this.closeModal}>\n                    <div style = {{display: 'inline-flex', justifyContent: 'space-around'}}>\n                        <p style= {{margin: 'auto 10px'}}>Potrditev prenosa {this.state.walletInfo.availableBalance} EUR iz e-denarnice na bančni račun?</p>\n                        <button className = 'btnb' onClick ={() => this.callUserWallet(this.state.walletInfo.availableBalance)}>DA</button>\n                        <button className = 'btnb' onClick = {this.cancelWithdraw}>NE</button>\n                    </div>\n                </Popup>\n                </div>\n\n            )\n\n        }\n\n        else if(this.state.success) {\n            let scs = this.state.success;\n            return (\n                <div className = 'userContainer'>\n                <div className = 'profile'>\n                    <h2>MOJA DENARNICA</h2>\n                    <p><b>Stanje:</b> {walletInfo.wallet.Balance.Amount/100 + ' ' + walletInfo.wallet.Balance.Currency}</p>\n                    <p><b>Na voljo za prenos:</b> {walletInfo.availableBalance} EUR</p>\n                    {walletInfo.availableBalance >= 10 && <button className = 'btn' onClick = {this.onWithdrawButtonClick}>PRENESI NA SVOJ BANČNI RAČUN</button>}\n                </div>\n                <Popup open = {true}\n                position = 'center center'\n                onClose={this.closeModal}>\n                    <div style = {{display: 'inline-flex', justifyContent: 'space-around'}}>\n                        {scs === 'NOBANK' && <p style= {{margin: 'auto 10px'}}>Za prenos dodajte svoj bančni račun. To storite v nastavitvah profila.</p>}\n                    </div>\n                </Popup>\n                </div>\n\n            )\n\n        }\n        \n        else {\n            return (\n                <div className = 'userContainer'>\n                    <div className = 'profile'>\n                        <h2>MOJA DENARNICA</h2>\n                        <p><b>Stanje:</b> {walletInfo.wallet.Balance.Amount/100 + ' ' + walletInfo.wallet.Balance.Currency}</p>\n                        <p><b>Na voljo za prenos:</b> {walletInfo.availableBalance} EUR</p>\n                        {walletInfo.availableBalance >= 10 && <button className = 'btn' onClick = {this.onWithdrawButtonClick}>PRENESI NA SVOJ BANČNI RAČUN</button>}\n                    </div>\n                </div>\n            )\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n            <UpperLine/>\n            <Header/>\n            <NavBar/>\n            <BreadCrumbs pathname = {this.props.location.pathname}/>\n            <UserSideBar/>\n            {this.switchRender()}\n            <AdSpace/>\n            <Bottom/>\n            </div>\n        )\n\n\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n  };\n\n\nexport default connect(mapStateToProps) (Wallet);","import React from 'react';\nimport { connect } from 'react-redux';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport NavBar from '../../components/NavBar';\nimport UserSideBar from './UserSideBar';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport AdSpace from '../../components/AdSpace';\nimport { FaEyeSlash, FaEye } from 'react-icons/fa';\nimport '../../App.css';\n\n\nclass Profile extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            userId: '0',\n            profileInfo: null,\n            password: '',\n            warning: '',\n            success: '',\n            editInfo: false,\n            editPass: false,\n            visible: false\n        };\n    }\n\n    abortController = new AbortController();\n\tcomponentDidMount() {\n\n        fetch('/api/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => {this.setState({userId: res.userId}); if(res.userId !== '0') this.getProfileInfo();})\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n\n    }\n\n    getProfileInfo = () => {\n        fetch('/api/profileroutes', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                requestType: 1\n            })\n        })\n        .then(res => res.json())\n        .then(res => this.setState({profileInfo: res[0]}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));   \n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    onEditButtonClick = () => {\n        this.setState({edit: true})\n    }\n    changePhoneNumber = (values) => {\n        const {value} = values;\n        var profileInfo = {...this.state.profileInfo}\n        profileInfo.phone_number = value;\n        this.setState({profileInfo});\n    }\n    changeAddress = (e) => { \n        var profileInfo = {...this.state.profileInfo}\n        const { name, value } = e.target;\n        profileInfo[name] = value;\n        this.setState({profileInfo});\n    }\n\n    updateInfo = (e) =>{\n\n        e.preventDefault();\n        console.log(this.state.profileInfo);\n\n        fetch('/api/profileroutes', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                requestType: 2,\n                profileInfo: this.state.profileInfo\n            })\n        })\n        .then(res => res.json())\n        .then(() => this.setState({editInfo: false}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n\n    checkPassStrength(pass) {\n        const mediumRegex = new RegExp(\"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{8,})\");\n        return mediumRegex.test(pass);\n    }\n\n    changePassword = (e) => { \n        if(!this.checkPassStrength(e.target.value)){\n            this.setState({\n                warning: 'Geslo mora biti dolgo vsaj 8 znakov in mora vsebovati vsaj dva od naslednjih znakov: mala črka, velika črka, številka.'\n            });\n        } else {\n            this.setState({warning: ''});\n        }\n        this.setState({password: e.target.value});\n    }\n\n    updatePassword = (e) => {\n        e.preventDefault();\n        \n        if(this.state.password !== '' && this.state.warning === '') {\n            fetch('/api/profileroutes', {\n                signal: this.abortController.signal,\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json'\n                },\n                body: JSON.stringify({\n                    requestType: 3,\n                    password: this.state.password\n                })\n            })\n            .then(res => res.json())\n            .then(res => {if(res.success) this.setState({success: 'Uspešno ste spremenili geslo.', editPass: false})})\n            .catch(e => console.error(\"Critical failure: \" + e.message));\n        }\n    }\n    //{if(res[0].success) this.setState({success: 'Uspešno ste spremenili geslo.'}, () => console.log(this.state.success))}\n\n    visibilityChange = () => {\n        this.setState({visible: !this.state.visible})\n    }\n\n    onEditButtonClick = (e) => {\n        if(e.target.id === 'info') {\n            this.setState({editInfo: true});\n        }\n        if(e.target.id === 'pass') {\n            this.setState({editPass: true});\n        }\n        if(e.target.id === 'cancel') {\n            this.setState({editInfo: false, editPass: false});\n        }\n    }\n\n    //{!this.state.editInfo && <p><b>IBAN: </b> {this.state.profileInfo.iban}</p>}\n\n    switchRender = () => {\n        const iconStyle = {\n            margin: 'auto -50px',\n            paddingTop: '0px',\n            border: 'none',\n            backgroundColor: 'rgb(255, 255, 255, 0)',\n            verticalAlign: 'middle'\n        }\n        if(this.state.userId === '0') {\n            return (\n                <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                    <br/><br/><br/>\n                    <h2>PROSIMO PRIJAVITE SE V SISTEM!</h2>\n                    <br/><br/><br/>\n                </div>\n            )\n        }\n        else if(!this.state.profileInfo) {\n            return (<div></div>)\n        } else {\n            return (\n                <div className = 'userContainer'>\n                    <div className = 'profile'>\n                        <br/>\n                        <p><b>IME: </b>{this.state.profileInfo.first_name}</p>\n                        <p><b>PRIIMEK: </b>{this.state.profileInfo.last_name}</p>\n                        {!this.state.editInfo && <p><b>NASLOV ZA POŠILJANJE: </b> {this.state.profileInfo.street_ship + ', ' + this.state.profileInfo.post_number_ship + ' ' + this.state.profileInfo.town_ship}</p>}\n                        {this.state.editInfo && <div><form onSubmit = {this.updateInfo}>\n                                                        <b>NASLOV ZA POŠILJANJE: </b>\n                                                        <input type='text' id='street' name='street_ship' placeholder='Ulica in hišna številka' value={this.state.profileInfo.street_ship} style = {{width: '200px'}} maxLength=\"30\" onChange={this.changeAddress}/>\n                                                        <input type='text' id='postnumber' name='post_number_ship' placeholder='Poštna št.' value={this.state.profileInfo.post_number_ship} style = {{width: '150px'}} maxLength=\"10\" onChange={this.changeAddress}/>\n                                                        <input type='text' id='town' name='town_ship' placeholder='Kraj' value={this.state.profileInfo.town_ship} style = {{width: '150px'}} maxLength=\"30\" onChange={this.changeAddress}/>\n                                                        <br/>\n                                                        <b>TELEFON: </b>\n                                                        <input type='text' id='phonenumber' name='phone_number' value={this.state.profileInfo.phone_number} style = {{width: '200px'}} maxLength=\"20\" onChange={this.changeAddress}/>\n                                                        <br/>\n                                                        <b>IBAN: </b>\n                                                        <input type='text' id='iban' name='iban' value={this.state.profileInfo.iban} style = {{width: '200px'}} maxLength=\"30\" onChange={this.changeAddress}/>\n                                                        <br/>\n                                                        <b>BIC banke: </b>\n                                                        <input type='text' id='bic' name='bic' value={this.state.profileInfo.bic} style = {{width: '200px'}} maxLength=\"10\" onChange={this.changeAddress}/>\n                                                        <br/>\n                                                        <button className = 'btnb' type = 'submit'>SHRANI</button>\n                                                        <button className = 'btnb' style = {{marginLeft: '5px'}} onClick = {this.onEditButtonClick}>PREKLIČI</button>\n                                                        </form></div>}\n\n                        {!this.state.editInfo && <p><b>TELEFON: </b>{this.state.profileInfo.phone_number}</p>}\n                        {!this.state.editInfo && <p><b>IBAN: </b> {this.state.profileInfo.iban}</p>}\n                        {!this.state.editInfo && <p><b>BIC banke: </b> {this.state.profileInfo.bic}</p>}\n\n                        {this.state.editPass &&<form onSubmit = {this.updatePassword}>\n                            SPREMENI GESLO: <input type={this.state.visible ? 'text' : 'password'} id='pass' name='pass' value={this.state.password} style = {{width: '200px'}} onChange={this.changePassword}/>\n                            {this.state.visible ? <button type = 'button' style = {iconStyle} onClick = {this.visibilityChange}>\n                                                        <FaEyeSlash size = '2em'/>\n                                                    </button> :\n                                                    <button type = 'button' style = {iconStyle} onClick = {this.visibilityChange}>\n                                                        <FaEye size = '2em'/>\n                                                    </button>}\n                            <button className = 'btnb' style = {{marginLeft: '70px'}} type = 'submit'>SHRANI</button>\n                            <button className = 'btnb' style = {{marginLeft: '5px'}} onClick = {this.onEditButtonClick}>PREKLIČI</button>\n                        </form>}\n                        <p style = {{color: 'red', lineHeight: '40px'}}>{this.state.warning}</p>\n                        <p style = {{lineHeight: '40px'}}>{this.state.success}</p>\n                        <div style = {{textAlign: 'right'}}><button id = 'info' className = 'btnu' onClick = {this.onEditButtonClick}>UREDI PODATKE </button>\n                        <button id = 'pass' className = 'btnu' onClick = {this.onEditButtonClick}> SPREMENI GESLO</button></div>\n                    </div>\n                </div>\n            )\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n            <UpperLine/>\n            <Header/>\n            <NavBar/>\n            <BreadCrumbs pathname = {this.props.location.pathname}/>\n            <UserSideBar/>\n            {this.switchRender()}\n            <AdSpace/>\n            <Bottom/>\n            </div>\n        )\n        \n\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n  };\n\n\nexport default connect(mapStateToProps) (Profile);","import React from 'react';\nimport '../App.css';\n\nconst makeSelectYear = () => {\n    var yearArr = [];\n    for (let i = 0; i < 100; i++) {\n        yearArr.push(1910 + i);\n    }\nreturn yearArr.map((year) => <option value={year.toString()} key = {year}>{year}</option>)\n}\n\nconst makeSelectDay = () => {\n    var yearArr = [];\n    for (let i = 1; i < 32; i++) {\n        yearArr.push(i);\n    }\nreturn yearArr.map((day) => <option value={day.toString()} key = {day}>{day + '.'}</option>)\n}\n\nconst warnStyle = {\n    border: '1px solid red'\n}\n\nconst Birthday = (props) => {\n\n    return (\n        <div>\n            <select name=\"day\" id=\"day\" value={props.day} onChange={props.onChange}\n                style={(!props.day && props.saveAttempt===true)  ? warnStyle : null}>\n                <option value=\"0\">Dan rojstva</option>\n                {makeSelectDay()}\n            </select>\n            <select name=\"month\" id=\"month\" value={props.month} onChange={props.onChange}\n                style={(!props.month && props.saveAttempt===true)  ? warnStyle : null}>\n                <option value=\"0\">Mesec rojstva</option>\n                <option value=\"1\">Januar</option>\n                <option value=\"2\">Februar</option>\n                <option value=\"3\">Marec</option>\n                <option value=\"4\">April</option>\n                <option value=\"5\">Maj</option>\n                <option value=\"6\">Junij</option>\n                <option value=\"7\">Julij</option>\n                <option value=\"8\">Avgust</option>\n                <option value=\"9\">September</option>\n                <option value=\"10\">Oktober</option>\n                <option value=\"11\">November</option>\n                <option value=\"12\">December</option>\n            </select>\n            <select name=\"year\" id=\"year\" value={props.year} onChange={props.onChange}\n                style={(!props.year && props.saveAttempt===true)  ? warnStyle : null}>\n                <option value=\"0\">Leto rojstva</option>\n                {makeSelectYear()}\n            </select>\n        </div>\n    )\n}\n\nexport default Birthday;","import React from 'react';\nimport '../App.css';\n\nconst abb = [\"AF\", \"AL\", \"DZ\", \"AX\", \"AS\", \"AI\", \"AD\", \"AO\", \"AN\", \"AG\", \"AQ\", \"AR\", \"AM\", \"AU\", \"AT\", \"AW\", \"AZ\",\n\"BA\", \"BB\", \"BD\", \"BE\", \"BF\", \"BG\", \"BH\", \"BI\", \"BJ\", \"BM\", \"BN\", \"BO\", \"BR\", \"BS\", \"BT\", \"BV\", \"BW\", \"BY\", \"BZ\", \"KH\",\n\"CM\", \"CA\", \"CV\", \"CF\", \"TD\", \"CL\", \"CN\", \"CX\", \"CC\", \"CO\", \"CG\", \"CI\", \"CK\", \"CR\", \"HR\", \"CU\", \"CY\", \"CZ\", \"CD\", \"DJ\",\n\"DK\", \"DM\", \"DO\", \"EC\", \"EG\", \"SV\", \"TP\", \"EE\", \"GQ\", \"ER\", \"ET\", \"FI\", \"FJ\", \"FK\", \"FM\", \"FO\", \"FR\", \"FX\", \"GF\", \"PF\",\n\"GA\", \"GM\", \"DE\", \"GH\", \"GI\", \"GB\", \"GD\", \"GE\", \"GR\", \"GL\", \"GN\", \"GP\", \"GS\", \"GT\", \"GU\", \"GW\", \"GY\", \"HK\", \"HM\", \"HN\",\n\"HT\", \"HU\", \"ID\", \"IE\", \"IL\", \"IN\", \"IO\", \"IQ\", \"IR\", \"IT\", \"JM\", \"JO\", \"JP\", \"KE\", \"KG\", \"KI\", \"KM\", \"KN\", \"KP\", \"KR\",\n\"KW\", \"KY\", \"KZ\", \"LA\", \"LB\", \"LC\", \"LI\", \"LK\", \"LR\", \"LS\", \"LT\", \"LU\", \"LV\", \"LY\", \"MK\", \"MO\", \"MG\", \"MY\", \"ML\", \"MW\",\n\"MR\", \"MH\", \"MQ\", \"MU\", \"YT\", \"MT\", \"MX\", \"MA\", \"MC\", \"MD\", \"MN\", \"MM\", \"MP\", \"MS\", \"MV\", \"MZ\", \"NA\", \"NC\", \"NE\", \"NF\",\n\"NG\", \"NI\", \"NL\", \"NO\", \"NP\", \"NR\", \"NU\", \"NZ\", \"OM\", \"PA\", \"PE\", \"PG\", \"PH\", \"PK\", \"PL\", \"PM\", \"CS\", \"PN\", \"PR\", \"PS\",\n\"PT\", \"PW\", \"PY\", \"QA\", \"RE\", \"RO\", \"RU\", \"RW\", \"SA\", \"WS\", \"SH\", \"VC\", \"SM\", \"ST\", \"SN\", \"SC\", \"SL\", \"SG\", \"SK\", \"SI\",\n\"SB\", \"SO\", \"ZA\", \"ES\", \"SD\", \"SR\", \"SJ\", \"SE\", \"CH\", \"SY\", \"SU\", \"SZ\", \"TW\", \"TZ\", \"TJ\", \"TH\", \"TL\", \"TG\", \"TK\", \"TO\",\n\"TT\", \"TN\", \"TR\", \"TM\", \"TC\", \"TV\", \"UA\", \"UG\", \"AE\", \"UK\", \"US\", \"UM\", \"UY\", \"UZ\", \"VU\", \"VA\", \"VE\", \"VG\", \"VI\", \"VN\",\n\"WF\", \"EH\", \"YE\", \"YU\", \"ZM\", \"ZR\", \"ZW\"];\n\nconst country = [\"Afghanistan\", \"Albania\", \"Algeria\", \"Aland Islands\", \"American Samoa\", \"Anguilla\", \"Andorra\", \"Angola\",\n\"Antilles - Netherlands\", \"Antigua and Barbuda\", \"Antarctica\", \"Argentina\", \"Armenia\", \"Australia\", \"Austria\", \"Aruba\", \"Azerbaijan\",\n\"Bosnia and Herzegovina\", \"Barbados\", \"Bangladesh\", \"Belgium\", \"Burkina Faso\", \"Bulgaria\", \"Bahrain\", \"Burundi\", \"Benin\", \"Bermuda\",\n\"Brunei Darussalam\", \"Bolivia\", \"Brazil\", \"Bahamas\", \"Bhutan\", \"Bouvet Island\", \"Botswana\", \"Belarus\", \"Belize\", \"Cambodia\", \"Cameroon\",\n\"Canada\", \"Cape Verde\", \"Central African Republic\", \"Chad\", \"Chile\", \"China\", \"Christmas Island\", \"Cocos (Keeling) Islands\", \"Colombia\",\n\"Congo\", \"Cote D'Ivoire (Ivory Coast)\", \"Cook Islands\", \"Costa Rica\", \"Croatia (Hrvatska)\", \"Cuba\", \"Cyprus\", \"Czech Republic\",\n\"Democratic Republic of the Congo\", \"Djibouti\", \"Denmark\", \"Dominica\", \"Dominican Republic\", \"Ecuador\", \"Egypt\", \"El Salvador\", \"East Timor\",\n\"Estonia\", \"Equatorial Guinea\", \"Eritrea\", \"Ethiopia\", \"Finland\", \"Fiji\", \"Falkland Islands (Malvinas)\", \"Federated States of Micronesia\",\n\"Faroe Islands\", \"France\", \"France, Metropolitan\", \"French Guiana\", \"French Polynesia\", \"Gabon\", \"Gambia\", \"Germany\", \"Ghana\", \"Gibraltar\",\n\"Great Britain (UK)\", \"Grenada\", \"Georgia\", \"Greece\", \"Greenland\", \"Guinea\", \"Guadeloupe\", \"S. Georgia and S. Sandwich Islands\", \"Guatemala\",\n\"Guam\", \"Guinea-Bissau\", \"Guyana\", \"Hong Kong\", \"Heard Island and McDonald Islands\", \"Honduras\", \"Haiti\", \"Hungary\", \"Indonesia\", \"Ireland\",\n\"Israel\", \"India\", \"British Indian Ocean Territory\", \"Iraq\", \"Iran\", \"Italy\", \"Jamaica\", \"Jordan\", \"Japan\", \"Kenya\", \"Kyrgyzstan\", \"Kiribati\",\n\"Comoros\", \"Saint Kitts and Nevis\", \"Korea (North)\", \"Korea (South)\", \"Kuwait\", \"Cayman Islands\", \"Kazakhstan\", \"Laos\", \"Lebanon\", \"Saint Lucia\",\n\"Liechtenstein\", \"Sri Lanka\", \"Liberia\", \"Lesotho\", \"Lithuania\", \"Luxembourg\", \"Latvia\", \"Libya\", \"Macedonia\", \"Macao\", \"Madagascar\", \"Malaysia\",\n\"Mali\", \"Malawi\", \"Mauritania\", \"Marshall Islands\", \"Martinique\", \"Mauritius\", \"Mayotte\", \"Malta\", \"Mexico\", \"Morocco\", \"Monaco\", \"Moldova\",\n\"Mongolia\", \"Myanmar\", \"Northern Mariana Islands\", \"Montserrat\", \"Maldives\", \"Mozambique\", \"Namibia\", \"New Caledonia\", \"Niger\", \"Norfolk Island\",\n\"Nigeria\", \"Nicaragua\", \"Netherlands\", \"Norway\", \"Nepal\", \"Nauru\", \"Niue\", \"New Zealand (Aotearoa)\", \"Oman\", \"Panama\", \"Peru\", \"Papua New Guinea\",\n\"Philippines\", \"Pakistan\", \"Poland\", \"Saint Pierre and Miquelon\", \"Serbia and Montenegro\", \"Pitcairn\", \"Puerto Rico\", \"Palestinian Territory\",\n\"Portugal\", \"Palau\", \"Paraguay\", \"Qatar\", \"Reunion\", \"Romania\", \"Russian Federation\", \"Rwanda\", \"Saudi Arabia\", \"Samoa\", \"Saint Helena\",\n\"Saint Vincent and the Grenadines\", \"San Marino\", \"Sao Tome and Principe\", \"Senegal\", \"Seychelles\", \"Sierra Leone\", \"Singapore\", \"Slovakia\",\n\"Slovenia\", \"Solomon Islands\", \"Somalia\", \"South Africa\", \"Spain\", \"Sudan\", \"Suriname\", \"Svalbard and Jan Mayen\", \"Sweden\", \"Switzerland\", \"Syria\",\n\"USSR (former)\", \"Swaziland\", \"Taiwan\", \"Tanzania\", \"Tajikistan\", \"Thailand\", \"Timor-Leste\", \"Togo\", \"Tokelau\", \"Tonga\", \"Trinidad and Tobago\",\n\"Tunisia\", \"Turkey\", \"Turkmenistan\", \"Turks and Caicos Islands\", \"Tuvalu\", \"Ukraine\", \"Uganda\", \"United Arab Emirates\", \"United Kingdom\", \"United States\",\n\"United States Minor Outlying Islands\", \"Uruguay\", \"Uzbekistan\", \"Vanuatu\", \"Vatican City State\", \"Venezuela\", \"Virgin Islands (British)\", \"Virgin Islands (U.S.)\",\n\"Viet Nam\", \"Wallis and Futuna\", \"Western Sahara\", \"Yemen\", \"Yugoslavia (former)\", \"Zambia\", \"Zaire (former)\", \"Zimbabwe\"];\n\nconst makeSelectCountry = () => {\n    return abb.map((abb, index) => <option value={abb} key = {abb}>{country[index]}</option>)\n}\n\nconst warnStyle = {\n    border: '1px solid red'\n}\n\nconst Countries = (props) => {\n\n    return (\n        <div>\n            <select name=\"country\" id=\"country\" value={props.country} onChange={props.onChange}\n                style={(!props.country && props.saveAttempt===true)  ? warnStyle : null}>\n                <option value=\"\">Država</option>\n                {makeSelectCountry()}\n            </select>\n            <select name=\"nationality\" id=\"nationality\" value={props.nationality} onChange={props.onChange}\n                style={(!props.nationality && props.saveAttempt===true)  ? warnStyle : null}>\n                <option value=\"\">Državljanstvo</option>\n                {makeSelectCountry()}\n            </select>\n        </div>\n    )\n}\n\nexport default Countries;","import React, {Component} from 'react';\nimport { FaEyeSlash, FaEye } from 'react-icons/fa';\nimport Birthday from './Birthday';\nimport Countries from './Countries';\n\nclass SignUpForm extends Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            visible: false,\n            style: {color: 'gray'}\n\t\t};\n    }\n\n    visibilityChange = () => {\n        this.setState({visible: !this.state.visible})\n    }\n\n    render() {\n\n        const style={\n            textAlign: \"center\",\n            margin: \"30px\",\n            paddingLeft: \"20vw\",\n            paddingRight: \"20vw\"\n        }\n\n        const iconStyle = {\n            margin: 'auto -50px',\n            paddingTop: '8px',\n            border: 'none',\n            backgroundColor: 'rgb(255, 255, 255, 0)',\n            verticalAlign: 'middle'\n        }\n\n        const warnStyle = {\n            border: '1px solid red'\n        }\n\n        return(\n            <div style={style}>\n                <form onSubmit={this.props.handleClickSignUp}>\n                    <input\n                        type=\"text\"\n                        name=\"firstName\"\n                        value={this.props.firstName}\n                        placeholder=\"Ime\"\n                        onChange={this.props.handleChange}\n                        maxLength=\"30\"\n                        style={(!this.props.firstName && this.props.saveAttempt===true)  ? warnStyle : null}>\n                    </input>\n                    <br/>\n                    <input\n                        type=\"text\"\n                        name=\"lastName\"\n                        value={this.props.lastName}\n                        placeholder=\"Priimek\"\n                        onChange={this.props.handleChange}\n                        maxLength=\"30\"\n                        style={(!this.props.lastName && this.props.saveAttempt===true)  ? warnStyle : null}>\n                    </input>\n                    <br/>\n                    <input\n                        type=\"text\"\n                        name=\"street\"\n                        value={this.props.street}\n                        placeholder=\"Ulica in hišna številka\"\n                        onChange={this.props.handleChange}\n                        maxLength=\"30\"\n                        style={(!this.props.street && this.props.saveAttempt===true)  ? warnStyle : null}>\n                    </input>\n                    <br/>\n                    <input\n                        type=\"text\"\n                        name=\"postNumber\"\n                        value={this.props.postNumber}\n                        placeholder=\"Poštna številka\"\n                        onChange={this.props.handleChange}\n                        maxLength=\"10\"\n                        style={(!this.props.postNumber && this.props.saveAttempt===true)  ? warnStyle : null}>\n                    </input>\n                    <br/>\n                    <input\n                        type=\"text\"\n                        name=\"town\"\n                        value={this.props.town}\n                        placeholder=\"Kraj\"\n                        onChange={this.props.handleChange}\n                        maxLength=\"30\"\n                        style={(!this.props.town && this.props.saveAttempt===true)  ? warnStyle : null}>\n                    </input>\n                    <br/>\n                    <input\n                        type=\"text\"\n                        name=\"region\"\n                        value={this.props.region}\n                        placeholder=\"Regija\"\n                        onChange={this.props.handleChange}\n                        maxLength=\"30\"\n                        style={(!this.props.region && this.props.saveAttempt===true)  ? warnStyle : null}>\n                    </input>\n                    <br/>\n                    <Countries\n                        country={this.props.country}\n                        nationality={this.props.nationality}\n                        onChange={this.props.handleChange}\n                        saveAttempt={this.props.saveAttempt}\n                    />\n                    <input\n                        type=\"text\"\n                        name=\"phoneNumber\"\n                        value={this.props.phoneNumber}\n                        placeholder=\"Številka mobilnega telefona\"\n                        onChange={this.props.handleChange}\n                        maxLength=\"20\"\n                        style={(!this.props.phoneNumber && this.props.saveAttempt===true)  ? warnStyle : null}>\n                    </input>\n                    <br/>\n                    <input\n                        type=\"email\"\n                        name=\"email\"\n                        value={this.props.email}\n                        placeholder=\"E-naslov\"\n                        onChange={this.props.handleChange}\n                        maxLength=\"30\"\n                        style={(!this.props.email && this.props.saveAttempt===true)  ? warnStyle : null}>\n                    </input>\n\n                    <Birthday\n                        day={this.props.day}\n                        month={this.props.month}\n                        year={this.props.year}\n                        onChange={this.props.handleChange}\n                        saveAttempt={this.props.saveAttempt}\n                    />\n\n                    <br/>\n                    <div style = {{display: 'inline-flex', width: '100%'}}>\n                    <input\n                        type={this.state.visible ? 'text' : 'password'}\n                        name=\"password\"\n                        value={this.props.password}\n                        placeholder=\"Geslo\"\n                        onChange={this.props.handleChange}\n                        style={(!this.props.password && this.props.saveAttempt===true)  ? warnStyle : null}>\n                    </input>\n                    {this.state.visible ? <button type = 'button' style = {iconStyle} onClick = {this.visibilityChange}>\n                                                <FaEyeSlash size = '2em'/>\n                                            </button> :\n                                            <button type = 'button' style = {iconStyle} onClick = {this.visibilityChange}>\n                                                <FaEye size = '2em'/>\n                                            </button>}\n                    </div>\n                    \n                    <br/>\n                    <br/>\n                    <p><b>ČE SE ŽELITE REGISTRIRATI TUDI KOT PRODAJALEC, IZPOLNITE ŠE NASLEDNJE PODATKE:</b></p>\n                    <input\n                        type=\"text\"\n                        name=\"iban\"\n                        value={this.props.iban}\n                        placeholder=\"IBAN\"\n                        onChange={this.props.handleChange}\n                        maxLength=\"30\">\n                    </input>\n                    <br/>\n                    <input\n                        type=\"text\"\n                        name=\"bic\"\n                        value={this.props.bic}\n                        placeholder=\"BIC banke\"\n                        onChange={this.props.handleChange}\n                        maxLength=\"10\">\n                    </input>\n                    <br/>\n\n                    <br/>\n                    <button type = 'submit' className = 'btnb' id = 'signup'>ZAKLJUČI REGISTRACIJO</button>\n                </form>\n                <p>{this.props.birthday}</p>\n            </div>\n        );\n    }\n\n}\n\nexport default SignUpForm;\n\n// eslint-disable-next-line \n{/*\n<NumberFormat\nvalue={this.props.postNumber}\nplaceholder='Poštna številka'\nformat='####'\nallowNegative={false}\nisNumericString={true}\nonValueChange={this.props.changePostNumber}/>\n<br/>\n    \n    \n<NumberFormat\nvalue={this.props.phoneNumber}\nplaceholder='Številka mobilnega telefona'\nformat='+386 (0)## ### ###'\nallowEmptyFormatting={false}\nallowNegative={false}\nisNumericString={true}\nonValueChange={this.props.changePhoneNumber}\nonClick={()=> this.setState({style: {color: 'black'}})}\nstyle = {this.state.style}/> */}","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport ClipLoader from 'react-spinners/ClipLoader';\nimport SignUpForm from '../components/SignUpForm';\nimport Header from '../components/Header';\nimport UpperLine from '../components/UpperLine';\nimport BreadCrumbs from '../components/BreadCrumbs';\nimport NavBar from '../components/NavBar';\nimport Bottom from '../components/Bottom';\nimport AdSpace from '../components/AdSpace';\nimport '../App.css';\n\nclass SignUpPage extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            loggedInUserId: 0,\n\t\t\tfirstName: '',\n            lastName: '',\n            street: '',\n            postNumber: '',\n            town: '',\n            region: '',\n            country: '',\n            day: 0,\n            month: 0,\n            year: 0,\n            nationality: '',\n            phoneNumber: '',\n\t\t\temail: '',\n            password: '',\n            iban: '',\n            bic: '',\n            signUpText: '',\n            warning: '',\n            loading: false,\n            saveAttempt: false,\n            registrationSuccess: false\n\t\t};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.handleClickSignUp = this.handleClickSignUp.bind(this);\n    }\n\n    abortController = new AbortController();\n\n    componentDidMount() {\n        this.setState({loggedInUserId: this.props.loggedInUserId});\n        console.log(this.state.loggedInUserId);\n    }\n    \n    handleClickSignUp = (e) => {\n        e.preventDefault();\n\n        // if(this.state.firstName !== '' &&\n        // this.state.lastName !== '' &&\n        // this.state.street !== '' &&\n        // this.state.postNumber !== '' &&\n        // this.state.town !== '' &&\n        // this.state.region !== '' &&\n        // this.state.country !== '' &&\n        // this.state.day !== 0 &&\n        // this.state.month !== 0 &&\n        // this.state.year !== 0 &&\n        // this.state.nationality !== '' &&\n        // this.state.phoneNumber !== '' &&\n        // this.state.email !== '' &&\n        // this.state.password !== '' &&\n        // this.state.warning === '')\n\n        function toTimestamp(year,month,day){\n            var datum = new Date(Date.UTC(year,month-1,day, 1, 0, 0)); //later change this for different timezones\n            return datum.getTime()/1000;\n        }\n\n        this.setState({loading: true, saveAttempt: true});\n\t\tif(this.state.firstName !== '' &&\n            this.state.lastName !== '' &&\n            this.state.street !== '' &&\n            this.state.postNumber !== '' &&\n            this.state.town !== '' &&\n            this.state.region !== '' &&\n            this.state.country !== '' &&\n            this.state.day !== 0 &&\n            this.state.month !== 0 &&\n            this.state.year !== 0 &&\n            this.state.nationality !== '' &&\n            this.state.phoneNumber !== '' &&\n\t\t\tthis.state.email !== '' &&\n            this.state.password !== '' &&\n            this.state.warning === '') {\n\n\t\t\t\tfetch('/api/signuproutes', {\n                    signal: this.abortController.signal,\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t'Accept': 'application/json'\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\tenjoyer: {\n\t\t\t\t\t\t\tfirstName: this.state.firstName,\n                            lastName: this.state.lastName,\n                            street: this.state.street,\n                            postNumber: this.state.postNumber,\n                            town: this.state.town,\n                            region: this.state.region,\n                            country: this.state.country,\n                            birthday: toTimestamp(this.state.year, this.state.month, this.state.day),\n                            nationality: this.state.nationality,\n                            phoneNumber: this.state.phoneNumber,\n\t\t\t\t\t\t\temail: this.state.email,\n                            password: this.state.password,\n                            iban: this.state.iban,\n                            bic: this.state.bic\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}).then(res => res.json())\n\t\t\t\t\t.then(result => this.setState({signUpText: result.signUpSuccess.text, registrationSuccess: result.signUpSuccess.code, loading: false}));\n        }else {this.setState((state) => ({...state, signUpText: 'Napaka pri vnosu, preverite podatke!', loading: false}))}\n        \n    }\n \n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n    \n\n    checkPassStrength(pass) {\n        const mediumRegex = new RegExp(\"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{8,})\");\n        return mediumRegex.test(pass);\n    }\n\n\n    handleChange(event) {\n\n        if(event.target.name === 'password') {\n            if(!this.checkPassStrength(event.target.value)){\n                this.setState({\n                    warning: 'Geslo mora biti dolgo vsaj 8 znakov in mora vsebovati vsaj dva od naslednjih znakov: mala črka, velika črka, številka.'\n                });\n            } else {\n                this.setState({warning: ''});\n            }\n        }\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n\n    }\n    changePhoneNumber = (values) => {\n        const {value} = values;\n        this.setState({phoneNumber: value});\n    }\n    \n    changePostNumber = (values) => {\n        const {value} = values;\n        this.setState({postNumber: value});\n    }\n\n    changeBirthday = (values) => {\n        const {value} = values;\n        this.setState({birthday: value});\n    }\n\n    //Registracija uspešna! Preveri svoj poštni nabiralnik.\n\n    render() {\n\n        let loggedInId = Number(this.state.loggedInUserId);\n\n        if(loggedInId) {\n            return <div>\n                        <br/>\n                        <p style = {{color: 'white'}}>{loggedInId}</p>\n                        <p style = {{backgroundColor: 'white'}}>STE ŽE PRIJAVLJENI V SISTEM!</p>\n                        <br/>\n                        <NavLink exact to='/' style = {{color: 'white'}}>DOMOV</NavLink>\n                    </div>\n        }\n        else if(this.state.registrationSuccess) {\n            return <div style={{textAlign:'center'}}>\n                        <br/>\n                        <h2 style = {{backgroundColor: 'white'}}>REGISTRACIJA USPEŠNA! PREVERITE SVOJ POŠTNI NABIRALNIK.</h2>\n                        <br/>\n                    </div>\n        }\n        else return (\n            <>\n                <UpperLine/>\n                <Header/>\n                <NavBar/>\n                <BreadCrumbs pathname = {this.props.location.pathname}/>\n                <div className='SignUp'>\n                    <h1>DOBRODOŠLI!</h1>\n                    <h2>Nekaj napotkov:</h2>\n                    <p>\"Lorem ipsum dolor sit amet, \n                        consectetur adipiscing elit, \n                        sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \n                        Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris\n                        nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in\n                        reprehenderit in voluptate velit esse cillum dolore eu fugiat \n                        nulla pariatur. Excepteur sint occaecat cupidatat non proident, \n                        sunt in culpa qui officia deserunt mollit anim id est laborum.\"</p>\n                    <SignUpForm\n                        saveAttempt={this.state.saveAttempt}\n                        firstName={this.state.firstName}\n                        lastName={this.state.lastName}\n                        email={this.state.email}\n                        street={this.state.street}\n                        postNumber={this.state.postNumber}\n                        town={this.state.town}\n                        region={this.state.region}\n                        country={this.state.country}\n                        nationality={this.state.nationality}\n                        day={this.state.day}\n                        month={this.state.month}\n                        year={this.state.year}\n                        phoneNumber={this.state.phoneNumber}\n                        password={this.state.password}\n                        iban={this.state.iban}\n                        bic={this.state.bic}\n                        handleChange={this.handleChange}\n                        changePhoneNumber={this.changePhoneNumber}\n                        changePostNumber={this.changePostNumber}\n                        changeBirthday={this.changeBirthday}\n                        handleClickSignUp={this.handleClickSignUp}/>\n\n                    <div style = {{backgroundColor: 'rgb(255, 255, 255, 0.8)'}}>\n                        <p style = {{color: 'red', lineHeight: '40px'}}>{this.state.warning}</p>\n                        <p style = {{color: 'black', lineHeight: '40px'}}>{this.state.signUpText}</p>\n                    </div>\n                    {this.state.signUpText.code === 1 && <div>\n                        <p>Niste prejeli e-sporočila? <NavLink to = '/requestconfirmemail'>Ponovno pošlji</NavLink> </p>\n                    </div>}\n                    <ClipLoader\n                        size={50}\n                        color={'white'}\n                        loading={this.state.loading}\n                    />\n                </div>\n                <AdSpace/>\n                <Bottom/>\n            </>\n\n        );\n\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n  };\n\nexport default connect(mapStateToProps) (SignUpPage);","import React from 'react';\nimport '../App.css';\n\nconst MainPagePhoto = () => {\n\n    return (\n        <div className=\"container\">\n                 \n        </div>\n    )\n}\n\nexport default MainPagePhoto;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { logIn, logOut } from '../redux/actions'\nimport UpperLine from '../components/UpperLine';\nimport NavBar from '../components/NavBar';\nimport MainPagePhoto from '../components/MainPagePhoto';\nimport AdSpace from '../components/AdSpace';\nimport Header from '../components/Header';\nimport Bottom from '../components/Bottom';\nimport BreadCrumbs from '../components/BreadCrumbs';\nimport '../App.css';\n\n\n\nclass HomePage extends React.Component {\n\n  render() {\n\n    return (\n        <div className=\"App\">\n            <UpperLine/>\n            <Header/>\n            <NavBar/>\n            <BreadCrumbs pathname = {this.props.location.pathname}/>\n            <MainPagePhoto loggedInUser={this.props.loggedInUser}/>\n            <AdSpace/>\n            <Bottom/>\n        </div>\n    );\n\n  }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId,\n    };\n  };\n  \n  const mapDispatchToProps = {\n    logIn: logIn,\n    logOut: logOut\n  };\n\nexport default connect(mapStateToProps, mapDispatchToProps) (HomePage);\n\n","import React, {Component} from 'react';\nimport { NavLink } from 'react-router-dom';\n\nclass SignInForm extends Component {\n\n    render() {\n        return(\n            <div style = {{maxWidth: '300px', margin: '0 auto'}}>\n                <form onSubmit={this.props.handleClickLogIn}>\n                    <input\n                        type=\"text\"\n                        name=\"loginEmail\"\n                        value={this.props.loginEmail}\n                        placeholder=\"E-naslov\"\n                        onChange={this.props.handleChange}>\n                    </input>\n                    <br/>\n                    <input\n                        type=\"password\"\n                        name=\"loginPassword\"\n                        value={this.props.loginPassword}\n                        placeholder=\"Geslo\"\n                        onChange={this.props.handleChange}>\n                    </input>\n                    <br/>\n                    <button type = 'submit' className=\"btnb\" id=\"login\">PRIJAVI SE</button>\n                    <br/>\n                </form>\n                <NavLink to = '/forgotpassword' style = {{fontWeight: 'bold', color: 'white'}}>Pozabljeno geslo</NavLink>\n            </div>\n        );\n    }\n\n}\n\nexport default SignInForm;","import React from 'react';\nimport { NavLink } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport { logIn, logOut } from '../redux/actions';\nimport '../App.css';\nimport SignInForm from '../components/SignInForm';\nimport Header from '../components/Header';\nimport NavBar from '../components/NavBar';\nimport AdSpace from '../components/AdSpace';\nimport UpperLine from '../components/UpperLine';\nimport Bottom from '../components/Bottom';\nimport BreadCrumbs from '../components/BreadCrumbs';\n\nclass LogInPage extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            //loggedInUser: 'guest',\n\t\t\t//loggedInUserId: '',\n\t\t\tloginEmail: '',\n\t\t\tloginPassword: '',\n\t\t\tlogInText: ''\n\t\t};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.handleClickLogIn = this.handleClickLogIn.bind(this);\n    }\n    \n    abortController = new AbortController();\n\tcomponentDidMount() {\n\t\tfetch('/api/sessionroutes', {\n            signal: this.abortController.signal})\n\t\t\t.then(res => res.json())\n            .then(res => this.props.logIn(res.loggedInUser, res.userId));\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n    \n\thandleClickLogIn = (e) => {\n        e.preventDefault();\n\t\tif(this.state.loginEmail !== '' &&\n\t\tthis.state.loginPassword !== '') {\n\t\t\tfetch('/api/loginroutes', {\n                signal: this.abortController.signal,\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Accept': 'application/json'\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tenjoyer: {\n\t\t\t\t\t\temail: this.state.loginEmail,\n\t\t\t\t\t\tpassword: this.state.loginPassword\n                    },\n                    type: \"login\"\n\t\t\t\t})\n            }).then(res => res.json())\n                .then(result => {\n                    if(result.success === \"login sucessfull\") {\n                        //this.setState({loggedInUser: result.loggedInUser, loggedInUserId: result.uid, logInText:result.success})\n                        this.setState({logInText: result.success},() => this.props.logIn(result.loggedInUser, result.uid));\n                        this.props.history.push(\"/\");\n                    } else {\n                        this.setState({logInText:result.success})\n                    }\n                })\n\n        }else {console.log(\"LOGIN FAILED\"); this.setState({logInText: 'Napaka pri vnosu'})}\n        this.setState({\n            logInText:'',\n            loginEmail:'',\n\t\t\tloginPassword:'',\n        })\n    }\n    \n    handleChange(event) {\n\t\tthis.setState({\n\t\t\t[event.target.name]: event.target.value\n\t\t})\n    }\n\n    render() {\n\n        const style = {\n            textAlign: \"center\",\n            marginTop: \"10vh\",\n            paddingLeft: \"30vw\",\n            paddingRight: \"30vw\"\n        }\n\n        const confirmed = window.location.href.includes('?confirmed')\n\n        return (\n            <div className=\"App\">\n                <UpperLine/>\n                <Header/>\n                <NavBar/>\n                <BreadCrumbs pathname = {this.props.location.pathname}/>\n                <div style={style}>\n                {confirmed && <p style = {{color: 'white'}}><b>USPEŠNO STE POTRDILI SVOJ E-NASLOV! PRIJAVITE SE Z UPORABNIŠKIM IMENOM IN GESLOM.</b></p>}\n                <SignInForm\n                    loginEmail={this.state.loginEmail}\n                    loginPassword={this.state.loginPassword}\n                    handleChange={this.handleChange}\n                    handleClickLogIn={this.handleClickLogIn}/>\n                <p style = {{color: 'red', textShadow: '1px 1px black'}}>{this.state.logInText}</p>\n                {this.state.logInText === 'Unconfirmed' &&\n                    <div style = {{color: 'white'}}>\n                        <p>Vaš poštni naslov še ni potrjen. Preverite svoj poštni nabiralnik, vključno z vsiljeno pošto.</p>\n                        <p>Če niste dobili e-pošte ali pa je povezava potekla, kliknite <NavLink to = '/requestconfirmemail'>tukaj</NavLink>.</p>\n                    </div>}\n                <br/>\n                <p style = {{color: 'white', textShadow: '1px 1px black'}}>Še nimaš uporabniškega računa?</p>\n                <NavLink to=\"/signUp_page\" className=\"btnb\" activeStyle={{fontWeight: \"bold\"}}>REGISTRIRAJ SE</NavLink>\n                </div>\n                <AdSpace/>\n                <Bottom/>\n            </div>\n        );\n\n    }\n\n\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n  };\n  \n  const mapDispatchToProps = {\n    logIn: logIn,\n    logOut: logOut\n  };\n\nexport default connect(mapStateToProps, mapDispatchToProps) (LogInPage);","import axios from 'axios';\n\n//UploadPage.jsx, EditPage.jsx\n\nexport function doUpload(type, selection, userId, user, signal, adId, photos) {\n\n    if(photos) {\n        const data = new FormData();\n\n        const files = photos.map(photo => {\n            return photo.file;\n        })\n        for(let i = 0; i<files.length; i++) {\n            data.append('file', files[i]);\n        }\n        for(let i = 0; i<files.length; i++) {\n            data.append('fileName' + (i+1), files[i].name);\n        }\n\n        const crops = photos.map(photo => {\n            return photo.crop;\n        })\n        for(let i = 0; i<crops.length; i++) {\n            data.append('width' + (i+1), crops[i].width);\n            data.append('height' + (i+1), crops[i].height);\n            data.append('left' + (i+1), crops[i].x);\n            data.append('top' + (i+1), crops[i].y);\n        }\n\n        Object.keys(selection).forEach(key => {\n            data.append(key, selection[key]);\n        });\n\n        data.append('userId', userId);\n        data.append('userName', user);\n        data.append('type', type);\n        data.append('adId', adId);\n\n        //http://185.185.41.168/:4007\n        //alert(data);\n\n        return axios.post('http://novomoden.si/api/uploadListing', data, {cancelToken: signal.token});\n        //return axios.post('http://novomoden.si:4007/uploadListing', data, {cancelToken: signal.token});\n    } else {\n        return fetch('/api/editListing', {\n            signal: signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                selection,\n                userId: userId,\n                userName: user,\n                type: type,\n                adId: adId\n            })\n        })\n    }\n}\n\n\n//SelectForms.jsx\n\nexport function findIndex(array, nameWeAreLookingFor) {\n    for(let i = 0; i<array.length; i++) {\n        if(array[i].label === nameWeAreLookingFor) return i;\n    }\n    return 0;\n}\n\nexport function findIndexByValue(array, nameWeAreLookingFor) {\n    for(let i = 0; i<array.length; i++) {\n        if(array[i].value === nameWeAreLookingFor) return i;\n    }\n    return 0;\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport ReactCrop from 'react-image-crop';\nimport Resizer from 'react-image-file-resizer';\nimport 'react-image-crop/dist/ReactCrop.css';\nimport '../../App.css';\n\n\nclass ImgUpload extends React.PureComponent {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            crop: {\n                unit: '%',\n                aspect: 3 / 4,\n                width: 50\n            },\n            src: null,\n            croppedImageUrl: '',\n            cropUrl: null,\n            file: null,\n            dimensions: {\n                height: 0,\n                width: 0\n            },\n            warning: ''\n        };\n    }\n\n    onSelectFile = e => {\n        if (e.target.files && e.target.files.length > 0) {\n            var fileName, fileExtension;\n            fileName = e.target.files[0].name;\n            fileExtension = fileName.replace(/^.*\\./, '');\n            if (fileExtension === 'png' || fileExtension === 'jpg' || fileExtension === 'jpeg') {\n                this.readImageFile(e.target.files[0]);\n                Resizer.imageFileResizer(\n                    e.target.files[0],\n                    450,\n                    600,\n                    'JPEG',\n                    100,\n                    0,\n                    uri => { this.setState({src: uri}); },\n                    'base64'\n                );\n                this.setState({file: e.target.files[0]});\n                this.setState({cropUrl: null});\n            } else {this.setState({warning: 'Slika mora biti formata jpg, jpeg ali png!'})}\n        }\n    };\n\n    readImageFile = (file) => {\n        const reader = new FileReader();\n        let w;\n        let h;\n        var self = this;\n        reader.onload = function (e) {\n            let img = new Image();      \n            img.src = e.target.result;\n            img.onload = function () {\n                w = this.width;\n                h = this.height;\n                if (w < 450 || h < 600) {\n                    self.setState({warning: 'Premajhna slika. Minimalna veikost slike je 450x600 px.'});\n                } else self.setState({warning: ''});\n            }\n        };\n        reader.readAsDataURL(file);\n    }\n\n    onImageLoaded = image => {\n        this.imageRef = image;\n        this.setState({dimensions:{height:image.offsetHeight,\n            width:image.offsetWidth}});\n    };\n    \n    onCropComplete = crop => {\n        this.makeClientCrop(crop);\n    };\n    \n    onCropChange = (crop, percentCrop) => {\n        // You could also use percentCrop:\n        //this.setState({ crop: percentCrop });\n        this.setState({ crop });\n    };\n\n    async makeClientCrop(crop) {\n        if (this.imageRef && crop.width && crop.height) {\n            const croppedImageUrl = await this.getCroppedImg(\n                this.imageRef,\n                crop,\n                'newFile.jpeg'\n            );\n            this.setState({ croppedImageUrl });\n        }\n    }\n\n    getCroppedImg(image, crop, fileName) {\n        const canvas = document.createElement('canvas');\n        const scaleX = image.naturalWidth / image.width;\n        const scaleY = image.naturalHeight / image.height;\n        canvas.width = crop.width;\n        canvas.height = crop.height;\n        const ctx = canvas.getContext('2d');\n\n    ctx.drawImage(\n        image,\n        crop.x * scaleX,\n        crop.y * scaleY,\n        crop.width * scaleX,\n        crop.height * scaleY,\n        0,\n        0,\n        crop.width,\n        crop.height\n    );\n\n    return new Promise((resolve, reject) => {\n        canvas.toBlob(blob => {\n            if (!blob) {\n                //reject(new Error('Canvas is empty'));\n                console.error('Canvas is empty');\n                return;\n            }\n            blob.name = fileName;\n            window.URL.revokeObjectURL(this.fileUrl);\n            this.fileUrl = window.URL.createObjectURL(blob);\n            resolve(this.fileUrl);\n            }, 'image/jpeg');\n        });\n    }\n\n    saveCrop = () => {\n        if(this.state.warning === '') {\n            this.setState({cropUrl: this.state.croppedImageUrl, src: '', croppedImageUrl: ''});\n            const photo = {file: this.state.file, crop: this.state.crop};\n            this.props.callBackParent(photo, parseInt(this.props.index));\n        }\n    }\n\n    render() {\n\n        const { crop, src } = this.state;\n        return (\n            <>\n                <div className=\"chosen_photos\">\n                    <input id=\"input1\" type=\"file\" onChange={this.onSelectFile} />\n                    <br/>\n                    <br/>\n                </div>\n                <div>\n                    {src && (\n                        <ReactCrop\n                            src={src}\n                            crop={crop}\n                            ruleOfThirds\n                            onImageLoaded={this.onImageLoaded}\n                            onComplete={this.onCropComplete}\n                            onChange={this.onCropChange}\n                        />\n                    )}\n                    <p style={{ color: 'red' }}>{this.state.warning}</p>\n                    {(!this.state.cropUrl && src) && <button id='1' className = 'btnb' onClick={this.saveCrop}>SHRANI SLIKO</button>}\n                    {this.state.cropUrl && <img alt=\"Crop1\" style={{ width: '200px' }} src={this.state.cropUrl}/>}\n                </div>\n            </>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n  };\n\nexport default connect(mapStateToProps) (ImgUpload);\n","import React from 'react';\nimport Select from 'react-select';\nimport { connect } from 'react-redux';\nimport NumberFormat from 'react-number-format';\nimport '../../App.css';\nimport * as Constants from '../../constants';\nimport {findIndex} from '../../functions/index';\n\n\n\nclass SelectForms extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            category: { value: '', label: 'Izberi kategorijo' },\n            women: { value: '', label: 'Izberi kategorijo' },\n            men: { value: '', label: 'izberi kategorijo' },\n            kids: { value: '', label: 'Izberi kategorijo' },\n            clothsize: { value: '', label: 'Izberi velikost' },\n            material: { value: '', label: 'Izberi material' },\n            condition: { value: '', label: 'Izberi stanje' },\n            brand: {value: '', status: false},\n            descrtext: {value: '', status: false},\n            weight: {value: null, status: false},\n            price: {value: null, status: false}\n        };\n    }\n\n    abortController = new AbortController();\n\n    fillTheForm = (receivedObject) => {\n        const receivedValues = Object.values(receivedObject);\n        this.setState({category: Constants.category[receivedValues[0]],\n                        women: Constants.women[receivedValues[1]],\n                        men: Constants.men[receivedValues[1]],\n                        kids: Constants.kids[receivedValues[1]],\n                        clothsize: Constants.clothsize[receivedValues[2]],\n                        material: Constants.material[receivedValues[3]],\n                        condition: Constants.condition[receivedValues[4]],\n                        brand: {value: receivedValues[5], status: true},\n                        descrtext: {value: receivedValues[6], status: true},\n                        weight: {value: receivedValues[7], status: true},\n                        price: {value: receivedValues[8], status: true}});\n    }\n\n    componentDidMount() {\n        const adId = this.props.adId;\n        if(adId !== '') {\n            fetch('/api/fillform', {\n                signal: this.abortController.signal,\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json'\n                },\n                body: JSON.stringify({adId: adId})\n            }).then(res => res.json())\n                .then(res => {this.fillTheForm(res[0])})\n                .catch(e => console.error(\"Critical failure: \" + e.message));\n        }\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n   \n    changeCategory = selected => {\n        this.setState({category: selected,\n                        women: { value: '', label: 'Izberi kategorijo' },\n                        men: { value: '', label: 'izberi kategorijo' },\n                        kids: { value: '', label: 'Izberi kategorijo' }},\n                        () => this.saveSelection);\n    }\n    changeWomen = selected => {\n        this.setState({women: selected}, () => this.saveSelection());\n    }\n    changeMen = selected => {\n        this.setState({men: selected}, () => this.saveSelection());\n    }\n    changeKids = selected => {\n        this.setState({kids: selected}, () => this.saveSelection());\n    }\n    changeSize = selected => {\n        this.setState({clothsize: selected}, () => this.saveSelection());\n    }\n    changeMaterial = selected => {\n        this.setState({material: selected}, () => this.saveSelection());\n    }\n    changeCondition = selected => {\n        this.setState({condition: selected}, () => this.saveSelection());\n    }\n    changeBrand = (event) => {\n        const {value} = event.target;\n        this.setState({brand: {value: value, status: true}}, () => this.saveSelection());\n    }\n\n    changeWeight = (values) => {\n        //const {formattedValue, value} = values;\n        const {value} = values;\n        if(value>0 && value<2000) {\n            this.setState({weight: {value: value, status: true}}, () => this.saveSelection());\n        }else {\n            this.setState({weight: {value: '', status: false}}, () => this.saveSelection());\n        }\n    }\n\n    changePrice = (values) => {\n        //const {formattedValue, value} = values;\n        const {value} = values;\n        if(value>0 && value<2000) {\n            this.setState({price: {value: value, status: true}}, () => this.saveSelection());\n        }else {\n            this.setState({price: {value: '', status: false}}, () => this.saveSelection());\n        }  \n    }\n\n    changeDescription = (event) => {\n        const {value} = event.target;\n        this.setState({descrtext: {value: value, status: true}}, () => this.saveSelection());\n    }\n\n\n    listFurther = () => {\n\n        const warnWomenStyle = {\n            container: (provided) => ({\n              ...provided,\n              border: (this.state.women.value==='' && this.props.saveAttempt===true) && '1px solid red',\n              borderRadius: '4px'\n            })\n        }\n        const warnMenStyle = {\n            container: (provided) => ({\n              ...provided,\n              border: (this.state.men.value==='' && this.props.saveAttempt===true) && '1px solid red',\n              borderRadius: '4px'\n            })\n        }\n        const warnKidsStyle = {\n            container: (provided) => ({\n              ...provided,\n              border: (this.state.kids.value==='' && this.props.saveAttempt===true) && '1px solid red',\n              borderRadius: '4px'\n            })\n        }\n\n        switch(this.state.category.value) {\n            case 'women':\n                return <Select styles={warnWomenStyle} options={Constants.women} value={this.state.women} name='women' onChange={this.changeWomen}/>\n            case 'men':\n                    return  <Select styles={warnMenStyle} options={Constants.men} value={this.state.men} name='men' onChange={this.changeMen}/>\n            case 'kids':\n                return  <Select styles={warnKidsStyle} options={Constants.kids} value={this.state.kids} name='kids' onChange={this.changeKids}/>\n            default:\n                return null;\n        }\n    }\n\n    render() {\n\n        const warnCategoryStyle = {\n            container: (provided) => ({\n              ...provided,\n              border: (this.state.category.value==='' && this.props.saveAttempt===true) && '1px solid red',\n              borderRadius: '4px'\n            })\n        }\n        const warnSizeStyle = {\n            container: (provided) => ({\n              ...provided,\n              border: (this.state.clothsize.value==='' && this.props.saveAttempt===true) && '1px solid red',\n              borderRadius: '4px'\n            })\n        }\n        const warnMaterialStyle = {\n            container: (provided) => ({\n              ...provided,\n              border: (this.state.material.value==='' && this.props.saveAttempt===true) && '1px solid red',\n              borderRadius: '4px'\n            })\n        }\n        const warnConditionStyle = {\n            container: (provided) => ({\n              ...provided,\n              border: (this.state.condition.value==='' && this.props.saveAttempt===true) && '1px solid red',\n              borderRadius: '4px'\n            })\n        }\n    \n\n        return (\n            <>\n                <div className=\"row\">\n                    <div className=\"column\">\n                        <Select\n                            styles={warnCategoryStyle}\n                            options={Constants.category}\n                            value={this.state.category}\n                            name='category'\n                            onChange={this.changeCategory}/>\n                        <br/>\n                        {this.listFurther()}\n                    </div>\n                    <div className=\"column\">\n                        {this.state.category.value !== 'kids' && \n                        <Select\n                            styles={warnSizeStyle}\n                            options={Constants.clothsize}\n                            value={this.state.clothsize}\n                            name='clothsize'\n                            onChange={this.changeSize}/>}\n                        <br/>\n                        <Select\n                            styles={warnMaterialStyle}\n                            options={Constants.material}\n                            value={this.state.material}\n                            name='material'\n                            onChange={this.changeMaterial}/>\n                        <br/>\n                        <Select\n                            styles={warnConditionStyle}\n                            options={Constants.condition}\n                            value={this.state.condition}\n                            name='condition'\n                            onChange={this.changeCondition}/>\n                        <br/>\n                        <input\n                            type=\"text\"\n                            name='brand'\n                            value={this.state.brand.value}\n                            placeholder='Znamka oblačila (neobvezno)'\n                            maxLength=\"30\" onChange={this.changeBrand}/>\n                        <br/><br/>\n                        <NumberFormat\n                            value={this.state.weight.value}\n                            placeholder=\"Masa v gramih\"\n                            decimalSeparator={','}\n                            allowLeadingZeros={false}\n                            allowNegative={false}\n                            suffix={' g'}\n                            isNumericString={true}\n                            onValueChange={this.changeWeight}\n                            className ={(!this.state.weight.status && this.props.saveAttempt===true)  ? \"red\" : null}/>\n                        <br/><br/>\n                        <NumberFormat\n                            value={this.state.price.value}\n                            placeholder=\"Cena v evrih\"\n                            decimalSeparator={','}\n                            allowLeadingZeros={false}\n                            allowNegative={false}\n                            suffix={' €'}\n                            isNumericString={true}\n                            onValueChange={this.changePrice}\n                            className ={(!this.state.price.status && this.props.saveAttempt===true) ? \"red\" : null}/>\n                    </div>\n                    <div className=\"column\">\n                        <textarea\n                            onChange={this.changeDescription}\n                            value={this.state.descrtext.value}\n                            placeholder=\"Opis (neobvezno)\"\n                            maxLength=\"990\">\n                        </textarea>\n                    </div>\n                </div>\n            </>\n        );\n\n    }\n\n    renderSwitch = (param) => {\n        switch(param) {\n            case 'women':\n                return findIndex(Constants.women, this.state.women.label);\n            case 'men':\n                return findIndex(Constants.men, this.state.men.label);\n            case 'kids':\n                return findIndex(Constants.kids, this.state.kids.label);\n            default:\n                return '';\n        }\n    }\n\n    subcategName = (param) => {\n        switch(param) {\n            case 'women':\n                return this.state.women.label;\n            case 'men':\n                return this.state.men.label;\n            case 'kids':\n                return this.state.kids.label;\n            default:\n                return '';\n        }\n    }\n\n    saveSelection = () => {\n        const selection = {\n            category: findIndex(Constants.category, this.state.category.label),\n            subcategory: this.renderSwitch(this.state.category.value),\n            subcategoryName: this.subcategName(this.state.category.value),\n            clothsize: findIndex(Constants.clothsize, this.state.clothsize.label),\n            material: findIndex(Constants.material, this.state.material.label),\n            condition: findIndex(Constants.condition, this.state.condition.label),\n            brand: this.state.brand.value,\n            descrtext: this.state.descrtext.value,\n            weight: this.state.weight.value,\n            price: this.state.price.value\n        }\n        this.props.callBackParent(selection);\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n      saveAttempt: state.saveAttempt\n    };\n};\n\n\nexport default connect(mapStateToProps) (SelectForms);\n","import React from 'react';\nimport axios from 'axios';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { saveAtt } from '../../redux/actions';\nimport {doUpload} from '../../functions/index';\nimport ClipLoader from 'react-spinners/ClipLoader';\nimport queryString from 'query-string';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport NavBar from '../../components/NavBar';\nimport ImgUpload from './ImgUpload';\nimport SelectForms from './SelectForms';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport '../../App.css';\n\n\nclass UploadPage extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            userId: '0',\n            adId: '',\n            photos: [],\n            warning: '',\n            uploadStatus: false,\n            selection: {\n                category: '',\n                subcategory: '',\n                clothsize: '',\n                material: '',\n                condition: '',\n                brand: '',\n                descrtext: '',\n                weight: null,\n                price: null\n            },\n            loading: false\n        };\n        this.handleUpload = this.handleUpload.bind(this);\n    }\n\n    abortController = new AbortController();\n    axiosSignal = axios.CancelToken.source();\n\n    componentDidMount() {\n        fetch('/api/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => this.setState({userId: res.userId}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n        this.axiosSignal.cancel('Api is being canceled');\n    }\n\n    checkIfAll = () => {\n        let check = true;\n        const selection = this.state.selection;\n        Object.keys(selection).forEach(key => {\n            if(key !== 'brand' && key !== 'descrtext') {\n                if((selection[key] === 0 && selection.category !== 3)|| selection[key] === null || selection[key] === '') {\n                    check = false;\n                    this.setState({warning: 'Izpolni vsa polja'});\n                }\n            }\n        });\n        if (this.state.photos.length < 3) {\n            check = false;\n            this.setState({warning: 'Izberi tri fotografije'});\n        }\n        return check;\n    }\n\n    onImageSaved = (photo, index) => {\n        if (this.state.photos.length <= index) {\n            this.setState(state => {\n                const photos = state.photos.concat(photo);\n                return {photos};\n            });\n        } else {\n            this.setState(state => {\n                const photos = state.photos.map((item, j) => {\n                    if (j === index) {\n                        return photo;\n                    } else {\n                        return item;\n                    }\n                });\n                return {photos};\n            });\n        }\n    }\n\n    onSelectionSaved = (selection) => {\n        this.setState({selection});\n    }\n\n    handleUpload() {\n        this.props.saveAtt(true);    \n        if (!this.checkIfAll()) {\n            this.setState({warning: \"IZPOLNI VSA POLJA!\"});\n        }else {\n            this.setState({loading: true});\n            doUpload('first', this.state.selection, this.props.loggedInUserId, this.props.loggedInUser, this.axiosSignal, 0, this.state.photos)\n            .then(res => this.setState({uploadStatus: true, loading: false}))\n            .catch(e => console.error(\"Critical failure: \" + e.message));\n        }\n    }\n\n    render() {\n        const adId = queryString.stringify(queryString.parse(this.props.location.search));\n        if(this.state.userId === '0') {\n            return (\n                <div className = 'App'>\n                    <UpperLine/>\n                    <Header/>\n                    <NavBar/>\n                    <BreadCrumbs pathname = {this.props.location.pathname}/>\n                    <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                        <br/><br/><br/>\n                        <h2>PROSIMO PRIJAVITE SE V SISTEM!</h2>\n                        <br/><br/><br/>\n                    </div>\n                    <Bottom/>\n                </div>\n            )\n        }\n        else if(this.state.uploadStatus) {\n            return <div className=\"App\">\n                        <br/><br/>\n                        <h1 style={{backgroundColor: 'rgb(255, 255, 255, 0.5)'}}>HVALA ZA ODDANI OGLAS!</h1>\n                        <NavLink exact to = '/user_listings'><button className = 'btn'>NAZAJ NA MOJO STRAN</button></NavLink>\n                    </div>\n        } else {\n            return (\n            <div className=\"App\">\n                <UpperLine/>\n                <Header/>\n                <BreadCrumbs pathname = {this.props.location.pathname}/>\n                <div style={{display: \"flex\", width: \"90vw\"}}>\n                    <div className=\"sidenav\"></div>\n                    <div style={{width: \"100%\", backgroundColor: 'rgb(255, 255, 255, 0.5)'}}>\n                        <h1>OBJAVI OGLAS</h1>\n                        <br/>\n                        <SelectForms callBackParent={this.onSelectionSaved} saveAtt ={this.state.saveAttempt} adId={adId}/>\n                        <br/>\n                        <p style = {{fontWeight: 'bold'}}>Naloži tri fotografije (prva fotografija je naslovna)</p>\n                        <ImgUpload callBackParent={this.onImageSaved} index='0'/>\n                        <ImgUpload callBackParent={this.onImageSaved} index='1'/>\n                        <ImgUpload callBackParent={this.onImageSaved} index='2'/>\n                        {!this.state.loading && <button className = 'btnb' onClick={this.handleUpload}>SHRANI OGLAS</button>}\n                        <ClipLoader\n                            size={50}\n                            color={\"#123abc\"}\n                            loading={this.state.loading}\n                        />\n                        <p style={{color: \"red\"}}>{this.state.warning}</p>\n                    </div>\n                </div>\n                <Bottom/>\n            </div>\n            )}\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId,\n      saveAttempt: state.saveAttempt\n    };\n};\n\nconst mapDispatchToProps = {\n    saveAtt: saveAtt\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps) (UploadPage);\n","import React from 'react';\nimport axios from 'axios';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { saveAtt } from '../../redux/actions';\nimport { doUpload } from '../../functions/index';\nimport queryString from 'query-string';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport NavBar from '../../components/NavBar';\nimport ImgUpload from './ImgUpload';\nimport SelectForms from './SelectForms';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport ClipLoader from 'react-spinners/ClipLoader';\nimport '../../App.css';\n\n\nclass EditPage extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            userId: '0',\n            adId: '',\n            uploadedPhotos: [],\n            photos: [],\n            urls: [],\n            fileWarning: '',\n            warning: '',\n            srcsToPass: [],\n            editStatus: false,\n            selection: {\n                category: '',\n                subcategory: '',\n                clothsize: '',\n                material: '',\n                condition: '',\n                brand: '',\n                descrtext: '',\n                weight: null,\n                price: null\n            },\n            loading: false\n        };\n        this.handleUpload = this.handleUpload.bind(this);\n    }\n\n    abortController = new AbortController();\n    axiosSignal = axios.CancelToken.source();\n\n    componentDidMount() {\n        fetch('/api/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => this.setState({userId: res.userId}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n\n        const adId = queryString.stringify(queryString.parse(this.props.location.search));\n        this.setState({adId});\n        if(adId !== '' || adId !== undefined) {\n            console.log(adId)\n            fetch('/api/fillform', {\n                signal: this.abortController.signal,\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json'\n                },\n                body: JSON.stringify({adId: adId})\n            }).then(res => res.json())\n                .then(res => this.setState(state => {\n                    let arr = [res[0].photo1_url, res[0].photo2_url, res[0].photo3_url];\n                    let srcsToPass = state.srcsToPass.concat(arr);\n                    return {srcsToPass};\n                    }))\n\n                .catch(e => console.error(\"Critical failure: \" + e.message));           \n        }\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n        this.axiosSignal.cancel('Api is being canceled');\n    }\n\n    checkIfAll = () => {\n        let check = true;\n        const selection = this.state.selection;\n        Object.keys(selection).forEach(key => {\n            if(key !== 'brand' && key !== 'descrtext') {\n                if((selection[key] === 0 && selection.category !== 3) || selection[key] === null || selection[key] === '') {\n                    check = false;\n                    this.setState({warning: 'Izpolni vsa polja'});\n                }\n            }\n        });\n        if (this.state.photos.length < 3 && this.state.photos.length !== 0) {\n            check = false;\n            this.setState({warning: 'Izberi tri fotografije'});\n        }\n        return check;\n    }\n\n    onImageSaved = (photo, index) => {\n        if (this.state.photos.length <= index) {\n            this.setState(state => {\n                const photos = state.photos.concat(photo);\n                return {photos};\n            });\n        } else {\n            this.setState(state => {\n                const photos = state.photos.map((item, j) => {\n                    if (j === index) {\n                        return photo;\n                    } else {\n                        return item;\n                    }\n                });\n                return {photos};\n            });\n        }\n    }\n\n    onSelectionSaved = (selection) => {\n        this.setState({selection});\n    }\n\n    handleUpload() {\n        this.props.saveAtt(true);    \n        if (!this.checkIfAll()) {\n            this.setState({warning: \"IZPOLNI VSA POLJA!\"}); \n        }else {\n            this.setState({loading: true})\n            if(this.state.photos.length === 3) {\n                doUpload('edit', this.state.selection, this.props.loggedInUserId, this.props.loggedInUser, this.axiosSignal, this.state.adId, this.state.photos)\n                .then(() => this.setState({editStatus: true, loading: false}))\n                .catch(e => console.error(\"Critical failure: \" + e.message));\n            } else {\n                doUpload('edit', this.state.selection, this.props.loggedInUserId, this.props.loggedInUser, this.abortController.signal, this.state.adId)\n                .then(() => this.setState({editStatus: true, loading: false}))\n                .catch(e => console.error(\"Critical failure: \" + e.message));\n            }\n        }\n    }\n\n    render() {\n        const adId = queryString.stringify(queryString.parse(this.props.location.search));\n        if(this.state.userId === '0') {\n            return (\n                <div className = 'App'>\n                    <UpperLine/>\n                    <Header/>\n                    <NavBar/>\n                    <BreadCrumbs pathname = {this.props.location.pathname}/>\n                    <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                        <br/><br/><br/>\n                        <h2>PROSIMO PRIJAVITE SE V SISTEM!</h2>\n                        <br/><br/><br/>\n                    </div>\n                    <Bottom/>\n                </div>\n            )\n        }\n        else if(this.state.editStatus) {\n            return <div className=\"App\">\n                     <br/><br/>\n                     <h1 style={{backgroundColor: 'rgb(255, 255, 255, 0.5)'}}>USPEŠNO STE POPRAVILI OGLAS!</h1>\n                     <NavLink exact to = '/user_listings'><button className = 'btn'>NAZAJ NA MOJO STRAN</button></NavLink>\n                 </div>\n        } else if(this.state.srcsToPass.length) {\n         return (\n         <div className=\"App\">\n             <UpperLine/>\n             <Header/>\n             <BreadCrumbs pathname = {this.props.location.pathname}/>\n             <div style={{display: \"flex\", width: \"90vw\"}}>\n                 <div className=\"sidenav\"></div>\n                 <div style={{width: \"100%\", backgroundColor: 'rgb(255, 255, 255, 0.5)'}}>\n                    <h1>POPRAVI OGLAS</h1>\n                    <br/>\n                    <SelectForms callBackParent={this.onSelectionSaved} saveAtt ={this.state.saveAttempt} adId={adId}/>\n                    <br/>\n                    <p>OBDRŽI TRENUTNE FOTOGRAFIJE:</p>\n                    <br/>\n                    <img src={'/api' + this.state.srcsToPass[0].substring(1)} alt=\"image_one\" height=\"200px\" hspace=\"20\"/>\n                    <img src={'/api' + this.state.srcsToPass[1].substring(1)} alt=\"image_two\" height=\"200px\" hspace=\"20\"/>\n                    <img src={'/api' + this.state.srcsToPass[2].substring(1)} alt=\"image_three\" height=\"200px\" hspace=\"20\"/>\n                    <br/>\n                    <br/>\n                    <p>ALI IZBERI NOVE FOTOGRAFIJE:</p>\n                    <ImgUpload callBackParent={this.onImageSaved} index='0'/>\n                    <ImgUpload callBackParent={this.onImageSaved} index='1'/>\n                    <ImgUpload callBackParent={this.onImageSaved} index='2'/>\n                    {!this.state.loading && <button className = 'btnb' onClick={this.handleUpload}>SHRANI OGLAS</button>}\n                    <ClipLoader\n                        size={50}\n                        color={\"#123abc\"}\n                        loading={this.state.loading}\n                    />\n                    <p style={{color: \"red\"}}>{this.state.warning}</p>\n                 </div>\n             </div>\n             <Bottom/>\n         </div>\n         )}\n         else return <div className=\"App\"><h1 style={{backgroundColor: 'rgb(255, 255, 255, 0.5)'}}>Something went wrong</h1></div>}\n    }\n\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n};\n\nconst mapDispatchToProps = {\n    saveAtt: saveAtt\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps) (EditPage);\n","import React from 'react';\nimport { ReCaptcha } from 'react-recaptcha-google'\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { saveAtt } from '../../redux/actions';\nimport Popup from 'reactjs-popup';\nimport '../../App.css';\n\nclass ItemDescription extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            addingResult: '',\n            msgRequest: false,\n            buttonDisabled: true\n        };\n        this.onLoadRecaptcha = this.onLoadRecaptcha.bind(this);\n        this.verifyCallback = this.verifyCallback.bind(this);\n    }\n\n    componentDidMount() {\n\n        const script = document.createElement(\"script\");\n        script.src = \"https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit\";\n        script.async = true;\n        document.body.appendChild(script);\n\n        if (this.captchaDemo) {\n            console.log(\"started, just a second...\")\n            this.captchaDemo.reset();\n        }\n      }\n\n    //TREBA JE UREDITI BRISANJE IZ LOCAL STOREGA; POTEM KO SE NAROČI IN/ALI PO POTEKU DOLOČENEGA ČASA\n    addToCart = () => {\n        if(this.props.loggedInUserId !== 0) {\n            //this.props.addToCart(this.props.adId);\n            let cart = JSON.parse(window.localStorage.getItem(this.props.loggedInUserId));\n            if (cart !== null) {\n                if(cart.includes(this.props.adId)) {\n                    this.setState({addingResult: 'IZDELEK JE ŽE V KOŠARICI!'});\n                }else {\n                    cart.push(this.props.adId);\n                    window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(cart));\n                    this.setState({addingResult: 'IZDELEK DODAN V KOŠARICO!'});\n                }\n            } else {\n                let initialCart = [];\n                initialCart.push(this.props.adId);\n                window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(initialCart));\n                this.setState({addingResult: 'IZDELEK DODAN V KOŠARICO!'});\n            }\n            this.props.itemAdded(1);\n        }else{this.setState({addingResult: 'ZA DODAJANJE V KOŠARICO SE PRIJAVITE.'});}\n    }\n\n    removeFromCart = () => {\n        let cart = JSON.parse(window.localStorage.getItem(this.props.loggedInUserId));\n        if (cart !== null) {\n            cart.splice(cart.indexOf(this.props.adId), 1);\n            window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(cart));\n        }\n        //console.log('INDEX IN CART: ' + cart.indexOf(this.props.adId))\n    }\n\n    showCart = () => {\n        window.localStorage.clear();\n        console.log(JSON.parse(window.localStorage.getItem(this.props.loggedInUserId)));\n    }\n\n    handleMsgRequest = () => {\n        this.setState({msgRequest: true});\n    }\n\n    handleConfirm = () => {\n\n    }\n\n    onLoadRecaptcha() {\n        if (this.captchaDemo) {\n            this.captchaDemo.reset();\n        }\n    }\n    verifyCallback(recaptchaToken) {\n      if(recaptchaToken) {\n        this.setState({buttonDisabled: false});\n      }\n    }\n\n    proceedToMsg = () => {\n        console.log(\"SUBMITTED!\");\n        this.setState({msgRequest: false});\n    }\n\n    descriptDiv = () => {\n        const selection = this.props.selection;\n        let subcategory = '';\n        const categ = selection.category.value;\n\n        switch(categ) {\n            case 'women':\n                subcategory = selection.women.label;\n                break;\n            case 'men':\n                subcategory = selection.men.label;\n                break;\n            case 'kids':\n                subcategory = selection.kids.label;\n                break;\n            default:\n                subcategory = '';\n                break;\n        }\n\n        const btnContStyle = {\n            backgroundColor: 'rgb(255,255,255,0)',\n            border: 'none',\n            margin: 0,\n            padding: 0,\n            fontSize: 'small',\n            textDecoration: 'underline',\n            color: 'grey',\n            cursor: 'pointer'\n        }\n\n        return (\n            <div>\n                <h3>{subcategory}</h3>\n                {categ !== 'kids' && <p><b>Velikost: </b>{selection.clothsize.label}</p>}\n                <p><b>Material: </b>{selection.material.label}</p>\n                <p><b>Stanje: </b>{selection.condition.label}</p>\n                <p><b>Znamka: </b>{selection.brand.value}</p>\n                <p><b>Opis: </b>{selection.descrtext.value}</p>\n                <br/>\n                <p><b>Cena: </b>{selection.price.value} €</p>\n                {(this.props.status === 'active' && this.props.loggedInUserId !== '0') && <button className = 'btnb' onClick = {this.addToCart}>DODAJ V KOŠARICO</button>}\n                <p style = {{fontWeight: 'bold'}}>{this.state.addingResult}</p>\n                <br/>\n                <p>Prodajalec: {this.props.seller} </p>\n                <NavLink className='btnu' exact to={'/sellerlistings?' + this.props.sellerId}>Vsi oglasi tega prodajalca</NavLink>\n                {(this.props.loggedInUserId !== '0' && this.props.loggedInUserId !== this.props.sellerId) && <p style = {{fontSize: 10}}>\n                <button style = {btnContStyle} onClick = {this.handleMsgRequest}>Kontaktiraj prodajalca</button></p>}\n            </div>\n        )\n    }\n\n    render() {\n        if(!this.state.msgRequest) {\n            return(\n                <div className=\"description\">\n                    {this.descriptDiv()}\n                    {/* <button onClick={this.showCart}>CLEAR AND SHOW CART</button> */}\n                </div>\n            )\n        }\n        else return (\n            <div className=\"description\">\n                <Popup open = {true}\n                    position = 'center center'\n                    onClose={this.closeModal}>\n                    <div style = {{display: 'flex', justifyContent: 'center', height: '90px', lineHeight: '90px'}}>\n                        <ReCaptcha\n                            ref={(el) => {this.captchaDemo = el;}}\n                            size=\"normal\"\n                            data-theme=\"dark\"            \n                            render=\"explicit\"\n                            sitekey=\"6Lf43ugZAAAAAN5duvLk0-87qD0uCU5gLCkwtnr5\"\n                            onloadCallback={this.onLoadRecaptcha}\n                            verifyCallback={this.verifyCallback}\n                        />\n                        {this.state.buttonDisabled && <span style = {{paddingLeft: '20px'}}>NADALJUJ</span>}\n                        {!this.state.buttonDisabled && <NavLink style = {{paddingLeft: '20px'}} onClick ={this.proceedToMsg} exact to = {'/chatpage/conversation?' + this.props.sellerId}>NADALJUJ</NavLink>}\n                    </div>\n                </Popup>\n                {this.descriptDiv()}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n};\n\nconst mapDispatchToProps = {\n    saveAtt: saveAtt,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps) (ItemDescription);","import React from 'react';\nimport Popup from 'reactjs-popup';\nimport { FaRegWindowClose } from 'react-icons/fa';\nimport ItemDescription from './ItemDescription';\nimport * as Constants from '../../constants';\nimport '../../App.css';\n\nclass Item extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            adId: '',\n            status: '',\n            seller: '',\n            sellerId: '',\n            photos: [],\n            origPhotos: [],\n            selection: {\n                category: { value: '', label: 'Izberi kategorijo' },\n                women: { value: '', label: 'Izberi kategorijo' },\n                men: { value: '', label: 'izberi kategorijo' },\n                kids: { value: '', label: 'Izberi kategorijo' },\n                clothsize: { value: '', label: 'Izberi velikost' },\n                material: { value: '', label: 'Izberi material' },\n                condition: { value: '', label: 'Izberi stanje' },\n                brand: {value: '', status: false},\n                descrtext: {value: '', status: false},\n                weight: {value: 0, status: false},\n                price: {value: 0, status: false}\n            },\n            focused: -1\n        };\n\n    }\n    abortController = new AbortController();\n    \n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    fillTheForm = (receivedObject) => {\n\n        const receivedValues = Object.values(receivedObject);\n        \n        this.setState({\n            adId: this.props.adId,\n            status: receivedValues[16],\n            seller: receivedValues[12],\n            sellerId: receivedValues[17],\n            photos: [receivedValues[9], receivedValues[10], receivedValues[11]],\n            origPhotos: [receivedValues[13], receivedValues[14], receivedValues[15]],\n            selection: {\n                category: Constants.category[receivedValues[0]],\n                women: Constants.women[receivedValues[1]],\n                men: Constants.men[receivedValues[1]],\n                kids: Constants.kids[receivedValues[1]],\n                clothsize: Constants.clothsize[receivedValues[2]],\n                material: Constants.material[receivedValues[3]],\n                condition: Constants.condition[receivedValues[4]],\n                brand: {value: receivedValues[5], status: true},\n                descrtext: {value: receivedValues[6], status: true},\n                weight: {value: receivedValues[7], status: true},\n                price: {value: receivedValues[8], status: true}\n            }\n        });\n\n    }\n\n    componentDidMount() {\n\n        if(this.props.adId !== '') {\n            fetch('/api/fillform', {\n                signal: this.abortController.signal,\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json'\n                },\n                body: JSON.stringify({adId: this.props.adId})\n            }).then(res => res.json())\n                .then(res => {this.fillTheForm(res[0])})\n                .catch(e => console.error(\"Critical failure: \" + e.message));\n        }\n    }\n    //<Slider useImages = 'true' slides={['image-1', 'image-2', 'image-3']} adId = {this.props.adId} photos = {this.state.photos} origPhotos = {this.state.origPhotos}/>\n\n    closeModal = () => {\n        this.setState({focused: -1});\n    }\n\n    render() {\n\n        const iconStyle = {\n            position: 'absolute',\n            border: 'none',\n            backgroundColor: 'rgb(255, 255, 255, 0)',\n            verticalAlign: 'middle'\n        }\n\n        if (this.state.photos.length === 0) return <div></div>\n        if(this.state.focused !== -1) {\n            return (\n                <Popup open = {true}\n                    position = 'center center'\n                    onClose={this.closeModal}>\n                    <div style = {{height:\"99vh\"}}>\n                        <img src = {'/api/' + this.state.origPhotos[this.state.focused]}\n                            alt = {this.state.origPhotos[this.state.focused] + '_photo'}\n                            style = {{maxWidth: '100%', height:'100%', margin: '0 auto'}}/>\n                        <button type = 'button' style = {iconStyle} onClick = {this.closeModal}>\n                            <FaRegWindowClose size = '2em'/>\n                        </button>\n                    </div>\n                </Popup>\n            )\n        }       \n        else return(\n            <div className=\"itemDesc\">\n                <div className = 'imgSlider'>\n                    <img src={'/api/' + this.state.origPhotos[0]}\n                        alt = {this.state.origPhotos[0] + '_photo'}\n                        onClick={() => this.setState({focused: 0})}/>\n                    <img src={'/api/' + this.state.origPhotos[1]}\n                        alt = {this.state.origPhotos[1] + '_photo'}\n                        onClick={() => this.setState({focused: 1})}/>\n                    <img src={'/api/' + this.state.origPhotos[2]}\n                        alt = {this.state.origPhotos[2] + '_photo'}\n                        onClick={() => this.setState({focused: 2})}/>\n                </div>\n                <ItemDescription selection = {this.state.selection}\n                                seller = {this.state.seller}\n                                sellerId = {this.state.sellerId}\n                                adId = {this.props.adId}\n                                status = {this.state.status}\n                                itemAdded = {this.props.itemAdded}/>\n            </div>\n        )\n    }\n}\n\nexport default Item;","import React from 'react';\nimport UpperLine from '../../components/UpperLine';\nimport NavBar from '../../components/NavBar';\nimport AdSpace from '../../components/AdSpace';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport Item from './Item';\nimport '../../App.css';\n\n\nclass ItemPage extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            cartUpdated: 0\n        };\n    }\n\n    itemAdded = (value) => {\n        this.setState({cartUpdated: value})\n        console.log('updated cart!');\n    }\n\n    render() {\n\n        function subStrAfterChars(str, char) {\n            return str.substring(str.indexOf(char) + 1);\n        }\n        const adId = subStrAfterChars(window.location.href, '?');\n\n        return (\n            <div className=\"App\">\n                <UpperLine updated = {this.state.cartUpdated}/>\n                <Header/>\n                <NavBar/>\n                <BreadCrumbs pathname = {this.props.location.pathname}/>\n                <Item adId = {adId} itemAdded = {this.itemAdded}/>\n                <AdSpace/>\n                <Bottom/>\n            </div>\n        );\n\n    }\n\n}\n\nexport default ItemPage;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport {Redirect} from 'react-router-dom';\n\nclass SumForSeller extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            fetching: true,\n            available: true\n        };\n\n    }\n\n    abortController = new AbortController();\n\n    handleClickProceed = () => {\n        fetch('/api/sessionorder', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                type: 1,\n                ids: this.props.ids\n            })\n        }).then(res => res.json())\n        .then((res) => {if(res.available === '0') {this.setState({fetching: false, available: false}, () => console.log(this.state))}\n                        else {this.setState({fetching: false}, () => console.log(this.state))}})\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    render() {\n        const weight = this.props.sum.weight;\n        const price = this.props.sum.price;\n        let postage = weight < 100 ? 2 : 3;\n    \n        if(!this.state.fetching && this.state.available) {\n            return <Redirect to = '/shoppingcart/placeorder'></Redirect>\n        }\n        else if(!this.state.available) {\n            return (\n            <div style = {{backgroundColor: 'rgb(255,255,255,0.8)', padding: '10px', margin: '0 auto', borderBottom: '10px solid black', borderTop: '2px dotted black'}}>\n                <h3>OPROSTITE, EDEN ALI VEČ IZDELKOV NI VEČ NA VOLJO</h3>\n            </div>\n            )\n        }\n        else return (\n            <div style = {{backgroundColor: 'rgb(255,255,255,0.8)', padding: '10px', margin: '0 auto', borderBottom: '10px solid black', borderTop: '2px dotted black'}}>\n                <h3>Cena: {price} €</h3>\n                <h4>Poštnina: {postage} €</h4>\n                <h3>Skupaj: {price + postage} €</h3>\n                <button className = 'btnb' onClick = {this.handleClickProceed}>NADALJUJ NA PLAČILO</button>\n            </div>\n        )\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        loggedInUser: state.loggedInUser,\n        loggedInUserId: state.loggedInUserId,\n        order: state.order //TEGA V BISTVU NE RABIM\n    };\n  };\n  \nexport default connect(mapStateToProps) (SumForSeller);","import React from 'react';\nimport {NavLink} from 'react-router-dom';\nimport '../../App.css';\nimport * as Constants from '../../constants';\n\n\nconst CartListingSeller = (props) => {\n\n    const des = props.description;\n\n    const removeFromCart = () => {\n        let cart = JSON.parse(window.localStorage.getItem(props.loggedInUserId));\n        if (cart !== null) {\n            cart.splice(cart.indexOf(des.ad_id.toString()), 1);\n            window.localStorage.setItem(props.loggedInUserId, JSON.stringify(cart));\n        }\n        cart = JSON.parse(window.localStorage.getItem(props.loggedInUserId));\n        props.update(-1);\n        props.callBackParent();\n    }\n\n    if(des) {\n\n        let category;\n        let subcategory;\n        let subcategorySlo;\n        switch(des.category) {\n            case 1:\n                category = 'women';\n                subcategory = Constants.women[des.subcategory].value;\n                subcategorySlo = Constants.women[des.subcategory].label;\n                break;\n            case 2:\n                category = 'men';\n                subcategory = Constants.men[des.subcategory].value;\n                subcategorySlo = Constants.women[des.subcategory].label;\n                break;\n            case 3:\n                category = 'kids';\n                subcategory = Constants.kids[des.subcategory].value;\n                subcategorySlo = Constants.women[des.subcategory].label;\n                break;\n            default:\n                category = '';\n                subcategory = '';\n                subcategorySlo = '';\n        }\n        \n        return (\n            <div style = {{backgroundColor: 'rgb(255,255,255,0.7)', padding: '30px', margin: '0 auto'}}>\n                <NavLink exact to = {'/listings/' + category + '/' + subcategory + '/item?' + des.ad_id}>\n                    <img src={'/api' + des.photo1_url.substring(1)}\n                        alt = {des.photo1_url + '_photo'}\n                        height = '300'\n                        style = {{border: '2px solid white'}}/>   \n                </NavLink>\n                <div className=\"description\">\n                    <p style = {{fontWeight: 'bold'}}>{subcategorySlo}</p>\n                    <p>Velikost: {Constants.clothsize[des.size].label}</p>\n                    <p>ID oglasa: {des.ad_id}</p>\n                    <p>Cena: {des.price} €</p>\n                    <p>Prodajalec: {des.username}</p>\n                    <div style={{textAlign: 'right'}}><button className = 'btnx' onClick = {removeFromCart}>X ODSTRANI</button></div>\n                    \n                </div>\n            </div>\n        )\n        } else return <div><h2>{this.props.description.price} €</h2></div>\n\n}\n\nexport default CartListingSeller;","import React from 'react';\nimport SumForSeller from './SumForSeller';\nimport CartListingSeller from './CartListingSeller';\n\nconst CartGroup = (props) => {\n\n    const items = props.items;\n    let n = items.length;\n    let arr = [];\n\n    let sum = {\n        weight: 0,\n        price: 0\n    }\n\n    const ids = items.map((item) => item.ad_id);\n\n    for (let i = 0; i < n; i++) {\n        arr.push(<CartListingSeller\n                    key = {i}\n                    description = {items[i]}\n                    loggedInUserId = {props.loggedInUserId}\n                    callBackParent = {props.callBackParent}\n                    update = {props.update}/>);\n        \n        sum.weight += items[i].weight;\n        sum.price += items[i].price;\n    }\n    arr.push(<SumForSeller\n                key = {sum.weight}\n                sum = {sum}\n                ids = {ids}/>);\n\n    return arr;\n\n}\n\nexport default CartGroup;","import React from 'react';\nimport '../../App.css';\nimport { connect } from 'react-redux';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport NavBar from '../../components/NavBar';\nimport Bottom from '../../components/Bottom';\nimport AdSpace from '../../components/AdSpace';\nimport CartGroup from './CartGroup';\nimport BreadCrumbs from '../../components/BreadCrumbs';\n\n\nclass ShoppingCartPage extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            userId: '0',\n            cart: [],\n            sortedCart: [],\n            updated: 0\n        };\n\n    }\n    abortController = new AbortController();\n\n    //zaenkrat ta komponenta ne potrebuje connecta na redux ker sem morala klicati userja iz baze:\n\n    getCart = () => {\n        fetch('/api/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => { this.setState({userId: res.userId});\n            let cart = JSON.parse(window.localStorage.getItem(res.userId));\n            if(cart) {\n                (cart.length) && fetch('/api/cartListings', {\n                    signal: this.abortController.signal,\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Accept': 'application/json'\n                    },\n                    body: JSON.stringify(cart)\n                }).then(res => res.json())\n                    .then(res => {this.setState({sortedCart: res}, () => {(res.length !== cart.length) && this.deleteFromStorage(res)})})\n                    .catch(e => console.error(\"Critical failure: \" + e.message));\n\n                (!cart.length) && this.setState({sortedCart: []});\n            }\n        })\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    componentDidMount() {\n        this.getCart();\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    reMount = () => {\n        this.getCart();\n    }\n\n    deleteFromStorage = (items) => {\n        fetch('/api/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => {this.removeFromCart(res, items);})\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    removeFromCart = (res, items) => {\n        let cart = JSON.parse(window.localStorage.getItem(res.userId));\n        for (let i = 0; i < cart.length; i++) {\n            let d = 0;\n            for (let j = 0; j < items.length; j++) {\n                if (cart[i] === items[j].ad_id.toString()) d = 1;\n            }\n            if (d === 0) {\n                cart.splice(cart.indexOf(cart[i]), 1);\n                window.localStorage.setItem(res.userId, JSON.stringify(cart));\n            }\n        }\n    }\n\n    listCart = () => {\n        const sCart = this.state.sortedCart;\n        let componentArray = [];\n        let sellerArray = [];\n        let listingArray = [];\n\n        if (sCart.length > 0) {\n            let seller;\n\n            let i = 0; let j = 0;\n            while (i < sCart.length) {\n                seller = sCart[i].username;\n                while (j < sCart.length && sCart[j].username === seller) {\n                    listingArray.push(sCart[j]);\n                    j++;\n                }\n                sellerArray.push(listingArray);\n                componentArray.push(<CartGroup\n                                        key={j}\n                                        items = {listingArray}\n                                        loggedInUserId = {this.props.loggedInUserId}\n                                        callBackParent = {this.reMount}\n                                        update = {this.update}/>);\n                listingArray = [];\n                i = j;\n            }\n        }   \n        return componentArray;\n    }\n\n    update = () => {\n        this.setState({updated: this.state.updated - 1});\n    }\n\n    showCart = () => {\n        console.log(JSON.parse(window.localStorage.getItem(21)));\n        console.log(this.state.sortedCart);\n        console.log(this.state.cart);\n    }\n\n    switchRender = () => {\n        let len = this.state.sortedCart.length;\n        if (this.state.userId === '0') {\n            return <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                <br/><br/><br/>\n                <h2>PROSIMO PRIJAVITE SE V SISTEM!</h2>\n                <br/><br/><br/>\n            </div>\n        } else {\n            return (\n                len ? <div style = {{padding: '30px'}}> {this.listCart()} </div> :\n                <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                    <br/><br/><br/>\n                    <h2>KOŠARICA JE PRAZNA!</h2>\n                    <br/><br/><br/>\n                </div>\n            )\n        }\n    }\n\n    render() {\n\n        return (\n            <div className=\"App\">\n                <UpperLine updated = {this.state.updated}/>\n                <Header/>\n                <NavBar/>\n                <BreadCrumbs pathname = {this.props.location.pathname}/>\n                {this.switchRender()}\n                <AdSpace/>\n                <Bottom/>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId,\n    };\n};\n\nexport default connect(mapStateToProps) (ShoppingCartPage);\n","import React from 'react';\nimport '../../App.css';\nimport * as Constants from '../../constants';\n\n\nconst OrderListing = (props) => {\n\n    const findSubcategory = (category, index) => {\n        let sc;\n        switch(category) {\n            case 'women':\n                sc = Constants.women[index];\n                break;\n            case 'men':\n                sc = Constants.men[index];\n                break;\n            case 'kids':\n                sc = Constants.kids[index];\n                break;\n            default:\n                sc = null;\n        }\n        return sc.label;\n    }\n\n    const des = props.description;\n\n    if(des) {\n        let subcategory = findSubcategory(Constants.category[des.category].value, des.subcategory);\n        return (\n            <div style = {{padding: '30px', borderBottom: '2px dotted black', margin:'0 auto'}}>\n                <img src={'/api' + des.photo1_url.substring(1)} alt = {des.photo1_url + '_photo'} height = '200'/>   \n                <div className=\"description\">\n                    <p style = {{fontWeight: 'bold'}}>{subcategory}</p>\n                    {des.category !== 3 && <p>Velikost: {Constants.clothsize[des.size].label}</p>}\n                    <p>ID oglasa: {des.ad_id}</p>\n                </div>\n            </div>\n        )\n        } else return <div><h2>{this.props.description.price} €</h2></div>\n\n}\n\nexport default OrderListing;","import React from 'react';\nimport { connect } from 'react-redux';\nimport '../../App.css';\n\n\nclass FinishOrderData extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            userId: '0',\n            profileInfo: null,\n            shippingAddress: null,\n            editInfo: false,\n            visible: false\n        };\n    }\n\n    abortController = new AbortController();\n\tcomponentDidMount() {\n\n        fetch('/api/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => {this.setState({userId: res.userId}); if(res.userId !== '0') this.getProfileInfo();})\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n\n    }\n\n    getProfileInfo = () => {\n        fetch('/api/profileroutes', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                requestType: 1\n            })\n        })\n        .then(res => res.json())\n        .then(res => this.setState({profileInfo: res[0],\n            shippingAddress: {\n                firstName: res[0].first_name,\n                lastName: res[0].last_name,\n                street: res[0].street_ship,\n                postNumber: res[0].post_number_ship,\n                town: res[0].town_ship\n            }\n        }))\n        .catch(e => console.error(\"Critical failure: \" + e.message));   \n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    changeAddress = (e) => { \n        var shippingAddress = {...this.state.shippingAddress}\n        const { name, value } = e.target;\n        shippingAddress[name] = value;\n        this.setState({shippingAddress});\n    }\n\n    onEditButtonClick = (e) => {\n        if(e.target.id === 'info') {\n            this.setState({editInfo: true});\n        }\n        if(e.target.id === 'cancel') {\n            this.setState({editInfo: false});\n        }\n    }\n\n    updateInfo = (e) => {\n        e.preventDefault();\n        this.props.callbackParent(this.state.shippingAddress);\n        this.setState({editInfo: false});\n    }\n\n    switchRender = () => {\n        if(this.state.userId === '0') {\n            return (\n                <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                    <br/><br/><br/>\n                    <h2>PROSIMO PRIJAVITE SE V SISTEM!</h2>\n                    <br/><br/><br/>\n                </div>\n            )\n        }\n        else if(!this.state.profileInfo) {\n            return (<div></div>)\n        } else {\n            return (\n                    <div className = 'finishorderdata'>\n                        <br/>\n                        <b>DOSTAVA: </b><br/>\n                        <p>Pošta Slovenije, navadna pošiljka</p>\n                        {!this.state.editInfo && <p><b>DOSTAVA NA NASLOV:</b>\n                                                    <br/>\n                                                    <br/>\n                                                    {this.state.shippingAddress.firstName + ' ' + this.state.shippingAddress.lastName}\n                                                    <br/>\n                                                    {this.state.shippingAddress.street + ', ' + this.state.shippingAddress.postNumber + ' ' + this.state.shippingAddress.town}\n                                                    <br/>\n                                                    <br/>\n                                                    {/* <button id = 'info' className = 'btnu' onClick = {this.onEditButtonClick}>DOSTAVA NA DRUG NASLOV</button> */}\n                                                    </p>}\n                        {/* {this.state.editInfo && <div><form onSubmit = {this.updateInfo}>\n                                                        <b>NASLOV ZA DOSTAVO NAROČILA: </b><br/>\n                                                        <input type='text' id='firstName' name='firstName' placeholder='Ime' value={this.state.shippingAddress.firstName} style = {{width: '200px'}} maxLength=\"30\" onChange={this.changeAddress}/>\n                                                        <input type='text' id='lastName' name='lastName' placeholder='Priimek' value={this.state.shippingAddress.lastName} style = {{width: '200px'}} maxLength=\"30\" onChange={this.changeAddress}/>\n                                                        <input type='text' id='street' name='street' placeholder='Ulica in hišna številka' value={this.state.shippingAddress.street} style = {{width: '200px'}} maxLength=\"30\" onChange={this.changeAddress}/>\n                                                        <input type='text' id='postnumber' name='postNumber' placeholder='Poštna številka' value={this.state.shippingAddress.postNumber} style = {{width: '100px'}} maxLength=\"10\" onChange={this.changeAddress}/>\n                                                        <input type='text' id='town' name='town' placeholder='Kraj' value={this.state.shippingAddress.town} style = {{width: '150px'}} maxLength=\"30\" onChange={this.changeAddress}/>\n                                                        <br/>\n                                                        <button className = 'btnb' type = 'submit'>SHRANI</button>\n                                                        <button className = 'btnb' style = {{marginLeft: '5px'}} onClick = {this.onEditButtonClick}>PREKLIČI</button>\n                                                        </form></div>} */}\n                        <br/>\n                        <b>NAČIN PLAČILA: </b><br/>\n                        <p>Plačilna kartica (VISA, MASTERCARD)</p>\n\n                    </div>\n            )\n        }\n    }\n\n    render() {\n        return this.switchRender();\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n  };\n\n\nexport default connect(mapStateToProps) (FinishOrderData);","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { logIn, logOut } from '../../redux/actions';\nimport OrderListing from './OrderListing';\nimport FinishOrderData from './FinishOrderData';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport NavBar from '../../components/NavBar';\nimport AdSpace from '../../components/AdSpace';\nimport ClipLoader from 'react-spinners/ClipLoader';\n\n\nclass OrderPage extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            orderStatus: '',\n            adIds: [],\n            order: [],\n            fetching: true,\n            canceled: false,\n            finished: false,\n            error: false,\n            loading: false,\n            userId: '0',\n            redirectUrl: ''\n        };\n    }\n\n    abortController = new AbortController();\n\n    componentDidMount() {\n        fetch('/api/sessionorder', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                type: 2,\n            })\n        }).then(res => res.json())\n            .then(res => { const adIds = JSON.parse(res); this.setState({adIds});\n                (adIds.length) && fetch('/api/cartListings', {\n                                    signal: this.abortController.signal,\n                                    method: 'POST',\n                                    headers: {\n                                        'Content-Type': 'application/json',\n                                        'Accept': 'application/json'\n                                    },\n                                    body: JSON.stringify(adIds)\n                                }).then(res => res.json())\n                                    .then(res => {this.setState({order: res})})\n                                    //.then(res => console.log(res))\n                                    .catch(e => console.error(\"Critical failure: \" + e.message));})\n            .catch(e => console.error(\"Critical failure: \" + e.message));\n\n        fetch('/api/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => this.setState({userId: res.userId}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    cancelOrder = () => {\n        fetch('/api/sessionorder', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                type: 1,\n                ids: []\n            })\n        }).then(() => this.setState({canceled: true}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    removeFromCart = () => {\n        let cart = JSON.parse(window.localStorage.getItem(this.props.loggedInUserId));\n        const adIds = this.state.adIds;\n        adIds.forEach(adId => {\n            cart.splice(cart.indexOf(adId.toString()), 1);\n        })\n        window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(cart));\n    }\n\n    finishOrder = () => {\n        this.setState({loading: true});\n        const price = this.priceSum(this.state.order, this.state.order.length);\n        const postage = this.postageSum(this.state.order, this.state.order.length);\n        fetch('/api/placeorder', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                order: {\n                    ids: this.state.adIds,\n                    price: price,\n                    postage: postage,\n                    seller_id: this.state.order[0].user_id,\n                    seller: this.state.order[0].username,\n                    status: -1\n                }\n\n            })\n        }).then(res => res.json())\n        .then(res => this.setState({redirectUrl: res.redirectUrl}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    handleOrder = () => {\n        this.setState({orderStatus: 'ORDERED!'});\n    }\n\n    priceSum = (order, n) => {\n        let price = 0;\n        for (let i = 0; i < n; i++) {\n            price += order[i].price;\n        }\n        return price;\n    }\n    postageSum = (order, n) => {\n        let weight = 0;\n        let postage = 0;\n        for (let i = 0; i < n; i++) {\n            weight += order[i].weight;\n        }\n        postage = weight < 100 ? 2 : 3;\n        return postage;\n    }\n\n    goToPage = (redUrl) => {\n        window.location.href = redUrl;\n    }\n\n    switchRender = () => {\n\n        const order = this.state.order;\n        const n = order.length;\n        const price = this.priceSum(order, n);\n        const postage = this.postageSum(order, n);\n\n        if(this.state.redirectUrl !== '') {\n            this.goToPage(this.state.redirectUrl);\n        }\n        else if (this.state.userId === '0') {\n            return <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                <br/><br/><br/>\n                <h2>PROSIMO PRIJAVITE SE V SISTEM!</h2>\n                <br/><br/><br/>\n            </div>\n        }\n        else if (!n) {\n            return <div style = {{backgroundColor: 'rgb(255,255,255,0.7)', margin:'0 auto'}}>\n                        <br/>\n                        <h1>O NE! NEKAJ JE ŠLO NAROBE.</h1>\n                        <NavLink exact to = '/shoppingcart' className = 'btnb'>NAZAJ NA KOŠARICO</NavLink>\n                        <br/>\n                    </div>\n        }\n        else if (n && !this.state.canceled && !this.state.finished) {\n            return <div style = {{padding: '30px', margin: '0 auto'}}>\n                    <div style = {{backgroundColor: 'rgb(255,255,255,0.7)', margin:'0 auto'}}>\n                        <div style={{textAlign: 'left', paddingLeft: '50px', fontSize: 'Large'}}>\n                            <br/>\n                            <p><b>ODDAJ NAROČILO</b></p>\n                        </div>\n                        <br/>\n                        <div style = {{float: 'left', paddingRight: '100px', minHeight: '70vh'}}>\n                            {this.state.order.map(item => <OrderListing key ={item.ad_id} description = {item}/>)}\n                        </div>\n                        <div style = {{textAlign: 'left'}}>\n                            <FinishOrderData/>\n                            <br/>\n                            <p>Cena: {price} €</p>\n                            <p>Cena poštnine: {postage} €</p>\n                            <p style = {{fontWeight: 'bold'}}>Skupaj: {price + postage} €</p>\n                            <button className = 'btnb' onClick = {this.finishOrder}>ZAKLJUČI NAROČILO</button>\n                            <button className = 'btnb' onClick = {this.cancelOrder}>PREKLIČI NAROČILO</button>\n                            <br/>\n                            <ClipLoader\n                                size={50}\n                                color={\"#123abc\"}\n                                loading={this.state.loading}\n                            />\n                            <br/>\n                            <p>{this.state.orderStatus}</p>\n                        </div>\n                        <br/>\n                        <div style = {{clear: 'both'}}>\n\n                        </div>\n                        <br/>\n                    </div>\n                </div>\n        } else if (this.state.canceled && !this.state.finished) {\n            return <div style = {{backgroundColor: 'rgb(255,255,255,0.7)', margin:'0 auto'}}>\n                        <br/>\n                        <h1>NAROČILO PREKLICANO!</h1>\n                        <NavLink exact to = '/shoppingcart' className = 'btnb'>NAZAJ NA KOŠARICO</NavLink>\n                        <br/>\n                    </div>\n        } else if (this.state.finished && !this.state.canceled) {\n            return <div style = {{backgroundColor: 'rgb(255,255,255,0.7)', margin:'0 auto'}}>\n                        <br/>\n                        {!this.state.error && <h1>NAROČILO ZAKLJUČENO!</h1>}\n                        {this.state.error && <h1>NAPAKA! EDEN ALI VEČ IZDELKOV ŽAL NI VEČ NA VOLJO!</h1>}\n                        <NavLink exact to = '/' className = 'btnb'>DOMOV</NavLink>\n                        <br/>\n                    </div>\n        } else {\n            return <div><br/><br/></div>\n        }\n\n    }\n\n    render() {\n        return <div className=\"App\">\n                    <UpperLine/>\n                    <Header/>\n                    <NavBar/>\n                    <BreadCrumbs pathname = {this.props.location.pathname}/>\n                    {this.switchRender()}\n                    <AdSpace/>\n                    <Bottom/>\n                </div>\n  \n    }\n    \n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n  };\n  \n  const mapDispatchToProps = {\n    logIn: logIn,\n    logOut: logOut\n  };\n\nexport default connect(mapStateToProps, mapDispatchToProps) (OrderPage);\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { logIn, logOut } from '../../redux/actions';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport NavBar from '../../components/NavBar';\nimport AdSpace from '../../components/AdSpace';\n\n\nclass PaymentStatus extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            success: false,\n            eventId: ''\n        };\n    }\n\n    abortController = new AbortController();\n    timer = null;\n\n    componentDidMount() {\n        this.timer = setTimeout(() => this.checkPayment(), 100);\n        //this.interval = setInterval(() => {this.checkPayment();}, 3000);\n    }\n\n    checkPayment = () => {\n        function subStrAfterChars(str, char) {\n            return str.substring(str.indexOf(char) + 1);\n        }\n        const eventId = subStrAfterChars(window.location.href, '=');\n        fetch('/api/paymentstatus', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                eventId: eventId\n            })\n        }).then(res => res.json())\n        .then(res =>{if (res.success) {this.setState({success: true, eventId: res.orderId})}})\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    //{if (res.success) {this.setState({success: true, eventId: eventId})}}\n\n    componentWillUnmount() {\n        this.abortController.abort();\n        clearTimeout(this.timer);\n        //clearInterval(this.interval);\n    }\n\n    switchRender = () => {\n\n        if (this.state.success) {\n            return <div style = {{backgroundColor: 'rgb(255,255,255,0.7)', margin:'0 auto'}}>\n                        <br/>\n                        <h1>PLAČILO JE SPREJETO! NAROČILO ZAKLJUČENO! ŠTEVILKA NAROČILA: {this.state.eventId}</h1>\n                        <NavLink exact to = '/' className = 'btnb'>DOMOV</NavLink>\n                        <br/>\n                    </div>\n        } else {\n            return <div style = {{backgroundColor: 'rgb(255,255,255,0.7)', margin:'0 auto'}}>\n                        <br/>\n                        <h1>OJEJ, NEKAJ JE ŠLO NAROBE, PLAČILO NI USPELO.</h1>\n                        <NavLink exact to = '/' className = 'btnb'>DOMOV</NavLink>\n                        <br/>\n                    </div>\n        }\n    }\n\n    render() {\n        return <div className=\"App\">\n                    <UpperLine/>\n                    <Header/>\n                    <NavBar/>\n                    <BreadCrumbs pathname = {this.props.location.pathname}/>\n                    {this.switchRender()}\n                    <AdSpace/>\n                    <Bottom/>\n                </div>\n  \n    }\n    \n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n  };\n  \n  const mapDispatchToProps = {\n    logIn: logIn,\n    logOut: logOut\n  };\n\nexport default connect(mapStateToProps, mapDispatchToProps) (PaymentStatus);\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport * as Constants from '../../constants';\n\n\nconst CategoryListings = (props) => {\n\n    const imgStyle = {\n        width: \"100%\",\n        border: '2px solid white'\n    }\n\n    const wrapper = {\n        display: \"grid\",\n        gridTemplateColumns: \"repeat(4, 1fr)\",\n        gridGap: \"100px 100px\",\n        //border: \"1px solid black\",\n        maxWidth: \"100%\",\n        margin: \"50px 50px\"\n    }\n\n    const priceTagStyle = {\n        width:\"50px\",\n        position:\"relative\",\n        zIndex:\"10\",\n        backgroundColor:\"rgb(255,255,255,0.5)\",\n        padding:\"2x\",\n        paddingRight:\"5px\",\n        marginTop:-28,\n        textAlign:\"right\",\n        fontWeight:\"bold\"\n    }\n\n\n\n    return (\n        <div style={{maxWidth: '100%', justifyContent: 'center', minHeight:'80vh'}}>\n            <div style={wrapper}>\n                {props.ads.map((ad) => {\n                    let category = Constants.categoryNames[ad.category]\n                    let subcategory;\n                    switch(category) {\n                        case 'women':\n                            subcategory = Constants.women[ad.subcategory].value;\n                            break;\n                        case 'men':\n                            subcategory = Constants.men[ad.subcategory].value;\n                            break;\n                        case 'kids':\n                            subcategory = Constants.kids[ad.subcategory].value;\n                            break;\n                        default:\n                            subcategory = 0;\n                    }\n                    return (\n                        <li key={ad.ad_id} style={{ listStyleType: \"none\" }}><NavLink exact to =\n                        {'/listings/' + category + '/' + subcategory + '/item?' + ad.ad_id}>\n                            <img src={'/api/' + ad.photo1_url} alt = {ad.photo1_url + '_photo'} style={imgStyle}/>\n                        </NavLink><p style={priceTagStyle}>{ad.price} €</p></li>)\n                    }\n                )}\n            </div>\n        </div>\n    )\n}\n\nexport default CategoryListings;","import React from 'react';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport CategoryListings from './CategoryListings';\nimport NavBar from '../../components/NavBar';\nimport {findIndexByValue} from '../../functions/index';\nimport * as Constants from '../../constants';\n\n\nclass ListingsPage extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            prevProps: null,\n            ads: [],\n            adsPerPage: 5,\n            numPages: 1,\n            page: 1\n        };\n    }\n    \n    abortController = new AbortController();\n\tcomponentDidMount() {\n        function subStrAfterChars(str, char) {\n            return str.substring(str.indexOf(char) + 1);\n        }\n        if(window.location.href.includes('?')) {\n            let page = parseInt(subStrAfterChars(window.location.href, '?'));\n            this.setState({page});\n        }\n        let category;\n        let subcategory;\n\n        switch(this.props.category) {\n            case 'women':\n                category = 1;\n                this.props.subcategory !== '0' ? subcategory = findIndexByValue(Constants.women, this.props.subcategory) : subcategory = 0;\n                break;\n            case 'men':\n                category = 2;\n                this.props.subcategory !== '0' ? subcategory = findIndexByValue(Constants.men, this.props.subcategory) : subcategory = 0;\n                break;\n            case 'kids':\n                category = 3;\n                this.props.subcategory !== '0' ? subcategory = findIndexByValue(Constants.kids, this.props.subcategory) : subcategory = 0;\n                break;\n            default:\n                category = 0;\n                subcategory = 0;\n        }       \n        fetch('/api/allphotos', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            signal: this.abortController.signal,\n            body: JSON.stringify({\n                type: 1,\n                category: category,\n                subcategory: subcategory\n            })\n        }).then(res => res.json())\n        .then(ads => {this.setState({ads, numPages: Math.floor(ads.length/this.state.adsPerPage + 0.99)})})\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    paginationButtonClick = (e) => {\n        function subStrBeforeChars(str, char) {\n            return str.substring(0, str.indexOf(char));\n        }\n        const location = subStrBeforeChars(window.location.href, '?');\n        let newpage = 1;\n        switch(e.target.id) {\n            case 'first':\n                this.setState({page: 1});\n                window.history.replaceState(null, \"\", location + '?1');\n                break;\n            case 'previous':\n                this.state.page > 1 ? newpage = this.state.page-1 : newpage = 1;\n                this.setState({page: newpage});\n                window.history.replaceState(null, \"\", location + '?' + newpage);\n                break;\n            case 'next':\n                this.state.page < this.state.numPages ? newpage = this.state.page+1 : newpage = this.state.numPages;\n                this.setState({page: newpage});\n                window.history.replaceState(null, \"\", location + '?' + newpage);\n                break;\n            case 'last':\n                this.setState({page: this.state.numPages});\n                window.history.replaceState(null, \"\", location + '?' + this.state.numPages);\n                break;\n            default:\n                return null;\n        }\n    }\n\n    sortSelect = (e) => {\n\n        const sortBy = e.target.value;\n        let sortedAds = this.state.ads;\n\n        function compareDate( a, b ) {\n            if ( a.ad_id > b.ad_id){\n              return -1;\n            }\n            if ( a.ad_id < b.ad_id ){\n              return 1;\n            }\n            return 0;\n          }\n        function comparePrice( a, b ) {\n            if ( a.price < b.price){\n              return -1;\n            }\n            if ( a.price > b.price ){\n              return 1;\n            }\n            return 0;\n          }\n\n        switch(sortBy) {\n            case \"date\":\n                sortedAds.sort(compareDate);\n                break;\n            case \"price\":\n                sortedAds.sort(comparePrice);\n                break;\n            default:\n                break;\n        }\n        this.setState({ads: sortedAds});\n    }\n\n    adsDiv = () => {\n\n        if (this.state.ads.length === 0) {\n            return (\n                <div style={{display: \"flex\", maxWidth: \"90vw\", minHeight: '30vh', justifyContent: 'center'}}>\n                    <div><h2 style = {{color: 'white'}}>OPROSTITE, V TEJ KATEGORIJI NI OGLASOV!</h2></div>\n                </div>\n            )\n        } else {\n            let numAds = this.state.ads.length;\n            let n = this.state.adsPerPage;\n            let p = this.state.page - 1;\n            let till;\n            p*n + n < numAds ? till = (p+1)*n : till = numAds;\n            let adsPortion = this.state.ads.slice(p*n, till);\n            return (\n                <div>\n                    <div style={{textAlign:\"right\", marginRight:\"150px\"}}>\n                        <select name=\"sort\" id=\"sort\" onChange={this.sortSelect}>\n                            <option value=\"date\">Sortiraj</option>\n                            <option value=\"date\">Najnovejše</option>\n                            <option value=\"price\">Najcenejše</option>\n                        </select>\n                    </div>\n                    <div style={{display: \"flex\", maxWidth: \"100vw\", paddingLeft: '5vw', paddingRight: '5vw'}}>\n                        <CategoryListings ads = {adsPortion}/>\n                    </div>\n                    <div>\n                        <button id='first' className='btn_nopad' onClick={this.paginationButtonClick}>PRVA</button>\n                        <button id='previous' className='btn_nopad' onClick={this.paginationButtonClick}>&#60;&#60;</button>\n                        <button id='current' className='btn_nopad'>{this.state.page}/{this.state.numPages}</button>\n                        <button id='next' className='btn_nopad' onClick={this.paginationButtonClick}>&#62;&#62;</button>\n                        <button id='last' className='btn_nopad' onClick={this.paginationButtonClick}>ZADNJA</button>\n                    </div>\n                </div>\n            )\n        }\n    }\n\n    render() {\n\n        let path = '';\n        this.props.subcategory === '0' ? path = '/listings/' + this.props.category  + '/all' : path = '/listings/' + this.props.category + '/' + this.props.subcategory;\n\n        return <div className=\"App\">\n                    <UpperLine/>\n                    <Header/>\n                    <NavBar/>\n                    <BreadCrumbs pathname = {path}/>\n                    {this.adsDiv()}\n                    <Bottom/>\n                </div>\n\n    }\n\n}\n\nexport default ListingsPage;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport { NavLink } from 'react-router-dom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport NavBar from '../../components/NavBar';\nimport Bottom from '../../components/Bottom';\nimport AdSpace from '../../components/AdSpace';\nimport '../../App.css';\n\n\nclass ChatPage extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n        this.state = {\n            userId: '0',\n            conversations: [],\n            unread: [],\n            perPage: 10,\n            numPages: 1,\n            page: 1\n        }\n    }\n\n    abortController = new AbortController();\n    componentDidMount() {\n\n        fetch('/api/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => this.setState({userId: res.userId}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n\n        this.conversationsFetch();\n        this.interval = setInterval(() => {this.conversationsFetch();}, 30000);\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n        clearInterval(this.interval);\n    }\n\n    conversationsFetch = () => {\n        fetch('/api/fetchconversations', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            }\n        })\n        .then(res => res.json())\n        .then(res => {const conversations = res; let unread = []; for(let i = 0; i < res.length; i++) unread.push(0); const numPages = Math.floor(res.length/this.state.perPage + 0.99);\n            this.setState(state => {return {...state, conversations, unread, numPages}}, () => {for(let i = 0; i < res.length; i++) {\n                let iLId = 0;\n                res[i].id1.toString() === this.props.loggedInUserId ? iLId = res[i].id2 : iLId = res[i].id1;\n                this.fetchNumberOfUnread(i, iLId);\n            }})\n        })\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    fetchNumberOfUnread = (i, iLId) => {\n        fetch('/api/fetchunread', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                iLId: iLId\n            })\n        })\n        .then(res => res.json())\n        .then(res => {this.setState(state => {\n                            const unread = state.unread.map((num, j) => {if (j === i) {return res;} else return num;});\n                            return ({...state, unread});\n                        });                    \n        })\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    paginationButtonClick = (e) => {\n        let newpage = 1;\n        switch(e.target.id) {\n            case 'first':\n                this.setState({page: 1});\n                break;\n            case 'previous':\n                this.state.page > 1 ? newpage = this.state.page-1 : newpage = 1;\n                this.setState({page: newpage});\n                break;\n            case 'next':\n                this.state.page < this.state.numPages ? newpage = this.state.page+1 : newpage = this.state.numPages;\n                this.setState({page: newpage});\n                break;\n            case 'last':\n                this.setState({page: this.state.numPages});\n                break;\n            default:\n                return null;\n        }\n    }\n\n    switchRender = () => {\n\n        let numConvers = this.state.conversations.length;\n        let n = this.state.perPage;\n        let p = this.state.page - 1;\n        let till;\n        p*n + n < numConvers ? till = (p+1)*n : till = numConvers;\n        let conversPortion = this.state.conversations.slice(p*n, till);\n\n        if (this.state.userId === '0') {\n            return <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                <br/><br/><br/>\n                <h2>PROSIMO PRIJAVITE SE V SISTEM!</h2>\n                <br/><br/><br/>\n            </div>\n        }\n        else return (\n        <>\n            <div style = {{backgroundColor: 'rgb(255, 255, 255, 0.7)', textAlign: 'left', paddingLeft: '100px', paddingBottom: '50px'}}>\n                <br/>\n                <h2>POGOVORI:</h2>\n                {conversPortion.map((conv, index) => {\n                    let iLId = 0;\n                    let conversant = '';\n                    conv.id1 === parseInt(this.props.loggedInUserId) ? iLId = conv.id2 : iLId = conv.id1;\n                    conv.conversant1 === this.props.loggedInUser ? conversant = conv.conversant2 : conversant = conv.conversant1;\n                    let numunread = '';\n                    if(this.state.unread[index]) numunread = '(' + this.state.unread[index] + ')';\n                    return <li key = {index} style = {{listStyleType: 'none', paddingLeft: '200px', paddingTop: '10px'}}>\n                                <NavLink\n                                    style = {{color: 'black', textTransform: 'uppercase', fontWeight: 'bold'}}\n                                    exact to = {'/chatpage/conversation?' + iLId}>{conversant + numunread}\n                                </NavLink>\n                            </li>\n                })}\n            </div>\n            <div style = {{textAlign: 'left', paddingLeft: '12px'}}>\n                <button id='first' className='btn_nopad' onClick={this.paginationButtonClick}>PRVA</button>\n                <button id='previous' className='btn_nopad' onClick={this.paginationButtonClick}>&#60;&#60;</button>\n                <button id='current' className='btn_nopad'>{this.state.page}/{this.state.numPages}</button>\n                <button id='next' className='btn_nopad' onClick={this.paginationButtonClick}>&#62;&#62;</button>\n                <button id='last' className='btn_nopad' onClick={this.paginationButtonClick}>ZADNJA</button>\n            </div>\n        </>)\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n            <UpperLine/>\n            <Header/>\n            <NavBar/>\n            <BreadCrumbs pathname = {this.props.location.pathname}/>\n            {this.switchRender()}\n            <AdSpace/>\n            <Bottom/>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n};\n\nexport default connect(mapStateToProps) (ChatPage)","import React from 'react'\nimport '../../App.css';\n\nclass NewMsg extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n        this.state = {\n            newMsg: ''\n        }\n    }\n\n    updateMsg = (event) => {\n        event.preventDefault();\n        const {value} = event.target;\n        this.setState({newMsg: value});\n    }\n\n    onClickSend = () => {\n        this.props.callBackParent(this.state.newMsg)\n        this.setState({newMsg: ''})\n    }\n\n    render() {\n\n        return(\n            <div>\n                <textarea\n                    style={{width: '60vw', minHeight: '10px'}}\n                    onChange={this.updateMsg}\n                    value={this.state.newMsg}\n                    placeholder=\"Novo sporočilo\"\n                    maxLength=\"990\">\n                </textarea>\n                <br/>\n                <button className = 'btn' style = {{border: '2px solid #ccc'}} onClick = {this.onClickSend}>SEND</button>\n\n            </div>\n        )\n    }\n\n\n}\n\nexport default NewMsg","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport NewMsg from './NewMsg';\nimport NavBar from '../../components/NavBar';\nimport AdSpace from '../../components/AdSpace';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport '../../App.css';\n\n\nclass Conversation extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n        this.state = {\n            userId: '0',\n            time: null,\n            interlocutor: '',\n            messages: [],\n            newMsg: ''\n        }\n    }\n\n    abortController = new AbortController();\n\n    componentDidMount() {\n        fetch('/api/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => this.setState({userId: res.userId}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n\n        this.msgFetch();\n        this.interval = setInterval(() => {this.msgFetch();}, 30000);\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n        clearInterval(this.interval);\n    }\n\n    msgFetch = () => {\n        const iLId = this.interlocutorId();\n        this.interlocutor(iLId);\n        fetch('/api/fetchmessages', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                conversantId: iLId\n            })\n        })\n        .then(res => res.json())\n        .then(results => {\n            const messages = results.map(result => ({time: result.date_created, sender: result.sender, msg: result.msg}));\n            this.setState({messages})\n        })\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    sendMsg = (newMsg) => {\n        this.setState({newMsg})\n        const receiverId = this.interlocutorId();\n        fetch('/api/newmessage', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                receiverId: receiverId,\n                msg: newMsg\n            })\n        }).then(res => res.json())\n        .then(res => res.success && this.setState(state => {const messages = [...state.messages, ({time: 'now', sender: this.props.loggedInUser, msg: state.newMsg})];\n                                        return {...state, messages, newMsg: ''}}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    interlocutorId() {\n        function subStrAfterChars(str, char) {\n            return str.substring(str.indexOf(char) + 1);\n        }\n        const interlocutorId = subStrAfterChars(window.location.href, '?');\n        return interlocutorId;\n    }\n\n    interlocutor = (iLId) => {\n        fetch('/api/firstname', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                iLId: iLId,\n            })\n        }).then(res => res.json())\n        .then(res => this.setState({interlocutor: res[0].first_name}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    switchRender = () => {\n        const messages = this.state.messages;\n        const N = this.state.messages.length;\n        const n = 5;\n\n        if (this.state.userId === '0') {\n            return <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                <br/><br/><br/>\n                <h2>PROSIMO PRIJAVITE SE V SISTEM!</h2>\n                <br/><br/><br/>\n            </div>\n        }\n        else return <div style = {{backgroundColor: 'rgb(255, 255, 255, 0.8)'}}>\n            <p>{this.state.time}</p>\n            <br/>\n            <p style = {{fontSize: '30px'}}>POGOVOR S/Z: <b>{this.state.interlocutor}</b></p>\n            {N > n && <NavLink exact to = {this.props.location.pathname + '/all?' + this.interlocutorId()} className = 'btn'>POKAŽI STAREJŠA SPOROČILA</NavLink>}\n            <br/>\n            <ul style = {{display: 'inline-block', maxWidth: '60vw', paddingLeft: '0px'}}>\n            {N > n && (\n            messages.slice(N-n, N)\n            .map((msg, index) =>\n                <li key={index} style={{listStyleType: 'none', lineHeight: '35px'}}>\n                    {msg.time.substring(8,10)}-{msg.time.substring(5,7)}-{msg.time.substring(0,4)} {msg.time.substring(11,16)}: <b>{msg.sender}</b>: {msg.msg}</li>))}\n            {N <= n && this.state.messages.map((msg, index) =>\n                <li key={index} style={{listStyleType: 'none', lineHeight: '35px'}}>\n                    {msg.time.substring(8,10)}-{msg.time.substring(6,7)}-{msg.time.substring(0,4)} {msg.time.substring(11,16)}: <b>{msg.sender}</b>: {msg.msg}</li>)}\n            </ul>\n            <br/>\n            <br/>\n            <div>\n                <NewMsg callBackParent = {this.sendMsg}/>\n            </div>\n        </div>\n    }\n\n    render() {\n        return (\n            <div className = 'App'>\n                <UpperLine/>\n                <Header/>\n                <NavBar/>\n                <BreadCrumbs pathname = {this.props.location.pathname}/>\n                {this.switchRender()}\n                <AdSpace/>\n                <Bottom/>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n};\n\nexport default connect(mapStateToProps) (Conversation)","import React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport NavBar from '../../components/NavBar';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport AdSpace from '../../components/AdSpace';\nimport '../../App.css';\n\n\nclass AllMessages extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n        this.state = {\n            userId: '0',\n            interlocutor: '',\n            messages: []\n        }\n    }\n\n    abortController = new AbortController();\n\n    componentDidMount() {\n        fetch('/api/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => this.setState({userId: res.userId}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n\n        this.msgFetch();\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    msgFetch = () => {\n        const iLId = this.interlocutorId();\n        this.interlocutor(iLId);\n        fetch('/api/fetchmessages', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                conversantId: iLId\n            })\n        })\n        .then(res => res.json())\n        .then(results => {\n            const messages = results.map(result => ({time: result.date_created, sender: result.sender, msg: result.msg}));\n            this.setState({messages})\n        })\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    interlocutorId() {\n        function subStrAfterChars(str, char) {\n            return str.substring(str.indexOf(char) + 1);\n        }\n        const interlocutorId = subStrAfterChars(window.location.href, '?');\n        return interlocutorId;\n    }\n\n    interlocutor = (iLId) => {\n        fetch('/api/firstname', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                iLId: iLId,\n            })\n        }).then(res => res.json())\n        .then(res => this.setState({interlocutor: res[0].first_name}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    switchRender = () => {\n\n        const messages = this.state.messages;\n\n        if (this.state.userId === '0') {\n            return <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                <br/><br/><br/>\n                <h2>PROSIMO PRIJAVITE SE V SISTEM!</h2>\n                <br/><br/><br/>\n            </div>\n        }\n        else return <div style = {{backgroundColor: 'rgb(255, 255, 255, 0.8)'}}>\n            <br/>\n            <p style = {{fontSize: '30px'}}>ZGODOVINA POGOVOROV S/Z: <b>{this.state.interlocutor}</b></p>\n            <br/>\n            <ul style = {{display: 'inline-block', maxWidth: '60vw'}}>\n            {messages.map((msg, index) =>\n                <li key={index} style={{listStyleType: 'none', lineHeight: '35px'}}>\n                    {msg.time.substring(8,10)}-{msg.time.substring(6,7)}-{msg.time.substring(0,4)} {msg.time.substring(11,16)}: <b>{msg.sender}</b>: {msg.msg}</li>)}\n            </ul>\n            <NavLink exact to = {'/chatpage/conversation?' + this.interlocutorId()} className = 'btn'>NAZAJ</NavLink>\n        </div>\n\n    }\n\n    render() {\n        return (\n            <div className = 'App'>\n                <UpperLine/>\n                <Header/>\n                <NavBar/>\n                <BreadCrumbs pathname = {'/chatpage/conversation?'+ this.interlocutorId() + '/all?' + this.interlocutorId()}/>\n                {this.switchRender()}\n                <AdSpace/>\n                <Bottom/>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n};\n\nexport default connect(mapStateToProps) (AllMessages)","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport Header from '../components/Header';\nimport UpperLine from '../components/UpperLine';\nimport Bottom from '../components/Bottom';\nimport BreadCrumbs from '../components/BreadCrumbs';\nimport ClipLoader from 'react-spinners/ClipLoader';\nimport '../App.css';\n\nclass ForgotPassword extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            userId: 0,\n            email: '',\n            success: '',\n            loading: false\n        };\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    abortController = new AbortController();\n\n    componentDidMount() {\n        fetch('/api/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => {this.setState({userId: res.userId})})\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    sendRequestForReset = (e) => {\n        e.preventDefault();\n\n        this.setState({loading: true});\n\n        fetch('/api/forgotpassword', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                email: this.state.email\n            })\n        }).then(res => res.json())\n            .then(res => this.setState({success: res.success, loading: false}));\n\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    handleChange(event) {\n\t\tthis.setState({\n\t\t\t[event.target.name]: event.target.value\n\t\t})\n    }\n\n    //<button type = 'submit' style = {{paddingLeft: '200px'}}>RESET PASSWORD</button>\n\n    render() {\n\n        if(this.state.userId !== 0) {\n            return (\n                <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                    <br/><br/><br/>\n                    <h2>STE ŽE PRIJAVLJENI</h2>\n                    <NavLink to = '/'>DOMOV</NavLink>\n                    <br/><br/><br/>\n                </div>\n            )\n        }\n\n        else return(\n            <div className = 'app'>\n                <UpperLine/>\n                <Header/>\n                <BreadCrumbs pathname = {this.props.location.pathname}/>\n                <br/><br/>\n                <form onSubmit={this.sendRequestForReset} style = {{textAlign: 'center', marginTop: '100px'}}>\n                    <input  type = 'email'\n                            name = 'email'\n                            value = {this.state.email}\n                            placeholder = 'Vpiši svoj e-naslov ...'\n                            style = {{width: '300px', marginRight: '10px'}}\n                            onChange = {this.handleChange}/>\n                    <button type = 'submit' className = 'btn'>POŠLJI ZAHTEVO ZA SPREMEMBO GESLA</button>\n                </form>\n                <div style = {{textAlign: 'center'}}>\n                    <ClipLoader\n                        size={50}\n                        color={'white'}\n                        loading={this.state.loading}\n                    />\n                </div>\n                <p style = {{backgroundColor: 'white', textAlign: 'center', lineHeight: '50px', marginBottom: '300px'}}>{this.state.success}</p>\n                <Bottom/>\n            </div>\n        )\n    }\n\n}\n\nexport default ForgotPassword;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport Header from '../components/Header';\nimport UpperLine from '../components/UpperLine';\nimport Bottom from '../components/Bottom';\nimport BreadCrumbs from '../components/BreadCrumbs';\nimport ClipLoader from 'react-spinners/ClipLoader';\nimport '../App.css';\n\nclass RequestConfirmEmail extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            userId: 0,\n            email: '',\n            success: false,\n            loading: false,\n            resultText: ''\n        };\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    abortController = new AbortController();\n\n    componentDidMount() {\n        fetch('/api/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => {this.setState({userId: res.userId})})\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    sendRequest = (e) => {\n        e.preventDefault();\n\n        this.setState({loading: true});\n\n        fetch('/api/resendconfirmemail', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                email: this.state.email\n            })\n        }).then(res => res.json())\n            .then(res => {if(res.success)\n                            this.setState({resultText: \"Poslali smo vam novo povezavo. Preverite svoj e-poštni nabiralnik, vključno z vsiljeno pošto.\", loading: false})\n                            else this.setState({resultText: \"E-naslov ne obstaja, ali pa je že potrjen.\", loading: false})});\n\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    handleChange(event) {\n\t\tthis.setState({\n\t\t\t[event.target.name]: event.target.value\n\t\t})\n    }\n\n    render() {\n        \n        if(parseInt(this.state.userId) !== 0) {\n            return (\n                <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                    <br/><br/><br/>\n                    <h2>STE ŽE PRIJAVLJENI</h2>\n                    <NavLink to = '/'>DOMOV</NavLink>\n                    <br/><br/><br/>\n                </div>\n            )\n        }\n\n        else return(\n            <div className = 'app'>\n                <UpperLine/>\n                <Header/>\n                <BreadCrumbs pathname = {this.props.location.pathname}/>\n                <br/><br/>\n                <form onSubmit={this.sendRequest} style = {{textAlign: 'center', marginTop: '100px'}}>\n                    <input  type = 'email'\n                            name = 'email'\n                            value = {this.state.email}\n                            placeholder = 'Vpiši svoj e-naslov ...'\n                            style = {{width: '300px', marginRight: '10px'}}\n                            onChange = {this.handleChange}/>\n                    <button type = 'submit' className = 'btn'>POŠLJI MI NOVO E-SPOROČILO</button>\n                </form>\n                <div style = {{textAlign: 'center'}}>\n                    <ClipLoader\n                        size={50}\n                        color={'white'}\n                        loading={this.state.loading}\n                    />\n                </div>\n                <p style = {{backgroundColor: 'white', textAlign: 'center', lineHeight: '50px', marginBottom: '300px'}}>{this.state.resultText}</p>\n                <Bottom/>\n            </div>\n        )\n    }\n\n}\n\nexport default RequestConfirmEmail;","import React from 'react';\nimport { connect } from 'react-redux';\nimport UpperLine from '../../components/UpperLine';\nimport NavBar from '../../components/NavBar';\nimport AdSpace from '../../components/AdSpace';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport '../../App.css';\n\n\nclass ContentSupport extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            questionType: 0,\n            msg: '',\n            orderNumber: 0,\n            success: false,\n            warning:''\n\t\t};\n    }\n\n    abortController = new AbortController();\n\n    componentDidMount() {\n        function subStrAfterChars(str, char) {\n            return str.substring(str.indexOf(char) + 1);\n        }\n        window.location.href.includes(\"?\") &&\n        this.setState({questionType: parseInt(subStrAfterChars(window.location.href, '?'))});\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    typeBtnclick = (event) => {\n        event.preventDefault();\n        const id = parseInt(event.target.id);\n        this.setState({questionType: id, warning: ''});\n    }\n\n    updateMsg = (event) => {\n        event.preventDefault();\n        const {value} = event.target;\n        this.setState({msg: value});\n    }\n\n    updateOrderNumber = (event) => {\n        event.preventDefault();\n        const {value} = event.target;\n        this.setState({orderNumber: value});\n    }\n\n    onClickSend = () => {\n        if(this.state.questionType === 3 && this.state.orderNumber) {\n            if(this.state.orderNumber) {\n                fetch('/api/reclamation', {\n                    signal: this.abortController.signal,\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Accept': 'application/json'\n                    },\n                    body: JSON.stringify({\n                        userId: this.props.loggedInUserId,\n                        msg: this.state.msg,\n                        orderNumber: parseInt(this.state.orderNumber)\n                    })\n                }).then(res => res.json())\n                .then(res => {if(res.success) this.setState({success: true}); else this.setState({warning: \"Napačna številka naročila.\"})})\n                .catch(e => console.error(\"Critical failure: \" + e.message));\n            }\n            else this.setState({warning: \"Napačna številka naročila.\"})\n        }\n        else {\n            fetch('/api/ticketroutes', {\n                signal: this.abortController.signal,\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json'\n                },\n                body: JSON.stringify({\n                    typect: 'content',\n                    questionType: this.state.questionType,\n                    userId: this.props.loggedInUserId,\n                    msg: this.state.msg\n                })\n            }).then(res => res.json())\n            .then(res => res.success && this.setState({success: true}))\n            .catch(e => console.error(\"Critical failure: \" + e.message));\n        }\n    }\n\n    reclamationDiv = () => {\n        return (\n            <div>\n                <br/>\n                <p style={{textAlign: \"left\", color:\"white\", fontWeight:\"bold\", fontSize:\"large\"}}>REKLAMACIJA</p>\n                <input\n                    placeholder=\"Številka naročila\"\n                    onChange={this.updateOrderNumber}>\n                </input>\n            </div>\n        )\n    }\n\n    renderSwitch = (userId, success) => {\n        if (userId === 0 && !success) {\n            return <div className = 'white-back'>\n                        <br/><br/><br/>\n                        <h2>PROSIMO, DA SE PRED ODDAJO VPRAŠANJA PRIJAVITE.</h2>\n                        <br/><br/><br/>\n                    </div>\n        }\n        else if (success) {\n            return <div className = 'white-back'>\n                        <br/><br/><br/>\n                        <h2>HVALA ZA ODDANO VPRAŠANJE. ODGOVORILI VAM BOMO PO E-POŠTI V NAJKRAJŠEM MOŽNEM ČASU.</h2>\n                        <br/><br/><br/>\n                    </div>\n        }\n        else return <div>\n                        <div style = {{display: 'inline-block'}}>\n                            <button id = {1} className = 'support_btn' onClick = {this.typeBtnclick}>VPRAŠANJE V ZVEZI S PRODAJO</button>\n                            <button id = {2} className = 'support_btn' onClick = {this.typeBtnclick}>VPRAŠANJE V ZVEZI Z NAKUPOM</button>\n                            <button id = {3} className = 'support_btn' onClick = {this.typeBtnclick}>REKLAMACIJA IZDELKA</button>\n                        </div>\n                        {this.state.questionType ?\n                        <div style={{textAlign: \"center\", width: '60vw', minHeight: '10px', margin:\"0 auto\"}}>\n                            <br/>\n                            {this.state.questionType === 1 && <p style={{textAlign: \"left\", color:\"white\", fontWeight:\"bold\", fontSize:\"large\"}}>VPRAŠANJE V ZVEZI S PRODAJO</p>}\n                            {this.state.questionType === 2 && <p style={{textAlign: \"left\", color:\"white\", fontWeight:\"bold\", fontSize:\"large\"}}>VPRAŠANJE V ZVEZI Z NAKUPOM</p>}\n                            {this.state.questionType === 3 && this.reclamationDiv()}\n                            <textarea\n                                style={{width: '60vw', minHeight: '10px'}}\n                                onChange={this.updateMsg}\n                                value={this.state.msg}\n                                placeholder=\"Vaše sporočilo\"\n                                maxLength=\"990\">\n                            </textarea>\n                            <br/>\n                            <button className = 'btn' style = {{border: '2px solid #ccc'}} onClick = {this.onClickSend}>POŠLJI</button>\n                        </div> : null}\n                        <p style={{color:\"red\"}}>{this.state.warning}</p>\n                    </div>\n    } \n\n\n    render() {\n\n        let userId = this.props.loggedInUserId;\n        let success = this.state.success;\n\n            return (\n            <div className=\"App\">\n                <UpperLine/>\n                <Header/>\n                <NavBar/>\n                <BreadCrumbs pathname = {this.props.location.pathname}/>\n                {this.renderSwitch(userId, success)}\n                <AdSpace/>\n                <Bottom/>\n            </div>)\n\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId,\n    };\n  };\n\nexport default connect(mapStateToProps) (ContentSupport);","import React from 'react';\nimport { connect } from 'react-redux';\nimport UpperLine from '../../components/UpperLine';\nimport NavBar from '../../components/NavBar';\nimport AdSpace from '../../components/AdSpace';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport '../../App.css';\n\n\n\nclass TechnicalSupport extends React.Component {\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            msg: '',\n            success: false\n\t\t};\n    }\n\n    abortController = new AbortController();\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    updateMsg = (event) => {\n        const {value} = event.target;\n        this.setState({msg: value});\n    }\n\n    onClickSend = () => {\n        console.log(this.props.loggedInUserId);\n        fetch('/api/techsupportroutes', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                typect: 'technical',\n                userId: this.props.loggedInUserId,\n                msg: this.state.msg\n            })\n        }).then(res => res.json())\n        .then(res => res.success && this.setState({success: true}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    render() {\n        console.log(this.props.location.pathname);\n\n        let userId = this.props.loggedInUserId;\n        let success = this.state.success;\n\n        if(userId === 0 && !success) {\n            return (\n            <div className=\"App\">\n                <UpperLine/>\n                <Header/>\n                <NavBar/>\n                <BreadCrumbs pathname = {this.props.location.pathname}/>\n                <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                        <br/><br/><br/>\n                        <h2>PROSIMO, DA SE PRED ODDAJO VPRAŠANJA PRIJAVITE.</h2>\n                        <br/><br/><br/>\n                    </div>\n                <AdSpace/>\n            <Bottom/>\n        </div>)\n        }\n        else if(success) {\n            return (\n                <div className=\"App\">\n                    <UpperLine/>\n                    <Header/>\n                    <NavBar/>\n                    <BreadCrumbs pathname = {this.props.location.pathname}/>\n                    <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                            <br/><br/><br/>\n                            <h2>HVALA ZA ODDANO VPRAŠANJE. ODGOVORILI VAM BOMO PO E-POŠTI V NAJKRAJŠEM MOŽNEM ČASU.</h2>\n                            <br/><br/><br/>\n                    </div>\n                    <AdSpace/>\n                <Bottom/>\n            </div>)\n        }\n        else\n        return (\n            <div className=\"App\">\n                <UpperLine/>\n                <Header/>\n                <NavBar/>\n                <BreadCrumbs pathname = {this.props.location.pathname}/>\n                <div>\n                    <br/>\n                    <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                        <br/>\n                        <h2>KAKO VAM LAHKO POMAGAMO?</h2>\n                        <br/>\n                    </div>\n                    <br/><br/>\n                    <textarea\n                        style={{width: '60vw', minHeight: '10px'}}\n                        onChange={this.updateMsg}\n                        value={this.state.msg}\n                        placeholder=\"Novo sporočilo\"\n                        maxLength=\"990\">\n                    </textarea>\n                    <br/>\n                    <button className = 'btn' style = {{border: '2px solid #ccc'}} onClick = {this.onClickSend}>SEND</button>\n                </div>\n                <AdSpace/>\n                <Bottom/>\n            </div>\n        );\n\n  }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        loggedInUser: state.loggedInUser,\n        loggedInUserId: state.loggedInUserId,\n    };\n};\n  \nexport default connect(mapStateToProps) (TechnicalSupport);","import React from 'react';\nimport '../../App.css';\nimport UpperLine from '../../components/UpperLine';\nimport NavBar from '../../components/NavBar';\nimport AdSpace from '../../components/AdSpace';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\n\n\n\nconst IDcard = () => {\n\n    return (\n        <div className=\"App\">\n        <UpperLine/>\n        <Header/>\n        <NavBar/>\n        <BreadCrumbs pathname = {\"/idcard\"}/>\n        <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n            <p>MINIMALIST d.o.o.</p>\n            <p>SVETA TROJICA 5, ORMOŽ</p>\n        </div>\n        <AdSpace/>\n        <Bottom/>\n      </div>\n    );\n\n}\n\nexport default IDcard;\n\n","import React from 'react';\nimport UpperLine from '../../components/UpperLine';\nimport NavBar from '../../components/NavBar';\nimport AdSpace from '../../components/AdSpace';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport '../../App.css';\n\n\n\nconst Advertising = () => {\n\n    return (\n        <div className='App'>\n        <UpperLine/>\n        <Header/>\n        <NavBar/>\n        <BreadCrumbs pathname = {\"/advertising\"}/>\n        <div style = {{backgroundColor: 'rgb(255,255,255,0.7)'}}>\n        <br/>\n            <h2>OGLAŠEVANJE</h2>\n            <p>Trenutno oglaševanje na tej spletni strani ni možno, je pa v načrtu za kasneje.</p>\n            <br/>\n        </div>\n        <AdSpace/>\n        <Bottom/>\n      </div>\n    );\n\n}\n\nexport default Advertising;","import React from 'react';\nimport '../../App.css';\nimport UpperLine from '../../components/UpperLine';\nimport NavBar from '../../components/NavBar';\nimport AdSpace from '../../components/AdSpace';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\n\n\n\nconst Cookies = () => {\n\n    return (\n        <div className=\"App\">\n        <UpperLine/>\n        <Header/>\n        <NavBar/>\n        <BreadCrumbs pathname = {\"/cookies\"}/>\n        <div style = {{backgroundColor: 'rgb(255,255,255,0.7)'}}>\n        <br/>\n            <h2>PIŠKOTKI</h2>\n            <p>Ta spletna stran uporablja le piškotke, ki so nujno potrebni za delovanje strani.</p>\n            <br/>\n        </div>\n        <AdSpace/>\n        <Bottom/>\n      </div>\n    );\n\n}\n\nexport default Cookies;","import React from 'react';\nimport '../../App.css';\nimport UpperLine from '../../components/UpperLine';\nimport NavBar from '../../components/NavBar';\nimport AdSpace from '../../components/AdSpace';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\n\n\n\nconst Privacy = () => {\n\n    return (\n        <div className=\"App\">\n        <UpperLine/>\n        <Header/>\n        <NavBar/>\n        <BreadCrumbs pathname = {\"/privacy\"}/>\n        <div style = {{backgroundColor: 'rgb(255,255,255,0.7)', width:'60vw', textAlign:'left', display: 'inline-block', padding:'50px'}}>\n        <br/>\n            <h2>POLITIKA ZASEBNOSTI</h2>\n            <h3>Pravica do zasebnosti</h3>\n            <p>Z vašimi osebnimi podatki ravnamo pazljivo in skladno z v Republiki Sloveniji veljavnimi predpisi.\n                Dostop do osebnih podatkov je dovoljen le pooblaščenim zaposlenim in pogodbenim obdelovalcem, \n                v obsegu in z namenom, ki je nujno potreben za nemoteno delovanje spletne strani.</p>\n            <h3>Pooblaščena oseba za varstvo osebnih podatkov</h3>\n            <p>Če imate kakršna koli vprašanja v zvezi z našo politiko varovanja osebnih podatkov \n                ali načinom obravnave vaših osebnih podatkov, se lahko brez zadržkov obrnete na našo \n                pooblaščeno osebo za varstvo osebnih podatkov v družbi _____________ d.o.o. preko \n                elektronskega naslova _______. </p>\n            <h3>Nameni obdelave osebnih podatkov in pravni temelji</h3>\n            <p>Minimalist osebne podatke strank obdeluje kot posrednik pri prodaji izdelkov na spletni \n                strani, predvsem za namene nakazil in pri reklamacijskih zahtevkih strank. \n                Pri plačilu preko spleta Minimalist zagotavlja vse potrebne tehnološke in organizacijske \n                rešitve za popolno varnost nakupa. Prenos osebnih podatkov podanih ob registraciji v spletno \n                mesto Minimalist in transakcijskih podatkov povezanih z nakupom na spletni strani se izvaja \n                v varnem načinu s pomočjo protokola SSL (SecureSocketsLayer). \n                Varnost osebnih podatkov ob nakupu je zagotovljena tudi z upoštevanjem veljavnih zakonskih \n                obveznosti in priporočil slovenske ter mednarodne zveze potrošnikov. </p>\n            <h3>Piškotki</h3>\n            <p>Minimalist zbira osebne podatke tudi ob obisku spletne strani, prek piškotkov, \n                za namene zagotavljanja boljše funkcionalnosti in uporabniške izkušnje, varnosti ter nemotenega \n                delovanja spletne strani.\n                Trenutno minimalist uporablja le obvezne piškotke, ki so ključni in brez njih spletna stran \n                ne bi delovala, kot bi morala. Nastavijo se, ko posameznik odda obrazec, se prijavi ali opravi \n                kakršnokoli interakcijo s spletno stranjo preko klikanja na enostavne povezave.</p>\n            <h3>Obdelovalci osebnih podatkov</h3>\n            <p>Poleg Minimalista osebne podatke v njegovem imenu in za njegov račun obdelujejo tudi \n                pogodbeni partnerji, trenutno Mangopay, ki skrbi za transakcije med uporabniki spletne strani.</p>\n            <h3>Pravice posameznikov</h3>\n            <p>S pisno zahtevo, poslano na naslov: __________________ s pripisom »za GDPR«, \n                ali na elektronski naslov ________________ lahko posameznik zahteva dostop, dopolnitev, popravek, \n                blokiranje oz. omejitev obdelave, izbris osebnih podatkov ali lahko ugovarja obdelavi podatkov, \n                ki se obdelujejo v zvezi z njim ter zahteva prenos podatkov.\n                Posameznik lahko dane privolitve v obdelavo osebnih kadarkoli trajno ali začasno, \n                v celoti ali delno prekliče s pisno zahtevo, poslano na naslov: _______________________, \n                s pripisom »za GDPR«, ali na elektronski naslov _______________. \n                Preklic privolitve ne vpliva na zakonitost obdelave, ki se je na podlagi privolitve izvajala do njenega preklica.\n                Posameznik ima pravico vložiti pritožbo pri Informacijskem pooblaščencu RS, če meni, da se njegovi osebni podatki \n                shranjujejo ali kako drugače obdelujejo v nasprotju z veljavnimi predpisi, ki urejajo varstvo osebnih podatkov. </p>\n            <h3>Roki hrambe osebnih podatkov</h3>\n            <p>Minimalist bo obdeloval osebne podatke v obsegu, ki je potreben za uresničevanje namenov obdelave in dokler \n                bo to potrebno za dosego zasledovanega cilja, v primeru pridobljenih osebnih podatkov na podlagi \n                privolitev, pa do preklica, razen v primerih, ko je rok hrambe osebnih podatkov določen z zakonom. \n                V slednjih primerih Minimalist podatke hrani v skladu z zakonsko obveznostjo.</p>\n            <br/>\n        </div>\n        <AdSpace/>\n        <Bottom/>\n      </div>\n    );\n\n}\n\nexport default Privacy;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport UpperLine from '../../components/UpperLine';\nimport NavBar from '../../components/NavBar';\nimport AdSpace from '../../components/AdSpace';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\n\nconst listStyle = {\n    listStylePosition: \"inside\",\n    lineHeight: \"30px\"\n}\n\nconst Buying = () => {\n\n    return (\n        <div className=\"App\">\n        <UpperLine/>\n        <Header/>\n        <NavBar/>\n        <BreadCrumbs pathname = {\"/buying\"}/>\n        <div style = {{backgroundColor: 'rgb(255,255,255,0.7)'}}>\n            <br/>\n            <h2>NAKUPOVANJE NA SPLETNI STRANI</h2>\n            <p>Nakupovanje na spletni strani je enostavno. Potrebovali boste le kreditno kartico. Sledite naslednjim korakom:</p>\n            <ol style = {listStyle}>\n                <li>Če še nimate uporabniškega računa, se najprej registrirajte.</li>\n                <li>Prijavite se v sistem.</li>\n                <li>Poiščite izdelke, ki vam ustrezajo in jih dodajte v košarico.</li>\n                <li>Sledite postopku naročila in zaključite naročilo s plačilom s kreditno kartico.</li>\n                <li>Po prejemu izdelkov v uporabniških straneh pod zavihkom \"moja naročila\" potrdite prejem, če je bilo z naročilom vse v redu.\n                    V nasprotnem primeru kontaktirajte prodajalca oziroma podajte reklamacijo, če s prodajalcem ne prideta do sporazumne rešitve.</li>\n            </ol>\n            <br/>\n            <p>Imate dodatna vprašanja? <NavLink to=\"/contentsupport\">Pišite nam</NavLink></p>\n            <br/>\n        </div>\n        <AdSpace/>\n        <Bottom/>\n      </div>\n    );\n\n}\n\nexport default Buying;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport UpperLine from '../../components/UpperLine';\nimport NavBar from '../../components/NavBar';\nimport AdSpace from '../../components/AdSpace';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\n\nconst listStyle = {\n    listStylePosition: \"inside\",\n    lineHeight: \"30px\"\n}\n\nconst Selling = () => {\n\n    return (\n        <div className=\"App\">\n        <UpperLine/>\n        <Header/>\n        <NavBar/>\n        <BreadCrumbs pathname = {\"/selling\"}/>\n        <div style = {{backgroundColor: 'rgb(255,255,255,0.7)'}}>\n        <br/>\n            <h2>PRODAJA NA SPLETNI STRANI</h2>\n            <p>Za objavo in prodajo izdelkov boste potrebovali uporabniški račun.\n                Zagotoviti boste morali pravilne podatke o vašem bančnem računu, na katerega si boste lahko nakazali denar od prodaje izdelkov.\n                Za objavo in prodajo sledite naslednjim korakom:</p>\n            <ol style = {listStyle}>\n                <li>Če še nimate uporabniškega računa, se najprej registrirajte. Vpišite pravilne podatke o bančnem računu.</li>\n                <li>Prijavite se v sistem.</li>\n                <li>V uporabniških straneh pod zavihkom \"moji oglasi\" objavite oglas.</li>\n                <li>Ko boste prejeli naročilo, bo to vidno v vaših uporabniških straneh, dobili pa boste tudi obvestilo po e-pošti.</li>\n                <li>Zapakirajte in pošljite izdelke na naslov, ki ga dobite prek e-pošte, ter v uporabniških straneh pri naročilu označite, da ste izdelke odposlali.</li>\n                <li>Počakajte na potrditev kupca.</li>\n                <li>Denar od prodaje se zbira v vaši e-denarnici. V uporabniških straneh pod zavihkom \"moja denarnica\" si lahko nakažete denar na svoj bančni račun.\n                    Nakažete si lahko le denar od naročil, za katere je bil potrjen prejem. Minimalni znesek nakazila je 10 €.</li>\n            </ol>\n            <br/>\n            <p>Imate dodatna vprašanja? <NavLink to=\"/contentsupport\">Pišite nam</NavLink></p>\n            <br/>\n        </div>\n        <AdSpace/>\n        <Bottom/>\n      </div>\n    );\n\n}\n\nexport default Selling;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport UpperLine from '../../components/UpperLine';\nimport NavBar from '../../components/NavBar';\nimport AdSpace from '../../components/AdSpace';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\n\n\nconst Posting = () => {\n\n    return (\n        <div className=\"App\">\n        <UpperLine/>\n        <Header/>\n        <NavBar/>\n        <BreadCrumbs pathname = {\"/posting\"}/>\n        <div style = {{backgroundColor: 'rgb(255,255,255,0.7)'}}>\n            <br/>\n            <h2>POŠILJANJE IZDELKOV</h2>\n            <p>Po prejetju naročila izdelke čimprej zapakirajte in odpošljite prek Pošte Slovenije priporočeno ali z navadnim paketom.</p>\n            <p>Naslov za pošiljanje boste prejeli v e-sporočilu, ko boste prejeli naročilo.</p>\n            <p>Stroškov pakiranja in poštnine ne morete določiti sami, pač pa se izračunajo glede na težo izdelkov, ki jo vpišete, \n                tako da vam kupec dodatno plača strošek pošiljanja.</p>\n            <br/>\n            <p>Imate dodatna vprašanja? <NavLink to=\"/contentsupport\">Pišite nam</NavLink></p>\n            <br/>\n        </div>\n        <AdSpace/>\n        <Bottom/>\n      </div>\n    );\n\n}\n\nexport default Posting;","import React from 'react';\n//import '../../App.css';\nimport UpperLine from '../../components/UpperLine';\nimport NavBar from '../../components/NavBar';\nimport AdSpace from '../../components/AdSpace';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\n\n\n\nconst Protection = () => {\n\n    return (\n        <div className=\"App\">\n        <UpperLine/>\n        <Header/>\n        <NavBar/>\n        <BreadCrumbs pathname = {\"/protection\"}/>\n        <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n            <p>INFORMACIJE</p>\n            <p>V ZVEZI Z ZAŠČITO</p>\n        </div>\n        <AdSpace/>\n        <Bottom/>\n      </div>\n    );\n\n}\n\nexport default Protection;","import React from 'react';\n//import '../../App.css';\nimport UpperLine from '../../components/UpperLine';\nimport NavBar from '../../components/NavBar';\nimport AdSpace from '../../components/AdSpace';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\n\n\n\nconst Commission = () => {\n\n    return (\n        <div className=\"App\">\n        <UpperLine/>\n        <Header/>\n        <NavBar/>\n        <BreadCrumbs pathname = {\"/commission\"}/>\n        <div style = {{backgroundColor: 'rgb(255,255,255,0.7)'}}>\n            <br/>\n            <h2>PROVIZIJA</h2>\n            <p>Provizijo od prodaje plača prodajalec, in sicer v znesku 0.5 € + 5 % od zneska naročila.</p>\n            <p>To pomeni, da bo priliv v e-denarnico prodajalca zmanjšan za znesek provizije.</p>\n            <br/>\n        </div>\n        <AdSpace/>\n        <Bottom/>\n      </div>\n    );\n\n}\n\nexport default Commission;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport NavBar from '../../components/NavBar';\nimport AdSpace from '../../components/AdSpace';\nimport * as Constants from '../../constants';\n\n\nclass SearchResults extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            searchFor: '',\n            ads: [],\n            adsPerPage: 5,\n            numPages: 1,\n            page: 1 \n        };\n    }\n    \n    abortController = new AbortController();\n\tcomponentDidMount() {\n        function subStrAfterChars(str, char) {\n            return str.substring(str.indexOf(char) + 1);\n        }\n        function subStrBetweenChars(str, char1, char2) {\n            return str.substring(str.indexOf(char1) + 1, str.indexOf(char2));\n        }\n        let searchFor = '';\n        console.log(searchFor);\n        if(window.location.href.includes('=')) {\n            searchFor = subStrBetweenChars(window.location.href, '?', '=');\n            let page = parseInt(subStrAfterChars(window.location.href, '='));\n            this.setState({page});\n        }\n        else {\n            searchFor = subStrAfterChars(window.location.href, '?');\n        }\n        this.setState({searchFor}, () => this.search());\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    search = () => {\n        let searchFor = this.state.searchFor;\n        if (searchFor === '') searchFor = 'nothingtosearchfor';\n        fetch('/api/search', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                signal: this.abortController.signal,\n                searchFor: searchFor\n            })\n        }).then(res => res.json())\n        .then(ads => this.setState({ads: ads, numPages: Math.floor(ads.length/this.state.adsPerPage + 0.99)}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    onSearchChange = (searchFor) => {\n        this.setState({searchFor}, () => this.search());\n    }\n\n    paginationButtonClick = (e) => {\n        function subStrBeforeChars(str, char) {\n            return str.substring(0, str.indexOf(char));\n        }\n        let location;\n        if(window.location.href.includes('=')) {location = subStrBeforeChars(window.location.href, '=');}\n        else{location = window.location.href;}\n        let newpage = 1;\n        switch(e.target.id) {\n            case 'first':\n                this.setState({page: 1});\n                //window.history.replaceState(null, \"\", location + '?1');\n                window.history.replaceState(null, \"\", location + '=1');\n                break;\n            case 'previous':\n                this.state.page > 1 ? newpage = this.state.page-1 : newpage = 1;\n                this.setState({page: newpage});\n                //window.history.replaceState(null, \"\", location + '?' + newpage);\n                window.history.replaceState(null, \"\", location + '=' + newpage);\n                break;\n            case 'next':\n                this.state.page < this.state.numPages ? newpage = this.state.page+1 : newpage = this.state.numPages;\n                this.setState({page: newpage});\n                //window.history.replaceState(null, \"\", location + '?' + newpage);\n                window.history.replaceState(null, \"\", location + '=' + newpage);\n                break;\n            case 'last':\n                this.setState({page: this.state.numPages});\n                //window.history.replaceState(null, \"\", location + '?' + this.state.numPages);\n                window.history.replaceState(null, \"\", location + '=' + this.state.numPages);\n                break;\n            default:\n                return null;\n        }\n    }\n\n    toRender = (ads) => {\n\n        const imgStyle = {\n            width: \"100%\",\n            border: '2px solid white'\n        }\n    \n        const wrapper = {\n            display: \"grid\",\n            gridTemplateColumns: \"repeat(4, 1fr)\",\n            gridGap: \"100px 100px\",\n            maxWidth: \"100%\",\n            margin: \"50px 50px\"\n        }\n\n        let searchFor = this.state.searchFor;\n        if (ads.length === 0) {\n            return <div style={{display: \"flex\", maxWidth: \"90vw\", minHeight: '30vh', justifyContent: 'center'}}>\n                        <div><h2 style = {{color: 'white'}}>OPROSTITE, NIČESAR NISMO NAŠLI!</h2></div>\n                    </div>\n        }\n        else {\n            return <div>\n                        <p className = 'white-back'>Rezultati iskanja za: <b>{searchFor}</b></p>\n                        <div style={{maxWidth: '100%', justifyContent: 'center', minHeight:'80vh'}}>\n                            <div style={wrapper}>\n                                {ads.map((ad) => {\n                                    let category = Constants.categoryNames[ad.category]\n                                    let subcategory;\n                                    switch(category) {\n                                        case 'women':\n                                            subcategory = Constants.women[ad.subcategory].value;\n                                            break;\n                                        case 'men':\n                                            subcategory = Constants.men[ad.subcategory].value;\n                                            break;\n                                        case 'kids':\n                                            subcategory = Constants.kids[ad.subcategory].value;\n                                            break;\n                                        default:\n                                            subcategory = 0;\n                                    }\n                                    return (\n                                        <li key={ad.ad_id} style={{ listStyleType: \"none\" }}><NavLink exact to =\n                                        {'/listings/' + category + '/' + subcategory + '/item?' + ad.ad_id}>\n                                            <img src={'/api/' + ad.photo1_url} alt = {ad.ad_id + 'somephoto'} style={imgStyle}/>\n                                        </NavLink></li>)\n                \n                                    }\n                                )}\n                            </div>\n                        </div>\n                    </div>\n        }\n\n    }\n\n    render() {\n        const path = '/searchresults';\n\n        let numAds = this.state.ads.length;\n        let n = this.state.adsPerPage;\n        let p = this.state.page - 1;\n        let till;\n        p*n + n < numAds ? till = (p+1)*n : till = numAds;\n        let adsPortion = this.state.ads.slice(p*n, till);\n\n        return (\n                    <div className=\"App\">\n                        <UpperLine/>\n                         <Header/>\n                         <NavBar callBackParent = {this.onSearchChange}/>\n                         <BreadCrumbs pathname = {path}/>\n                            {this.toRender(adsPortion)}\n                        <div>\n                            <button id='first' className='btn_nopad' onClick={this.paginationButtonClick}>PRVA</button>\n                            <button id='previous' className='btn_nopad' onClick={this.paginationButtonClick}>&#60;&#60;</button>\n                            <button id='current' className='btn_nopad'>{this.state.page}/{this.state.numPages}</button>\n                            <button id='next' className='btn_nopad' onClick={this.paginationButtonClick}>&#62;&#62;</button>\n                            <button id='last' className='btn_nopad' onClick={this.paginationButtonClick}>ZADNJA</button>\n                        </div>\n                        <AdSpace/>\n                         <Bottom/>\n                     </div>\n        )\n    }\n\n}\n  \nexport default SearchResults;","import React from 'react';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport CategoryListings from './CategoryListings';\nimport NavBar from '../../components/NavBar';\n\n\nclass SellerListings extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            ads: [],\n            adsPerPage: 5,\n            numPages: 1,\n            page: 1 \n        };\n    }\n    \n    abortController = new AbortController();\n\tcomponentDidMount() {\n        function subStrAfterChars(str, char) {\n            return str.substring(str.indexOf(char) + 1);\n        }\n        function subStrBetweenChars(str, char1, char2) {\n            return str.substring(str.indexOf(char1) + 1, str.indexOf(char2));\n        }\n        let sellerId;\n        if(window.location.href.includes('=')) {\n            sellerId = subStrBetweenChars(window.location.href, '?', '=');\n            let page = parseInt(subStrAfterChars(window.location.href, '='));\n            this.setState({page});\n        }\n        else {\n            sellerId = subStrAfterChars(window.location.href, '?');\n        }\n        fetch('/api/allphotos', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                type: 2,\n                sellerId: sellerId\n            })\n        }).then(res => res.json())\n        .then(ads => this.setState({ads: ads, numPages: Math.floor(ads.length/this.state.adsPerPage + 0.99)}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    paginationButtonClick = (e) => {\n        function subStrBeforeChars(str, char) {\n            return str.substring(0, str.indexOf(char));\n        }\n        let location;\n        if(window.location.href.includes('=')) {location = subStrBeforeChars(window.location.href, '=');}\n        else{location = window.location.href;}\n        let newpage = 1;\n        switch(e.target.id) {\n            case 'first':\n                this.setState({page: 1});\n                window.history.replaceState(null, \"\", location + '=1');\n                break;\n            case 'previous':\n                this.state.page > 1 ? newpage = this.state.page-1 : newpage = 1;\n                this.setState({page: newpage});\n                window.history.replaceState(null, \"\", location + '=' + newpage);\n                break;\n            case 'next':\n                this.state.page < this.state.numPages ? newpage = this.state.page+1 : newpage = this.state.numPages;\n                this.setState({page: newpage});\n                window.history.replaceState(null, \"\", location + '=' + newpage);\n                break;\n            case 'last':\n                this.setState({page: this.state.numPages});\n                window.history.replaceState(null, \"\", location + '=' + this.state.numPages);\n                break;\n            default:\n                return null;\n        }\n    }\n\n    adsDiv = () => {\n        if (this.state.ads.length === 0) {\n            return (\n                <div style={{display: \"flex\", maxWidth: \"90vw\", minHeight: '30vh', justifyContent: 'center'}}>\n                    <div><h2 style = {{color: 'white'}}>OPROSTITE, TA UPORABNIK NIMA AKTIVNIH OGLASOV!</h2></div>\n                </div>\n            )\n        } else {\n            let numAds = this.state.ads.length;\n            let n = this.state.adsPerPage;\n            let p = this.state.page - 1;\n            let till;\n            p*n + n < numAds ? till = (p+1)*n : till = numAds;\n            let adsPortion = this.state.ads.slice(p*n, till);\n            return (\n                <div>\n                    <div style={{display: \"flex\", maxWidth: \"100vw\", paddingLeft: '5vw', paddingRight: '5vw'}}>\n                        <CategoryListings ads = {adsPortion}/>\n                    </div>\n                    <div>\n                        <button id='first' className='btn_nopad' onClick={this.paginationButtonClick}>PRVA</button>\n                        <button id='previous' className='btn_nopad' onClick={this.paginationButtonClick}>&#60;&#60;</button>\n                        <button id='current' className='btn_nopad'>{this.state.page}/{this.state.numPages}</button>\n                        <button id='next' className='btn_nopad' onClick={this.paginationButtonClick}>&#62;&#62;</button>\n                        <button id='last' className='btn_nopad' onClick={this.paginationButtonClick}>ZADNJA</button>\n                    </div>\n                </div>\n            )\n        }\n    }\n\n    render() {\n        return <div className=\"App\">\n                    <UpperLine/>\n                    <Header/>\n                    <NavBar/>\n                    <BreadCrumbs pathname = {this.props.location.pathname}/>\n                    {this.adsDiv()}\n                    <Bottom/>\n                </div>\n    }\n\n}\n\n\nexport default SellerListings;\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport UserListings from './pages/UserPage/UserListings';\nimport PastOrders from './pages/UserPage/PastOrders';\nimport Sold from './pages/UserPage/Sold';\nimport Wallet from './pages/UserPage/Wallet';\nimport Profile from './pages/UserPage/Profile';\nimport SignUpPage from './pages/SignUpPage';\nimport HomePage from './pages/HomePage';\nimport LogInPage from './pages/LogInPage';\nimport UploadPage from './pages/Publish/UploadPage';\nimport EditPage from './pages/Publish/EditPage';\nimport ItemPage from './pages/Listing/ItemPage';\nimport ShoppingCartPage from './pages/ShoppingCart/ShoppingCartPage';\nimport OrderPage from './pages/ShoppingCart/OrderPage';\nimport PaymentStatus from './pages/ShoppingCart/PaymentStatus';\nimport ListingsPage from './pages/Listings/ListingsPage';\nimport ChatPage from './pages/Chat/ChatPage';\nimport Conversation from './pages/Chat/Conversation';\nimport AllMessages from './pages/Chat/AllMessages';\nimport ForgotPassword from './pages/ForgotPassword';\nimport RequestConfirmEmail from './pages/RequestConfirmEmail';\nimport ContentSupport from './pages/Support/ContentSupport';\nimport TechnicalSupport from './pages/Support/TechnicalSupport';\nimport IDcard from './pages/Bottom/IDcard';\nimport Advertising from './pages/Bottom/Advertising';\nimport Cookies from './pages/Bottom/Cookies';\nimport Privacy from './pages/Bottom/Privacy';\nimport Buying from './pages/Bottom/Buying';\nimport Selling from './pages/Bottom/Selling';\nimport Posting from './pages/Bottom/Posting';\nimport Protection from './pages/Bottom/Protection';\nimport Commission from './pages/Bottom/Commission';\nimport SearchResults from './pages/Listings/SearchResults';\nimport SellerListings from './pages/Listings/SellerListings';\nimport * as Constants from './constants';\n\n\n\nclass App extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            loggedInUserId: 0,\n            loggedInUser: 'guest'\n\t\t};\n    }\n\n    makeWomanPaths = () => {\n        return Constants.women.map((category) => <Route exact path={'/listings/women/' + category.value} component={() => <ListingsPage\n            category = 'women'\n            subcategory = {category.value}/>} key = {category.value}/>)        \n    }\n\n    makeManPaths = () => {\n        return Constants.men.map((category) => <Route exact path={'/listings/men/' + category.value} component={() => <ListingsPage\n            category = 'men'\n            subcategory = {category.value}/>} key = {category.value}/>)    \n    }\n    makeKidPaths = () => {\n        return Constants.kids.map((category) => <Route exact path={'/listings/kids/' + category.value} component={() => <ListingsPage\n            category = 'kids'\n            subcategory = {category.value}/>} key = {category.value}/>)\n    }\n\n    makeWomanItemPaths = () => {\n        return Constants.women.map((category) => <Route exact path={'/listings/women/' + category.value + '/item'} component={ItemPage} key = {category.value}/>)        \n    }\n    makeManItemPaths = () => {\n        return Constants.men.map((category) => <Route exact path={'/listings/men/' + category.value + '/item'} component={ItemPage} key = {category.value}/>)        \n    }\n    makeKidItemPaths = () => {\n        return Constants.kids.map((category) => <Route exact path={'/listings/kids/' + category.value + '/item'} component={ItemPage} key = {category.value}/>)        \n    }\n    \n    render() {\n\n        return <Router>\n          <Switch>\n            <Route exact path=\"/\" component={HomePage} />\n            <Route exact path=\"/user_listings\" component={UserListings} />\n            <Route exact path=\"/user_pastorders\" component={PastOrders} />\n            <Route exact path=\"/user_sold\" component={Sold} />\n            <Route exact path=\"/user_wallet\" component={Wallet} />\n            <Route exact path=\"/user_profile\" component={Profile} />\n            <Route exact path=\"/signUp_page\" component={SignUpPage} />\n            <Route exact path=\"/logIn_page\" component={LogInPage} />\n            <Route exact path=\"/upload\" component={UploadPage} />\n            <Route exact path=\"/edit\" component={EditPage} />\n            <Route exact path=\"/listings?1\" component={() => <ListingsPage\n                                                                category = '0'\n                                                                subcategory = '0'/>} />\n                <Route exact path=\"/listings/women\" component={() => <ListingsPage\n                                                                        category = 'women'\n                                                                        subcategory = '0'/>} />\n                <Route exact path=\"/listings/men\" component={() => <ListingsPage\n                                                                        category = 'men'\n                                                                        subcategory = '0'/>} />\n                <Route exact path=\"/listings/kids\" component={() => <ListingsPage\n                                                                        category = 'kids'\n                                                                        subcategory = '0'/>} />\n                {this.makeWomanPaths()}\n                {this.makeManPaths()}\n                {this.makeKidPaths()}\n                {this.makeWomanItemPaths()}\n                {this.makeManItemPaths()}\n                {this.makeKidItemPaths()}\n            <Route exact path=\"/item\" component={ItemPage} />\n            <Route exact path=\"/sellerlistings\" component={SellerListings} />\n            <Route exact path=\"/shoppingcart\" component={ShoppingCartPage} />\n            <Route exact path=\"/shoppingcart/placeorder\" component={OrderPage} />\n            <Route exact path=\"/chatpage\" component={ChatPage} />\n            <Route exact path=\"/chatpage/conversation\" component={Conversation} />\n            <Route exact path=\"/chatpage/conversation/all\" component={AllMessages} />\n            <Route exact path=\"/forgotpassword\" component={ForgotPassword} />\n            <Route exact path=\"/requestconfirmemail\" component={RequestConfirmEmail} />\n            <Route exact path=\"/contentsupport\" component={ContentSupport} />\n            <Route exact path=\"/technicalsupport\" component={TechnicalSupport} />\n            <Route exact path=\"/idcard\" component={IDcard} />\n            <Route exact path=\"/advertising\" component={Advertising} />\n            <Route exact path=\"/cookies\" component={Cookies} />\n            <Route exact path=\"/privacy\" component={Privacy} />\n            <Route exact path=\"/buying\" component={Buying} />\n            <Route exact path=\"/selling\" component={Selling} />\n            <Route exact path=\"/posting\" component={Posting} />\n            <Route exact path=\"/protection\" component={Protection} />\n            <Route exact path=\"/commission\" component={Commission} />\n            <Route exact path=\"/searchresults\" component={SearchResults} />\n            <Route exact path=\"/paymentstatus\" component={PaymentStatus} />\n\n            <Redirect to=\"/404\" />\n          </Switch>\n        </Router>\n      }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        loggedInUser: state.loggedInUser,\n        loggedInUserId: state.loggedInUserId,\n    };\n  };\n\n\nexport default connect(mapStateToProps) (App);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport App from './App.jsx';\nimport CookieConsent from \"react-cookie-consent\";\n\n\nReactDOM.render(\n    <Provider store={store}>\n            <App />\n            <CookieConsent\n                location=\"bottom\"\n                buttonText=\"STRINJAM SE\"\n                cookieName=\"basiccookies\"\n                style={{ background: \"#2B373B\" }}\n                buttonStyle={{ color: \"#4e503b\", fontSize: \"13px\" }}\n                expires={150}\n                overlay>\n                Spletna stran uporablja osnovne piškotke za nemoteno delovanje.\n                Več o piškotkih si lahko preberete <a href = '/privacy' target='_blank' style = {{color: 'white'}}>tukaj</a>.\n            </CookieConsent>\n    </Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/novomoden.446e65ba.png\";"],"sourceRoot":""}
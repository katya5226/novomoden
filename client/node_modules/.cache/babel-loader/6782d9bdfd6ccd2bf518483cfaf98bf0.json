{"ast":null,"code":"import _classCallCheck from\"/home/katni/APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/katni/APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/katni/APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/katni/APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import UpperLine from'../../components/UpperLine';import NavBar from'../../components/NavBar';import AdSpace from'../../components/AdSpace';import Header from'../../components/Header';import Bottom from'../../components/Bottom';import BreadCrumbs from'../../components/BreadCrumbs';import'../../App.css';var TechnicalSupport=/*#__PURE__*/function(_React$Component){_inherits(TechnicalSupport,_React$Component);var _super=_createSuper(TechnicalSupport);function TechnicalSupport(props){var _this;_classCallCheck(this,TechnicalSupport);_this=_super.call(this,props);_this.abortController=new AbortController();_this.updateMsg=function(event){var value=event.target.value;_this.setState({msg:value});};_this.onClickSend=function(){console.log(_this.props.loggedInUserId);fetch('/api/techsupportroutes',{signal:_this.abortController.signal,method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify({typect:'technical',userId:_this.props.loggedInUserId,msg:_this.state.msg})}).then(function(res){return res.json();}).then(function(res){return res.success&&_this.setState({success:true});}).catch(function(e){return console.error(\"Critical failure: \"+e.message);});};_this.state={msg:'',success:false};return _this;}_createClass(TechnicalSupport,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.abortController.abort();}},{key:\"render\",value:function render(){console.log(this.props.location.pathname);var userId=this.props.loggedInUserId;var success=this.state.success;if(userId===0&&!success){return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(UpperLine,null),/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(NavBar,null),/*#__PURE__*/React.createElement(BreadCrumbs,{pathname:this.props.location.pathname}),/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:'rgb(255,255,255,0.5)'}},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h2\",null,\"PROSIMO, DA SE PRED ODDAJO VPRA\\u0160ANJA PRIJAVITE.\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(AdSpace,null),/*#__PURE__*/React.createElement(Bottom,null));}else if(success){return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(UpperLine,null),/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(NavBar,null),/*#__PURE__*/React.createElement(BreadCrumbs,{pathname:this.props.location.pathname}),/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:'rgb(255,255,255,0.5)'}},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h2\",null,\"HVALA ZA ODDANO VPRA\\u0160ANJE. ODGOVORILI VAM BOMO PO E-PO\\u0160TI V NAJKRAJ\\u0160EM MO\\u017DNEM \\u010CASU.\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(AdSpace,null),/*#__PURE__*/React.createElement(Bottom,null));}else return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(UpperLine,null),/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(NavBar,null),/*#__PURE__*/React.createElement(BreadCrumbs,{pathname:this.props.location.pathname}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:'rgb(255,255,255,0.5)'}},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h2\",null,\"KAKO VAM LAHKO POMAGAMO?\"),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"textarea\",{style:{width:'60vw',minHeight:'10px'},onChange:this.updateMsg,value:this.state.msg,placeholder:\"Novo sporo\\u010Dilo\",maxLength:\"990\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"btn\",style:{border:'2px solid #ccc'},onClick:this.onClickSend},\"SEND\")),/*#__PURE__*/React.createElement(AdSpace,null),/*#__PURE__*/React.createElement(Bottom,null));}}]);return TechnicalSupport;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{loggedInUser:state.loggedInUser,loggedInUserId:state.loggedInUserId};};export default connect(mapStateToProps)(TechnicalSupport);","map":{"version":3,"sources":["/home/katni/APP/client/src/pages/Support/TechnicalSupport.jsx"],"names":["React","connect","UpperLine","NavBar","AdSpace","Header","Bottom","BreadCrumbs","TechnicalSupport","props","abortController","AbortController","updateMsg","event","value","target","setState","msg","onClickSend","console","log","loggedInUserId","fetch","signal","method","headers","body","JSON","stringify","typect","userId","state","then","res","json","success","catch","e","error","message","abort","location","pathname","backgroundColor","width","minHeight","border","Component","mapStateToProps","loggedInUser"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport UpperLine from '../../components/UpperLine';\nimport NavBar from '../../components/NavBar';\nimport AdSpace from '../../components/AdSpace';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport '../../App.css';\n\n\n\nclass TechnicalSupport extends React.Component {\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            msg: '',\n            success: false\n\t\t};\n    }\n\n    abortController = new AbortController();\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    updateMsg = (event) => {\n        const {value} = event.target;\n        this.setState({msg: value});\n    }\n\n    onClickSend = () => {\n        console.log(this.props.loggedInUserId);\n        fetch('/api/techsupportroutes', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                typect: 'technical',\n                userId: this.props.loggedInUserId,\n                msg: this.state.msg\n            })\n        }).then(res => res.json())\n        .then(res => res.success && this.setState({success: true}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    render() {\n        console.log(this.props.location.pathname);\n\n        let userId = this.props.loggedInUserId;\n        let success = this.state.success;\n\n        if(userId === 0 && !success) {\n            return (\n            <div className=\"App\">\n                <UpperLine/>\n                <Header/>\n                <NavBar/>\n                <BreadCrumbs pathname = {this.props.location.pathname}/>\n                <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                        <br/><br/><br/>\n                        <h2>PROSIMO, DA SE PRED ODDAJO VPRAŠANJA PRIJAVITE.</h2>\n                        <br/><br/><br/>\n                    </div>\n                <AdSpace/>\n            <Bottom/>\n        </div>)\n        }\n        else if(success) {\n            return (\n                <div className=\"App\">\n                    <UpperLine/>\n                    <Header/>\n                    <NavBar/>\n                    <BreadCrumbs pathname = {this.props.location.pathname}/>\n                    <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                            <br/><br/><br/>\n                            <h2>HVALA ZA ODDANO VPRAŠANJE. ODGOVORILI VAM BOMO PO E-POŠTI V NAJKRAJŠEM MOŽNEM ČASU.</h2>\n                            <br/><br/><br/>\n                    </div>\n                    <AdSpace/>\n                <Bottom/>\n            </div>)\n        }\n        else\n        return (\n            <div className=\"App\">\n                <UpperLine/>\n                <Header/>\n                <NavBar/>\n                <BreadCrumbs pathname = {this.props.location.pathname}/>\n                <div>\n                    <br/>\n                    <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                        <br/>\n                        <h2>KAKO VAM LAHKO POMAGAMO?</h2>\n                        <br/>\n                    </div>\n                    <br/><br/>\n                    <textarea\n                        style={{width: '60vw', minHeight: '10px'}}\n                        onChange={this.updateMsg}\n                        value={this.state.msg}\n                        placeholder=\"Novo sporočilo\"\n                        maxLength=\"990\">\n                    </textarea>\n                    <br/>\n                    <button className = 'btn' style = {{border: '2px solid #ccc'}} onClick = {this.onClickSend}>SEND</button>\n                </div>\n                <AdSpace/>\n                <Bottom/>\n            </div>\n        );\n\n  }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        loggedInUser: state.loggedInUser,\n        loggedInUserId: state.loggedInUserId,\n    };\n};\n  \nexport default connect(mapStateToProps) (TechnicalSupport);"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"/home/katni/REACT/test-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/katni/REACT/test-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/katni/REACT/test-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/katni/REACT/test-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Popup from'reactjs-popup';import{FaRegWindowClose}from'react-icons/fa';import ItemDescription from'./ItemDescription';import*as Constants from'../../constants';import'../../App.css';var Item=/*#__PURE__*/function(_React$Component){_inherits(Item,_React$Component);var _super=_createSuper(Item);function Item(props){var _this;_classCallCheck(this,Item);_this=_super.call(this,props);_this.abortController=new AbortController();_this.fillTheForm=function(receivedObject){var receivedValues=Object.values(receivedObject);_this.setState({adId:_this.props.adId,status:receivedValues[16],seller:receivedValues[12],sellerId:receivedValues[17],photos:[receivedValues[9],receivedValues[10],receivedValues[11]],origPhotos:[receivedValues[13],receivedValues[14],receivedValues[15]],selection:{category:Constants.category[receivedValues[0]],women:Constants.women[receivedValues[1]],men:Constants.men[receivedValues[1]],kids:Constants.kids[receivedValues[1]],clothsize:Constants.clothsize[receivedValues[2]],material:Constants.material[receivedValues[3]],condition:Constants.condition[receivedValues[4]],brand:{value:receivedValues[5],status:true},descrtext:{value:receivedValues[6],status:true},weight:{value:receivedValues[7],status:true},price:{value:receivedValues[8],status:true}}});};_this.closeModal=function(){_this.setState({focused:-1});};_this.state={adId:'',status:'',seller:'',sellerId:'',photos:[],origPhotos:[],selection:{category:{value:'',label:'Izberi kategorijo'},women:{value:'',label:'Izberi kategorijo'},men:{value:'',label:'izberi kategorijo'},kids:{value:'',label:'Izberi kategorijo'},clothsize:{value:'',label:'Izberi velikost'},material:{value:'',label:'Izberi material'},condition:{value:'',label:'Izberi stanje'},brand:{value:'',status:false},descrtext:{value:'',status:false},weight:{value:0,status:false},price:{value:0,status:false}},focused:-1};return _this;}_createClass(Item,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.abortController.abort();}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(this.props.adId!==''){fetch('/fillform',{signal:this.abortController.signal,method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify({adId:this.props.adId})}).then(function(res){return res.json();}).then(function(res){_this2.fillTheForm(res[0]);}).catch(function(e){return console.error(\"Critical failure: \"+e.message);});}}//<Slider useImages = 'true' slides={['image-1', 'image-2', 'image-3']} adId = {this.props.adId} photos = {this.state.photos} origPhotos = {this.state.origPhotos}/>\n},{key:\"render\",value:function render(){var _this3=this;var iconStyle={position:'absolute',border:'none',backgroundColor:'rgb(255, 255, 255, 0)',verticalAlign:'middle'};if(this.state.photos.length===0)return/*#__PURE__*/React.createElement(\"div\",null);if(this.state.focused!==-1){return/*#__PURE__*/React.createElement(Popup,{open:true,position:\"center center\",onClose:this.closeModal},/*#__PURE__*/React.createElement(\"div\",{style:{height:\"99vh\"}},/*#__PURE__*/React.createElement(\"img\",{src:'/'+this.state.origPhotos[this.state.focused],alt:this.state.origPhotos[this.state.focused]+'_photo',style:{maxWidth:'100%',height:'100%',margin:'0 auto'}}),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",style:iconStyle,onClick:this.closeModal},/*#__PURE__*/React.createElement(FaRegWindowClose,{size:\"2em\"}))));}else return/*#__PURE__*/React.createElement(\"div\",{className:\"itemDesc\"},/*#__PURE__*/React.createElement(\"div\",{className:\"imgSlider\"},/*#__PURE__*/React.createElement(\"img\",{src:'/'+this.state.origPhotos[0],alt:this.state.origPhotos[0]+'_photo',onClick:function onClick(){return _this3.setState({focused:0});}}),/*#__PURE__*/React.createElement(\"img\",{src:'/'+this.state.origPhotos[1],alt:this.state.origPhotos[1]+'_photo',onClick:function onClick(){return _this3.setState({focused:1});}}),/*#__PURE__*/React.createElement(\"img\",{src:'/'+this.state.origPhotos[2],alt:this.state.origPhotos[2]+'_photo',onClick:function onClick(){return _this3.setState({focused:2});}})),/*#__PURE__*/React.createElement(ItemDescription,{selection:this.state.selection,seller:this.state.seller,sellerId:this.state.sellerId,adId:this.props.adId,status:this.state.status,itemAdded:this.props.itemAdded}));}}]);return Item;}(React.Component);export default Item;","map":{"version":3,"sources":["/home/katni/REACT/test-app/src/pages/Listing/Item.jsx"],"names":["React","Popup","FaRegWindowClose","ItemDescription","Constants","Item","props","abortController","AbortController","fillTheForm","receivedObject","receivedValues","Object","values","setState","adId","status","seller","sellerId","photos","origPhotos","selection","category","women","men","kids","clothsize","material","condition","brand","value","descrtext","weight","price","closeModal","focused","state","label","abort","fetch","signal","method","headers","body","JSON","stringify","then","res","json","catch","e","console","error","message","iconStyle","position","border","backgroundColor","verticalAlign","length","height","maxWidth","margin","itemAdded","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Popup from 'reactjs-popup';\nimport { FaRegWindowClose } from 'react-icons/fa';\nimport ItemDescription from './ItemDescription';\nimport * as Constants from '../../constants';\nimport '../../App.css';\n\nclass Item extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            adId: '',\n            status: '',\n            seller: '',\n            sellerId: '',\n            photos: [],\n            origPhotos: [],\n            selection: {\n                category: { value: '', label: 'Izberi kategorijo' },\n                women: { value: '', label: 'Izberi kategorijo' },\n                men: { value: '', label: 'izberi kategorijo' },\n                kids: { value: '', label: 'Izberi kategorijo' },\n                clothsize: { value: '', label: 'Izberi velikost' },\n                material: { value: '', label: 'Izberi material' },\n                condition: { value: '', label: 'Izberi stanje' },\n                brand: {value: '', status: false},\n                descrtext: {value: '', status: false},\n                weight: {value: 0, status: false},\n                price: {value: 0, status: false}\n            },\n            focused: -1\n        };\n\n    }\n    abortController = new AbortController();\n    \n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    fillTheForm = (receivedObject) => {\n\n        const receivedValues = Object.values(receivedObject);\n        \n        this.setState({\n            adId: this.props.adId,\n            status: receivedValues[16],\n            seller: receivedValues[12],\n            sellerId: receivedValues[17],\n            photos: [receivedValues[9], receivedValues[10], receivedValues[11]],\n            origPhotos: [receivedValues[13], receivedValues[14], receivedValues[15]],\n            selection: {\n                category: Constants.category[receivedValues[0]],\n                women: Constants.women[receivedValues[1]],\n                men: Constants.men[receivedValues[1]],\n                kids: Constants.kids[receivedValues[1]],\n                clothsize: Constants.clothsize[receivedValues[2]],\n                material: Constants.material[receivedValues[3]],\n                condition: Constants.condition[receivedValues[4]],\n                brand: {value: receivedValues[5], status: true},\n                descrtext: {value: receivedValues[6], status: true},\n                weight: {value: receivedValues[7], status: true},\n                price: {value: receivedValues[8], status: true}\n            }\n        });\n\n    }\n\n    componentDidMount() {\n\n        if(this.props.adId !== '') {\n            fetch('/fillform', {\n                signal: this.abortController.signal,\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json'\n                },\n                body: JSON.stringify({adId: this.props.adId})\n            }).then(res => res.json())\n                .then(res => {this.fillTheForm(res[0])})\n                .catch(e => console.error(\"Critical failure: \" + e.message));\n        }\n    }\n    //<Slider useImages = 'true' slides={['image-1', 'image-2', 'image-3']} adId = {this.props.adId} photos = {this.state.photos} origPhotos = {this.state.origPhotos}/>\n\n    closeModal = () => {\n        this.setState({focused: -1});\n    }\n\n    render() {\n\n        const iconStyle = {\n            position: 'absolute',\n            border: 'none',\n            backgroundColor: 'rgb(255, 255, 255, 0)',\n            verticalAlign: 'middle'\n        }\n\n        if (this.state.photos.length === 0) return <div></div>\n        if(this.state.focused !== -1) {\n            return (\n                <Popup open = {true}\n                    position = 'center center'\n                    onClose={this.closeModal}>\n                    <div style = {{height:\"99vh\"}}>\n                        <img src = {'/' + this.state.origPhotos[this.state.focused]}\n                            alt = {this.state.origPhotos[this.state.focused] + '_photo'}\n                            style = {{maxWidth: '100%', height:'100%', margin: '0 auto'}}/>\n                        <button type = 'button' style = {iconStyle} onClick = {this.closeModal}>\n                            <FaRegWindowClose size = '2em'/>\n                        </button>\n                    </div>\n                </Popup>\n            )\n        }       \n        else return(\n            <div className=\"itemDesc\">\n                <div className = 'imgSlider'>\n                    <img src={'/' + this.state.origPhotos[0]}\n                        alt = {this.state.origPhotos[0] + '_photo'}\n                        onClick={() => this.setState({focused: 0})}/>\n                    <img src={'/' + this.state.origPhotos[1]}\n                        alt = {this.state.origPhotos[1] + '_photo'}\n                        onClick={() => this.setState({focused: 1})}/>\n                    <img src={'/' + this.state.origPhotos[2]}\n                        alt = {this.state.origPhotos[2] + '_photo'}\n                        onClick={() => this.setState({focused: 2})}/>\n                </div>\n                <ItemDescription selection = {this.state.selection}\n                                seller = {this.state.seller}\n                                sellerId = {this.state.sellerId}\n                                adId = {this.props.adId}\n                                status = {this.state.status}\n                                itemAdded = {this.props.itemAdded}/>\n            </div>\n        )\n    }\n}\n\nexport default Item;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/katja/REACT/test-app/src/pages/SignUpPage.jsx\";\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport ClipLoader from 'react-spinners/ClipLoader';\nimport SignUpForm from '../components/SignUpForm';\nimport Header from '../components/Header';\nimport UpperLine from '../components/UpperLine';\nimport BreadCrumbs from '../components/BreadCrumbs';\nimport NavBar from '../components/NavBar';\nimport Bottom from '../components/Bottom';\nimport AdSpace from '../components/AdSpace';\nimport '../App.css';\n\nclass SignUpPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.abortController = new AbortController();\n\n    this.handleClickSignUp = e => {\n      e.preventDefault(); // if(this.state.firstName !== '' &&\n      // this.state.lastName !== '' &&\n      // this.state.street !== '' &&\n      // this.state.postNumber !== '' &&\n      // this.state.town !== '' &&\n      // this.state.region !== '' &&\n      // this.state.country !== '' &&\n      // this.state.day !== 0 &&\n      // this.state.month !== 0 &&\n      // this.state.year !== 0 &&\n      // this.state.nationality !== '' &&\n      // this.state.phoneNumber !== '' &&\n      // this.state.email !== '' &&\n      // this.state.password !== '' &&\n      // this.state.warning === '')\n\n      function toTimestamp(year, month, day) {\n        var datum = new Date(Date.UTC(year, month - 1, day, 1, 0, 0)); //later change this for different timezones\n\n        return datum.getTime() / 1000;\n      }\n\n      this.setState({\n        loading: true,\n        saveAttempt: true\n      });\n\n      if (this.state.firstName !== '' && this.state.lastName !== '' && this.state.street !== '' && this.state.postNumber !== '' && this.state.town !== '' && this.state.region !== '' && this.state.country !== '' && this.state.day !== 0 && this.state.month !== 0 && this.state.year !== 0 && this.state.nationality !== '' && this.state.phoneNumber !== '' && this.state.email !== '' && this.state.password !== '' && this.state.warning === '') {\n        fetch('/signuproutes', {\n          signal: this.abortController.signal,\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n          },\n          body: JSON.stringify({\n            enjoyer: {\n              firstName: this.state.firstName,\n              lastName: this.state.lastName,\n              street: this.state.street,\n              postNumber: this.state.postNumber,\n              town: this.state.town,\n              region: this.state.region,\n              country: this.state.country,\n              birthday: toTimestamp(this.state.year, this.state.month, this.state.day),\n              nationality: this.state.nationality,\n              phoneNumber: this.state.phoneNumber,\n              email: this.state.email,\n              password: this.state.password,\n              iban: this.state.iban,\n              bic: this.state.bic\n            }\n          })\n        }).then(res => res.json()).then(result => this.setState({\n          signUpText: result.signUpSuccess.text,\n          registrationSuccess: result.signUpSuccess.code,\n          loading: false\n        }));\n      } else {\n        this.setState(state => ({ ...state,\n          signUpText: 'Napaka pri vnosu, preverite podatke!',\n          loading: false\n        }));\n      }\n    };\n\n    this.changePhoneNumber = values => {\n      const {\n        value\n      } = values;\n      this.setState({\n        phoneNumber: value\n      });\n    };\n\n    this.changePostNumber = values => {\n      const {\n        value\n      } = values;\n      this.setState({\n        postNumber: value\n      });\n    };\n\n    this.changeBirthday = values => {\n      const {\n        value\n      } = values;\n      this.setState({\n        birthday: value\n      });\n    };\n\n    this.state = {\n      loggedInUserId: 0,\n      firstName: '',\n      lastName: '',\n      street: '',\n      postNumber: '',\n      town: '',\n      region: '',\n      country: '',\n      day: 0,\n      month: 0,\n      year: 0,\n      nationality: '',\n      phoneNumber: '',\n      email: '',\n      password: '',\n      iban: '',\n      bic: '',\n      signUpText: '',\n      warning: '',\n      loading: false,\n      saveAttempt: false,\n      registrationSuccess: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClickSignUp = this.handleClickSignUp.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      loggedInUserId: this.props.loggedInUserId\n    });\n    console.log(this.state.loggedInUserId);\n  }\n\n  componentWillUnmount() {\n    this.abortController.abort();\n  }\n\n  checkPassStrength(pass) {\n    const mediumRegex = new RegExp(\"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{8,})\");\n    return mediumRegex.test(pass);\n  }\n\n  handleChange(event) {\n    if (event.target.name === 'password') {\n      if (!this.checkPassStrength(event.target.value)) {\n        this.setState({\n          warning: 'Geslo mora biti dolgo vsaj 8 znakov in mora vsebovati vsaj dva od naslednjih znakov: mala črka, velika črka, številka.'\n        });\n      } else {\n        this.setState({\n          warning: ''\n        });\n      }\n    }\n\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  //Registracija uspešna! Preveri svoj poštni nabiralnik.\n  render() {\n    let loggedInId = Number(this.state.loggedInUserId);\n\n    if (loggedInId) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          color: 'white'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 25\n        }\n      }, loggedInId), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          backgroundColor: 'white'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 25\n        }\n      }, \"STE \\u017DE PRIJAVLJENI V SISTEM!\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(NavLink, {\n        exact: true,\n        to: \"/\",\n        style: {\n          color: 'white'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 25\n        }\n      }, \"DOMOV\"));\n    } else if (this.state.registrationSuccess) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"h2\", {\n        style: {\n          backgroundColor: 'white'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 25\n        }\n      }, \"REGISTRACIJA USPE\\u0160NA! PREVERITE SVOJ PO\\u0160TNI NABIRALNIK.\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 25\n        }\n      }));\n    } else return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(UpperLine, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(NavBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(BreadCrumbs, {\n      pathname: this.props.location.pathname,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"SignUp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 21\n      }\n    }, \"DOBRODO\\u0160LI!\"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 21\n      }\n    }, \"Nekaj napotkov:\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 21\n      }\n    }, \"\\\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\\\"\"), /*#__PURE__*/React.createElement(SignUpForm, {\n      saveAttempt: this.state.saveAttempt,\n      firstName: this.state.firstName,\n      lastName: this.state.lastName,\n      email: this.state.email,\n      street: this.state.street,\n      postNumber: this.state.postNumber,\n      town: this.state.town,\n      region: this.state.region,\n      country: this.state.country,\n      nationality: this.state.nationality,\n      day: this.state.day,\n      month: this.state.month,\n      year: this.state.year,\n      phoneNumber: this.state.phoneNumber,\n      password: this.state.password,\n      iban: this.state.iban,\n      bic: this.state.bic,\n      handleChange: this.handleChange,\n      changePhoneNumber: this.changePhoneNumber,\n      changePostNumber: this.changePostNumber,\n      changeBirthday: this.changeBirthday,\n      handleClickSignUp: this.handleClickSignUp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        backgroundColor: 'rgb(255, 255, 255, 0.8)'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: 'red',\n        lineHeight: '40px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 25\n      }\n    }, this.state.warning), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: 'black',\n        lineHeight: '40px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 25\n      }\n    }, this.state.signUpText)), this.state.signUpText.code === 1 && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 58\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 25\n      }\n    }, \"Niste prejeli e-sporo\\u010Dila? \", /*#__PURE__*/React.createElement(NavLink, {\n      to: \"/requestconfirmemail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 55\n      }\n    }, \"Ponovno po\\u0161lji\"), \" \")), /*#__PURE__*/React.createElement(ClipLoader, {\n      size: 50,\n      color: 'white',\n      loading: this.state.loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(AdSpace, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Bottom, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    loggedInUser: state.loggedInUser,\n    loggedInUserId: state.loggedInUserId\n  };\n};\n\nexport default connect(mapStateToProps)(SignUpPage);","map":{"version":3,"sources":["/home/katja/REACT/test-app/src/pages/SignUpPage.jsx"],"names":["React","NavLink","connect","ClipLoader","SignUpForm","Header","UpperLine","BreadCrumbs","NavBar","Bottom","AdSpace","SignUpPage","Component","constructor","props","abortController","AbortController","handleClickSignUp","e","preventDefault","toTimestamp","year","month","day","datum","Date","UTC","getTime","setState","loading","saveAttempt","state","firstName","lastName","street","postNumber","town","region","country","nationality","phoneNumber","email","password","warning","fetch","signal","method","headers","body","JSON","stringify","enjoyer","birthday","iban","bic","then","res","json","result","signUpText","signUpSuccess","text","registrationSuccess","code","changePhoneNumber","values","value","changePostNumber","changeBirthday","loggedInUserId","handleChange","bind","componentDidMount","console","log","componentWillUnmount","abort","checkPassStrength","pass","mediumRegex","RegExp","test","event","target","name","render","loggedInId","Number","color","backgroundColor","textAlign","location","pathname","lineHeight","mapStateToProps","loggedInUser"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport ClipLoader from 'react-spinners/ClipLoader';\nimport SignUpForm from '../components/SignUpForm';\nimport Header from '../components/Header';\nimport UpperLine from '../components/UpperLine';\nimport BreadCrumbs from '../components/BreadCrumbs';\nimport NavBar from '../components/NavBar';\nimport Bottom from '../components/Bottom';\nimport AdSpace from '../components/AdSpace';\nimport '../App.css';\n\nclass SignUpPage extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            loggedInUserId: 0,\n\t\t\tfirstName: '',\n            lastName: '',\n            street: '',\n            postNumber: '',\n            town: '',\n            region: '',\n            country: '',\n            day: 0,\n            month: 0,\n            year: 0,\n            nationality: '',\n            phoneNumber: '',\n\t\t\temail: '',\n            password: '',\n            iban: '',\n            bic: '',\n            signUpText: '',\n            warning: '',\n            loading: false,\n            saveAttempt: false,\n            registrationSuccess: false\n\t\t};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.handleClickSignUp = this.handleClickSignUp.bind(this);\n    }\n\n    abortController = new AbortController();\n\n    componentDidMount() {\n        this.setState({loggedInUserId: this.props.loggedInUserId});\n        console.log(this.state.loggedInUserId);\n    }\n    \n    handleClickSignUp = (e) => {\n        e.preventDefault();\n\n        // if(this.state.firstName !== '' &&\n        // this.state.lastName !== '' &&\n        // this.state.street !== '' &&\n        // this.state.postNumber !== '' &&\n        // this.state.town !== '' &&\n        // this.state.region !== '' &&\n        // this.state.country !== '' &&\n        // this.state.day !== 0 &&\n        // this.state.month !== 0 &&\n        // this.state.year !== 0 &&\n        // this.state.nationality !== '' &&\n        // this.state.phoneNumber !== '' &&\n        // this.state.email !== '' &&\n        // this.state.password !== '' &&\n        // this.state.warning === '')\n\n        function toTimestamp(year,month,day){\n            var datum = new Date(Date.UTC(year,month-1,day, 1, 0, 0)); //later change this for different timezones\n            return datum.getTime()/1000;\n        }\n\n        this.setState({loading: true, saveAttempt: true});\n\t\tif(this.state.firstName !== '' &&\n            this.state.lastName !== '' &&\n            this.state.street !== '' &&\n            this.state.postNumber !== '' &&\n            this.state.town !== '' &&\n            this.state.region !== '' &&\n            this.state.country !== '' &&\n            this.state.day !== 0 &&\n            this.state.month !== 0 &&\n            this.state.year !== 0 &&\n            this.state.nationality !== '' &&\n            this.state.phoneNumber !== '' &&\n\t\t\tthis.state.email !== '' &&\n            this.state.password !== '' &&\n            this.state.warning === '') {\n\n\t\t\t\tfetch('/signuproutes', {\n                    signal: this.abortController.signal,\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t'Accept': 'application/json'\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\tenjoyer: {\n\t\t\t\t\t\t\tfirstName: this.state.firstName,\n                            lastName: this.state.lastName,\n                            street: this.state.street,\n                            postNumber: this.state.postNumber,\n                            town: this.state.town,\n                            region: this.state.region,\n                            country: this.state.country,\n                            birthday: toTimestamp(this.state.year, this.state.month, this.state.day),\n                            nationality: this.state.nationality,\n                            phoneNumber: this.state.phoneNumber,\n\t\t\t\t\t\t\temail: this.state.email,\n                            password: this.state.password,\n                            iban: this.state.iban,\n                            bic: this.state.bic\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}).then(res => res.json())\n\t\t\t\t\t.then(result => this.setState({signUpText: result.signUpSuccess.text, registrationSuccess: result.signUpSuccess.code, loading: false}));\n        }else {this.setState((state) => ({...state, signUpText: 'Napaka pri vnosu, preverite podatke!', loading: false}))}\n        \n    }\n \n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n    \n\n    checkPassStrength(pass) {\n        const mediumRegex = new RegExp(\"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{8,})\");\n        return mediumRegex.test(pass);\n    }\n\n\n    handleChange(event) {\n\n        if(event.target.name === 'password') {\n            if(!this.checkPassStrength(event.target.value)){\n                this.setState({\n                    warning: 'Geslo mora biti dolgo vsaj 8 znakov in mora vsebovati vsaj dva od naslednjih znakov: mala črka, velika črka, številka.'\n                });\n            } else {\n                this.setState({warning: ''});\n            }\n        }\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n\n    }\n    changePhoneNumber = (values) => {\n        const {value} = values;\n        this.setState({phoneNumber: value});\n    }\n    \n    changePostNumber = (values) => {\n        const {value} = values;\n        this.setState({postNumber: value});\n    }\n\n    changeBirthday = (values) => {\n        const {value} = values;\n        this.setState({birthday: value});\n    }\n\n    //Registracija uspešna! Preveri svoj poštni nabiralnik.\n\n    render() {\n\n        let loggedInId = Number(this.state.loggedInUserId);\n\n        if(loggedInId) {\n            return <div>\n                        <br/>\n                        <p style = {{color: 'white'}}>{loggedInId}</p>\n                        <p style = {{backgroundColor: 'white'}}>STE ŽE PRIJAVLJENI V SISTEM!</p>\n                        <br/>\n                        <NavLink exact to='/' style = {{color: 'white'}}>DOMOV</NavLink>\n                    </div>\n        }\n        else if(this.state.registrationSuccess) {\n            return <div style={{textAlign:'center'}}>\n                        <br/>\n                        <h2 style = {{backgroundColor: 'white'}}>REGISTRACIJA USPEŠNA! PREVERITE SVOJ POŠTNI NABIRALNIK.</h2>\n                        <br/>\n                    </div>\n        }\n        else return (\n            <>\n                <UpperLine/>\n                <Header/>\n                <NavBar/>\n                <BreadCrumbs pathname = {this.props.location.pathname}/>\n                <div className='SignUp'>\n                    <h1>DOBRODOŠLI!</h1>\n                    <h2>Nekaj napotkov:</h2>\n                    <p>\"Lorem ipsum dolor sit amet, \n                        consectetur adipiscing elit, \n                        sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \n                        Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris\n                        nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in\n                        reprehenderit in voluptate velit esse cillum dolore eu fugiat \n                        nulla pariatur. Excepteur sint occaecat cupidatat non proident, \n                        sunt in culpa qui officia deserunt mollit anim id est laborum.\"</p>\n                    <SignUpForm\n                        saveAttempt={this.state.saveAttempt}\n                        firstName={this.state.firstName}\n                        lastName={this.state.lastName}\n                        email={this.state.email}\n                        street={this.state.street}\n                        postNumber={this.state.postNumber}\n                        town={this.state.town}\n                        region={this.state.region}\n                        country={this.state.country}\n                        nationality={this.state.nationality}\n                        day={this.state.day}\n                        month={this.state.month}\n                        year={this.state.year}\n                        phoneNumber={this.state.phoneNumber}\n                        password={this.state.password}\n                        iban={this.state.iban}\n                        bic={this.state.bic}\n                        handleChange={this.handleChange}\n                        changePhoneNumber={this.changePhoneNumber}\n                        changePostNumber={this.changePostNumber}\n                        changeBirthday={this.changeBirthday}\n                        handleClickSignUp={this.handleClickSignUp}/>\n\n                    <div style = {{backgroundColor: 'rgb(255, 255, 255, 0.8)'}}>\n                        <p style = {{color: 'red', lineHeight: '40px'}}>{this.state.warning}</p>\n                        <p style = {{color: 'black', lineHeight: '40px'}}>{this.state.signUpText}</p>\n                    </div>\n                    {this.state.signUpText.code === 1 && <div>\n                        <p>Niste prejeli e-sporočila? <NavLink to = '/requestconfirmemail'>Ponovno pošlji</NavLink> </p>\n                    </div>}\n                    <ClipLoader\n                        size={50}\n                        color={'white'}\n                        loading={this.state.loading}\n                    />\n                </div>\n                <AdSpace/>\n                <Bottom/>\n            </>\n\n        );\n\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n  };\n\nexport default connect(mapStateToProps) (SignUpPage);"]},"metadata":{},"sourceType":"module"}
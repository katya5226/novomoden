{"ast":null,"code":"import _classCallCheck from\"/home/katni/APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/katni/APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/katni/APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/katni/APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/katni/APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{ReCaptcha}from'react-recaptcha-google';import{NavLink}from'react-router-dom';import{connect}from'react-redux';import{saveAtt}from'../../redux/actions';import Popup from'reactjs-popup';import'../../App.css';var ItemDescription=/*#__PURE__*/function(_React$Component){_inherits(ItemDescription,_React$Component);var _super=_createSuper(ItemDescription);function ItemDescription(props){var _this;_classCallCheck(this,ItemDescription);_this=_super.call(this,props);_this.addToCart=function(){if(_this.props.loggedInUserId!==0){//this.props.addToCart(this.props.adId);\nvar cart=JSON.parse(window.localStorage.getItem(_this.props.loggedInUserId));if(cart!==null){if(cart.includes(_this.props.adId)){_this.setState({addingResult:'IZDELEK JE ŽE V KOŠARICI!'});}else{cart.push(_this.props.adId);window.localStorage.setItem(_this.props.loggedInUserId,JSON.stringify(cart));_this.setState({addingResult:'IZDELEK DODAN V KOŠARICO!'});}}else{var initialCart=[];initialCart.push(_this.props.adId);window.localStorage.setItem(_this.props.loggedInUserId,JSON.stringify(initialCart));_this.setState({addingResult:'IZDELEK DODAN V KOŠARICO!'});}_this.props.itemAdded(1);}else{_this.setState({addingResult:'ZA DODAJANJE V KOŠARICO SE PRIJAVITE.'});}};_this.removeFromCart=function(){var cart=JSON.parse(window.localStorage.getItem(_this.props.loggedInUserId));if(cart!==null){cart.splice(cart.indexOf(_this.props.adId),1);window.localStorage.setItem(_this.props.loggedInUserId,JSON.stringify(cart));}//console.log('INDEX IN CART: ' + cart.indexOf(this.props.adId))\n};_this.showCart=function(){window.localStorage.clear();console.log(JSON.parse(window.localStorage.getItem(_this.props.loggedInUserId)));};_this.handleMsgRequest=function(){_this.setState({msgRequest:true});};_this.handleConfirm=function(){};_this.proceedToMsg=function(){console.log(\"SUBMITTED!\");_this.setState({msgRequest:false});};_this.descriptDiv=function(){var selection=_this.props.selection;var subcategory='';var categ=selection.category.value;switch(categ){case'women':subcategory=selection.women.label;break;case'men':subcategory=selection.men.label;break;case'kids':subcategory=selection.kids.label;break;default:subcategory='';break;}var btnContStyle={backgroundColor:'rgb(255,255,255,0)',border:'none',margin:0,padding:0,fontSize:'small',textDecoration:'underline',color:'grey',cursor:'pointer'};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,subcategory),categ!=='kids'&&/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Velikost: \"),selection.clothsize.label),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Material: \"),selection.material.label),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Stanje: \"),selection.condition.label),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Znamka: \"),selection.brand.value),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Opis: \"),selection.descrtext.value),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Cena: \"),selection.price.value,\" \\u20AC\"),_this.props.status==='active'&&_this.props.loggedInUserId!=='0'&&/*#__PURE__*/React.createElement(\"button\",{className:\"btnb\",onClick:_this.addToCart},\"DODAJ V KO\\u0160ARICO\"),/*#__PURE__*/React.createElement(\"p\",{style:{fontWeight:'bold'}},_this.state.addingResult),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",null,\"Prodajalec: \",_this.props.seller,\" \"),/*#__PURE__*/React.createElement(NavLink,{className:\"btnu\",exact:true,to:'/sellerlistings?'+_this.props.sellerId},\"Vsi oglasi tega prodajalca\"),_this.props.loggedInUserId!=='0'&&_this.props.loggedInUserId!==_this.props.sellerId&&/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:10}},/*#__PURE__*/React.createElement(\"button\",{style:btnContStyle,onClick:_this.handleMsgRequest},\"Kontaktiraj prodajalca\")));};_this.state={addingResult:'',msgRequest:false,buttonDisabled:true};_this.onLoadRecaptcha=_this.onLoadRecaptcha.bind(_assertThisInitialized(_this));_this.verifyCallback=_this.verifyCallback.bind(_assertThisInitialized(_this));return _this;}_createClass(ItemDescription,[{key:\"componentDidMount\",value:function componentDidMount(){var script=document.createElement(\"script\");script.src=\"https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit\";script.async=true;document.body.appendChild(script);if(this.captchaDemo){console.log(\"started, just a second...\");this.captchaDemo.reset();}}//TREBA JE UREDITI BRISANJE IZ LOCAL STOREGA; POTEM KO SE NAROČI IN/ALI PO POTEKU DOLOČENEGA ČASA\n},{key:\"onLoadRecaptcha\",value:function onLoadRecaptcha(){if(this.captchaDemo){this.captchaDemo.reset();}}},{key:\"verifyCallback\",value:function verifyCallback(recaptchaToken){if(recaptchaToken){this.setState({buttonDisabled:false});}}},{key:\"render\",value:function render(){var _this2=this;if(!this.state.msgRequest){return/*#__PURE__*/React.createElement(\"div\",{className:\"description\"},this.descriptDiv());}else return/*#__PURE__*/React.createElement(\"div\",{className:\"description\"},/*#__PURE__*/React.createElement(Popup,{open:true,position:\"center center\",onClose:this.closeModal},/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',justifyContent:'center',height:'90px',lineHeight:'90px'}},/*#__PURE__*/React.createElement(ReCaptcha,{ref:function ref(el){_this2.captchaDemo=el;},size:\"normal\",\"data-theme\":\"dark\",render:\"explicit\",sitekey:\"6LcVy-0UAAAAAA1SYgeXX6tUze_gLa6Tplcris-V\",onloadCallback:this.onLoadRecaptcha,verifyCallback:this.verifyCallback}),this.state.buttonDisabled&&/*#__PURE__*/React.createElement(\"span\",{style:{paddingLeft:'20px'}},\"NADALJUJ\"),!this.state.buttonDisabled&&/*#__PURE__*/React.createElement(NavLink,{style:{paddingLeft:'20px'},onClick:this.proceedToMsg,exact:true,to:'/chatpage/conversation?'+this.props.sellerId},\"NADALJUJ\"))),this.descriptDiv());}}]);return ItemDescription;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{loggedInUser:state.loggedInUser,loggedInUserId:state.loggedInUserId};};var mapDispatchToProps={saveAtt:saveAtt};export default connect(mapStateToProps,mapDispatchToProps)(ItemDescription);","map":{"version":3,"sources":["/home/katni/APP/client/src/pages/Listing/ItemDescription.jsx"],"names":["React","ReCaptcha","NavLink","connect","saveAtt","Popup","ItemDescription","props","addToCart","loggedInUserId","cart","JSON","parse","window","localStorage","getItem","includes","adId","setState","addingResult","push","setItem","stringify","initialCart","itemAdded","removeFromCart","splice","indexOf","showCart","clear","console","log","handleMsgRequest","msgRequest","handleConfirm","proceedToMsg","descriptDiv","selection","subcategory","categ","category","value","women","label","men","kids","btnContStyle","backgroundColor","border","margin","padding","fontSize","textDecoration","color","cursor","clothsize","material","condition","brand","descrtext","price","status","fontWeight","state","seller","sellerId","buttonDisabled","onLoadRecaptcha","bind","verifyCallback","script","document","createElement","src","async","body","appendChild","captchaDemo","reset","recaptchaToken","closeModal","display","justifyContent","height","lineHeight","el","paddingLeft","Component","mapStateToProps","loggedInUser","mapDispatchToProps"],"mappings":"isBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,wBAA1B,CACA,OAASC,OAAT,KAAwB,kBAAxB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,OAAT,KAAwB,qBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CACA,MAAO,eAAP,C,GAEMC,CAAAA,e,8HAEF,yBAAYC,KAAZ,CAAmB,iDACrB,uBAAMA,KAAN,EADqB,MAyBnBC,SAzBmB,CAyBP,UAAM,CACd,GAAG,MAAKD,KAAL,CAAWE,cAAX,GAA8B,CAAjC,CAAoC,CAChC;AACA,GAAIC,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAAKR,KAAL,CAAWE,cAAvC,CAAX,CAAX,CACA,GAAIC,IAAI,GAAK,IAAb,CAAmB,CACf,GAAGA,IAAI,CAACM,QAAL,CAAc,MAAKT,KAAL,CAAWU,IAAzB,CAAH,CAAmC,CAC/B,MAAKC,QAAL,CAAc,CAACC,YAAY,CAAE,2BAAf,CAAd,EACH,CAFD,IAEM,CACFT,IAAI,CAACU,IAAL,CAAU,MAAKb,KAAL,CAAWU,IAArB,EACAJ,MAAM,CAACC,YAAP,CAAoBO,OAApB,CAA4B,MAAKd,KAAL,CAAWE,cAAvC,CAAuDE,IAAI,CAACW,SAAL,CAAeZ,IAAf,CAAvD,EACA,MAAKQ,QAAL,CAAc,CAACC,YAAY,CAAE,2BAAf,CAAd,EACH,CACJ,CARD,IAQO,CACH,GAAII,CAAAA,WAAW,CAAG,EAAlB,CACAA,WAAW,CAACH,IAAZ,CAAiB,MAAKb,KAAL,CAAWU,IAA5B,EACAJ,MAAM,CAACC,YAAP,CAAoBO,OAApB,CAA4B,MAAKd,KAAL,CAAWE,cAAvC,CAAuDE,IAAI,CAACW,SAAL,CAAeC,WAAf,CAAvD,EACA,MAAKL,QAAL,CAAc,CAACC,YAAY,CAAE,2BAAf,CAAd,EACH,CACD,MAAKZ,KAAL,CAAWiB,SAAX,CAAqB,CAArB,EACH,CAlBD,IAkBK,CAAC,MAAKN,QAAL,CAAc,CAACC,YAAY,CAAE,uCAAf,CAAd,EAAwE,CACjF,CA7CkB,OA+CnBM,cA/CmB,CA+CF,UAAM,CACnB,GAAIf,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAAKR,KAAL,CAAWE,cAAvC,CAAX,CAAX,CACA,GAAIC,IAAI,GAAK,IAAb,CAAmB,CACfA,IAAI,CAACgB,MAAL,CAAYhB,IAAI,CAACiB,OAAL,CAAa,MAAKpB,KAAL,CAAWU,IAAxB,CAAZ,CAA2C,CAA3C,EACAJ,MAAM,CAACC,YAAP,CAAoBO,OAApB,CAA4B,MAAKd,KAAL,CAAWE,cAAvC,CAAuDE,IAAI,CAACW,SAAL,CAAeZ,IAAf,CAAvD,EACH,CACD;AACH,CAtDkB,OAwDnBkB,QAxDmB,CAwDR,UAAM,CACbf,MAAM,CAACC,YAAP,CAAoBe,KAApB,GACAC,OAAO,CAACC,GAAR,CAAYpB,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAAKR,KAAL,CAAWE,cAAvC,CAAX,CAAZ,EACH,CA3DkB,OA6DnBuB,gBA7DmB,CA6DA,UAAM,CACrB,MAAKd,QAAL,CAAc,CAACe,UAAU,CAAE,IAAb,CAAd,EACH,CA/DkB,OAiEnBC,aAjEmB,CAiEH,UAAM,CAErB,CAnEkB,OAgFnBC,YAhFmB,CAgFJ,UAAM,CACjBL,OAAO,CAACC,GAAR,CAAY,YAAZ,EACA,MAAKb,QAAL,CAAc,CAACe,UAAU,CAAE,KAAb,CAAd,EACH,CAnFkB,OAqFnBG,WArFmB,CAqFL,UAAM,CAChB,GAAMC,CAAAA,SAAS,CAAG,MAAK9B,KAAL,CAAW8B,SAA7B,CACA,GAAIC,CAAAA,WAAW,CAAG,EAAlB,CACA,GAAMC,CAAAA,KAAK,CAAGF,SAAS,CAACG,QAAV,CAAmBC,KAAjC,CAEA,OAAOF,KAAP,EACI,IAAK,OAAL,CACID,WAAW,CAAGD,SAAS,CAACK,KAAV,CAAgBC,KAA9B,CACA,MACJ,IAAK,KAAL,CACIL,WAAW,CAAGD,SAAS,CAACO,GAAV,CAAcD,KAA5B,CACA,MACJ,IAAK,MAAL,CACIL,WAAW,CAAGD,SAAS,CAACQ,IAAV,CAAeF,KAA7B,CACA,MACJ,QACIL,WAAW,CAAG,EAAd,CACA,MAZR,CAeA,GAAMQ,CAAAA,YAAY,CAAG,CACjBC,eAAe,CAAE,oBADA,CAEjBC,MAAM,CAAE,MAFS,CAGjBC,MAAM,CAAE,CAHS,CAIjBC,OAAO,CAAE,CAJQ,CAKjBC,QAAQ,CAAE,OALO,CAMjBC,cAAc,CAAE,WANC,CAOjBC,KAAK,CAAE,MAPU,CAQjBC,MAAM,CAAE,SARS,CAArB,CAWA,mBACI,4CACI,8BAAKhB,WAAL,CADJ,CAEKC,KAAK,GAAK,MAAV,eAAoB,0CAAG,0CAAH,CAAqBF,SAAS,CAACkB,SAAV,CAAoBZ,KAAzC,CAFzB,cAGI,0CAAG,0CAAH,CAAqBN,SAAS,CAACmB,QAAV,CAAmBb,KAAxC,CAHJ,cAII,0CAAG,wCAAH,CAAmBN,SAAS,CAACoB,SAAV,CAAoBd,KAAvC,CAJJ,cAKI,0CAAG,wCAAH,CAAmBN,SAAS,CAACqB,KAAV,CAAgBjB,KAAnC,CALJ,cAMI,0CAAG,sCAAH,CAAiBJ,SAAS,CAACsB,SAAV,CAAoBlB,KAArC,CANJ,cAOI,8BAPJ,cAQI,0CAAG,sCAAH,CAAiBJ,SAAS,CAACuB,KAAV,CAAgBnB,KAAjC,WARJ,CASM,MAAKlC,KAAL,CAAWsD,MAAX,GAAsB,QAAtB,EAAkC,MAAKtD,KAAL,CAAWE,cAAX,GAA8B,GAAjE,eAAyE,8BAAQ,SAAS,CAAG,MAApB,CAA2B,OAAO,CAAI,MAAKD,SAA3C,0BAT9E,cAUI,yBAAG,KAAK,CAAI,CAACsD,UAAU,CAAE,MAAb,CAAZ,EAAmC,MAAKC,KAAL,CAAW5C,YAA9C,CAVJ,cAWI,8BAXJ,cAYI,4CAAgB,MAAKZ,KAAL,CAAWyD,MAA3B,KAZJ,cAaI,oBAAC,OAAD,EAAS,SAAS,CAAC,MAAnB,CAA0B,KAAK,KAA/B,CAAgC,EAAE,CAAE,mBAAqB,MAAKzD,KAAL,CAAW0D,QAApE,+BAbJ,CAcM,MAAK1D,KAAL,CAAWE,cAAX,GAA8B,GAA9B,EAAqC,MAAKF,KAAL,CAAWE,cAAX,GAA8B,MAAKF,KAAL,CAAW0D,QAA/E,eAA4F,yBAAG,KAAK,CAAI,CAACd,QAAQ,CAAE,EAAX,CAAZ,eAC7F,8BAAQ,KAAK,CAAIL,YAAjB,CAA+B,OAAO,CAAI,MAAKd,gBAA/C,2BAD6F,CAdjG,CADJ,CAmBH,CAvIkB,CAErB,MAAK+B,KAAL,CAAa,CACH5C,YAAY,CAAE,EADX,CAEHc,UAAU,CAAE,KAFT,CAGHiC,cAAc,CAAE,IAHb,CAAb,CAKM,MAAKC,eAAL,CAAuB,MAAKA,eAAL,CAAqBC,IAArB,+BAAvB,CACA,MAAKC,cAAL,CAAsB,MAAKA,cAAL,CAAoBD,IAApB,+BAAtB,CARe,aASlB,C,yFAEmB,CAEhB,GAAME,CAAAA,MAAM,CAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf,CACAF,MAAM,CAACG,GAAP,CAAa,+EAAb,CACAH,MAAM,CAACI,KAAP,CAAe,IAAf,CACAH,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,MAA1B,EAEA,GAAI,KAAKO,WAAT,CAAsB,CAClB/C,OAAO,CAACC,GAAR,CAAY,2BAAZ,EACA,KAAK8C,WAAL,CAAiBC,KAAjB,GACH,CACF,CAEH;yDA6CkB,CACd,GAAI,KAAKD,WAAT,CAAsB,CAClB,KAAKA,WAAL,CAAiBC,KAAjB,GACH,CACJ,C,sDACcC,c,CAAgB,CAC7B,GAAGA,cAAH,CAAmB,CACjB,KAAK7D,QAAL,CAAc,CAACgD,cAAc,CAAE,KAAjB,CAAd,EACD,CACF,C,uCA2DQ,iBACL,GAAG,CAAC,KAAKH,KAAL,CAAW9B,UAAf,CAA2B,CACvB,mBACI,2BAAK,SAAS,CAAC,aAAf,EACK,KAAKG,WAAL,EADL,CADJ,CAMH,CAPD,IAQK,oBACD,2BAAK,SAAS,CAAC,aAAf,eACI,oBAAC,KAAD,EAAO,IAAI,CAAI,IAAf,CACI,QAAQ,CAAG,eADf,CAEI,OAAO,CAAE,KAAK4C,UAFlB,eAGI,2BAAK,KAAK,CAAI,CAACC,OAAO,CAAE,MAAV,CAAkBC,cAAc,CAAE,QAAlC,CAA4CC,MAAM,CAAE,MAApD,CAA4DC,UAAU,CAAE,MAAxE,CAAd,eACI,oBAAC,SAAD,EACI,GAAG,CAAE,aAACC,EAAD,CAAQ,CAAC,MAAI,CAACR,WAAL,CAAmBQ,EAAnB,CAAuB,CADzC,CAEI,IAAI,CAAC,QAFT,CAGI,aAAW,MAHf,CAII,MAAM,CAAC,UAJX,CAKI,OAAO,CAAC,0CALZ,CAMI,cAAc,CAAE,KAAKlB,eANzB,CAOI,cAAc,CAAE,KAAKE,cAPzB,EADJ,CAUK,KAAKN,KAAL,CAAWG,cAAX,eAA6B,4BAAM,KAAK,CAAI,CAACoB,WAAW,CAAE,MAAd,CAAf,aAVlC,CAWK,CAAC,KAAKvB,KAAL,CAAWG,cAAZ,eAA8B,oBAAC,OAAD,EAAS,KAAK,CAAI,CAACoB,WAAW,CAAE,MAAd,CAAlB,CAAyC,OAAO,CAAG,KAAKnD,YAAxD,CAAsE,KAAK,KAA3E,CAA4E,EAAE,CAAI,0BAA4B,KAAK5B,KAAL,CAAW0D,QAAzH,aAXnC,CAHJ,CADJ,CAkBK,KAAK7B,WAAL,EAlBL,CADC,CAsBR,C,6BA1KyBpC,KAAK,CAACuF,S,EA6KpC,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAzB,KAAK,CAAI,CAC7B,MAAO,CACL0B,YAAY,CAAE1B,KAAK,CAAC0B,YADf,CAELhF,cAAc,CAAEsD,KAAK,CAACtD,cAFjB,CAAP,CAIH,CALD,CAOA,GAAMiF,CAAAA,kBAAkB,CAAG,CACvBtF,OAAO,CAAEA,OADc,CAA3B,CAIA,cAAeD,CAAAA,OAAO,CAACqF,eAAD,CAAkBE,kBAAlB,CAAP,CAA8CpF,eAA9C,CAAf","sourcesContent":["import React from 'react';\nimport { ReCaptcha } from 'react-recaptcha-google'\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { saveAtt } from '../../redux/actions';\nimport Popup from 'reactjs-popup';\nimport '../../App.css';\n\nclass ItemDescription extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            addingResult: '',\n            msgRequest: false,\n            buttonDisabled: true\n        };\n        this.onLoadRecaptcha = this.onLoadRecaptcha.bind(this);\n        this.verifyCallback = this.verifyCallback.bind(this);\n    }\n\n    componentDidMount() {\n\n        const script = document.createElement(\"script\");\n        script.src = \"https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit\";\n        script.async = true;\n        document.body.appendChild(script);\n\n        if (this.captchaDemo) {\n            console.log(\"started, just a second...\")\n            this.captchaDemo.reset();\n        }\n      }\n\n    //TREBA JE UREDITI BRISANJE IZ LOCAL STOREGA; POTEM KO SE NAROČI IN/ALI PO POTEKU DOLOČENEGA ČASA\n    addToCart = () => {\n        if(this.props.loggedInUserId !== 0) {\n            //this.props.addToCart(this.props.adId);\n            let cart = JSON.parse(window.localStorage.getItem(this.props.loggedInUserId));\n            if (cart !== null) {\n                if(cart.includes(this.props.adId)) {\n                    this.setState({addingResult: 'IZDELEK JE ŽE V KOŠARICI!'});\n                }else {\n                    cart.push(this.props.adId);\n                    window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(cart));\n                    this.setState({addingResult: 'IZDELEK DODAN V KOŠARICO!'});\n                }\n            } else {\n                let initialCart = [];\n                initialCart.push(this.props.adId);\n                window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(initialCart));\n                this.setState({addingResult: 'IZDELEK DODAN V KOŠARICO!'});\n            }\n            this.props.itemAdded(1);\n        }else{this.setState({addingResult: 'ZA DODAJANJE V KOŠARICO SE PRIJAVITE.'});}\n    }\n\n    removeFromCart = () => {\n        let cart = JSON.parse(window.localStorage.getItem(this.props.loggedInUserId));\n        if (cart !== null) {\n            cart.splice(cart.indexOf(this.props.adId), 1);\n            window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(cart));\n        }\n        //console.log('INDEX IN CART: ' + cart.indexOf(this.props.adId))\n    }\n\n    showCart = () => {\n        window.localStorage.clear();\n        console.log(JSON.parse(window.localStorage.getItem(this.props.loggedInUserId)));\n    }\n\n    handleMsgRequest = () => {\n        this.setState({msgRequest: true});\n    }\n\n    handleConfirm = () => {\n\n    }\n\n    onLoadRecaptcha() {\n        if (this.captchaDemo) {\n            this.captchaDemo.reset();\n        }\n    }\n    verifyCallback(recaptchaToken) {\n      if(recaptchaToken) {\n        this.setState({buttonDisabled: false});\n      }\n    }\n\n    proceedToMsg = () => {\n        console.log(\"SUBMITTED!\");\n        this.setState({msgRequest: false});\n    }\n\n    descriptDiv = () => {\n        const selection = this.props.selection;\n        let subcategory = '';\n        const categ = selection.category.value;\n\n        switch(categ) {\n            case 'women':\n                subcategory = selection.women.label;\n                break;\n            case 'men':\n                subcategory = selection.men.label;\n                break;\n            case 'kids':\n                subcategory = selection.kids.label;\n                break;\n            default:\n                subcategory = '';\n                break;\n        }\n\n        const btnContStyle = {\n            backgroundColor: 'rgb(255,255,255,0)',\n            border: 'none',\n            margin: 0,\n            padding: 0,\n            fontSize: 'small',\n            textDecoration: 'underline',\n            color: 'grey',\n            cursor: 'pointer'\n        }\n\n        return (\n            <div>\n                <h3>{subcategory}</h3>\n                {categ !== 'kids' && <p><b>Velikost: </b>{selection.clothsize.label}</p>}\n                <p><b>Material: </b>{selection.material.label}</p>\n                <p><b>Stanje: </b>{selection.condition.label}</p>\n                <p><b>Znamka: </b>{selection.brand.value}</p>\n                <p><b>Opis: </b>{selection.descrtext.value}</p>\n                <br/>\n                <p><b>Cena: </b>{selection.price.value} €</p>\n                {(this.props.status === 'active' && this.props.loggedInUserId !== '0') && <button className = 'btnb' onClick = {this.addToCart}>DODAJ V KOŠARICO</button>}\n                <p style = {{fontWeight: 'bold'}}>{this.state.addingResult}</p>\n                <br/>\n                <p>Prodajalec: {this.props.seller} </p>\n                <NavLink className='btnu' exact to={'/sellerlistings?' + this.props.sellerId}>Vsi oglasi tega prodajalca</NavLink>\n                {(this.props.loggedInUserId !== '0' && this.props.loggedInUserId !== this.props.sellerId) && <p style = {{fontSize: 10}}>\n                <button style = {btnContStyle} onClick = {this.handleMsgRequest}>Kontaktiraj prodajalca</button></p>}\n            </div>\n        )\n    }\n\n    render() {\n        if(!this.state.msgRequest) {\n            return(\n                <div className=\"description\">\n                    {this.descriptDiv()}\n                    {/* <button onClick={this.showCart}>CLEAR AND SHOW CART</button> */}\n                </div>\n            )\n        }\n        else return (\n            <div className=\"description\">\n                <Popup open = {true}\n                    position = 'center center'\n                    onClose={this.closeModal}>\n                    <div style = {{display: 'flex', justifyContent: 'center', height: '90px', lineHeight: '90px'}}>\n                        <ReCaptcha\n                            ref={(el) => {this.captchaDemo = el;}}\n                            size=\"normal\"\n                            data-theme=\"dark\"            \n                            render=\"explicit\"\n                            sitekey=\"6LcVy-0UAAAAAA1SYgeXX6tUze_gLa6Tplcris-V\"\n                            onloadCallback={this.onLoadRecaptcha}\n                            verifyCallback={this.verifyCallback}\n                        />\n                        {this.state.buttonDisabled && <span style = {{paddingLeft: '20px'}}>NADALJUJ</span>}\n                        {!this.state.buttonDisabled && <NavLink style = {{paddingLeft: '20px'}} onClick ={this.proceedToMsg} exact to = {'/chatpage/conversation?' + this.props.sellerId}>NADALJUJ</NavLink>}\n                    </div>\n                </Popup>\n                {this.descriptDiv()}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n};\n\nconst mapDispatchToProps = {\n    saveAtt: saveAtt,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps) (ItemDescription);"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/katja/REACT/test-app/src/pages/Listing/ItemDescription.jsx\";\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { saveAtt } from '../../redux/actions';\nimport '../../App.css';\n\nclass ItemDescription extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addToCart = () => {\n      if (this.props.loggedInUserId !== '0') {\n        //this.props.addToCart(this.props.adId);\n        let cart = JSON.parse(window.localStorage.getItem(this.props.loggedInUserId));\n\n        if (cart !== null) {\n          if (cart.includes(this.props.adId)) {\n            this.setState({\n              addingResult: 'IZDELEK JE ŽE V KOŠARICI!'\n            });\n          } else {\n            cart.push(this.props.adId);\n            window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(cart));\n            this.setState({\n              addingResult: 'IZDELEK DODAN V KOŠARICO!'\n            });\n          }\n        } else {\n          let initialCart = [];\n          initialCart.push(this.props.adId);\n          window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(initialCart));\n          this.setState({\n            addingResult: 'IZDELEK DODAN V KOŠARICO!'\n          });\n        }\n      } else {\n        this.setState({\n          addingResult: 'ZA DODAJANJE V KOŠARICO SE PRIJAVITE.'\n        });\n      }\n    };\n\n    this.removeFromCart = () => {\n      let cart = JSON.parse(window.localStorage.getItem(this.props.loggedInUserId));\n\n      if (cart !== null) {\n        cart.splice(cart.indexOf(this.props.adId), 1);\n        window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(cart));\n      } //console.log('INDEX IN CART: ' + cart.indexOf(this.props.adId))\n\n    };\n\n    this.showCart = () => {\n      //window.localStorage.clear();\n      console.log(JSON.parse(window.localStorage.getItem(this.props.loggedInUserId))); //console.log(this.props.cart);\n    };\n\n    this.handleMsgRequest = () => {\n      this.setState({\n        msgRequest: true\n      });\n    };\n\n    this.state = {\n      addingResult: '',\n      msgRequest: false\n    };\n  } //TREBA JE UREDITI BRISANJE IZ LOCAL STOREGA; POTEM KO SE NAROČI IN/ALI PO POTEKU DOLOČENEGA ČASA\n\n\n  render() {\n    const selection = this.props.selection;\n    let subcategory = '';\n    const categ = selection.category.value;\n\n    switch (categ) {\n      case 'women':\n        subcategory = selection.women.label;\n        break;\n\n      case 'men':\n        subcategory = selection.men.label;\n        break;\n\n      case 'kids':\n        subcategory = selection.kids.label;\n        break;\n\n      default:\n        subcategory = '';\n        break;\n    } // {this.props.loggedInUserId !== '0' && <p style = {{fontSize: 10}}><NavLink exact to = {'/chatpage/conversation?' + this.props.sellerId}>(Kontaktiraj prodajalca)</NavLink></p>}\n    //<button className = 'btn' onClick = {this.addToCart}><NavLink  exact to = {'/buying?' + this.props.adId}  className=\"first\" activeStyle={{background: \"#525050\"}}>DODAJ V KOŠARICO</NavLink></button>\n\n\n    if (!this.state.msgRequest) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }\n      }, subcategory), categ !== 'kids' && /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 42\n        }\n      }, \"Velikost: \", selection.clothsize.label), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }\n      }, \"Material: \", selection.material.label), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }\n      }, \"Stanje: \", selection.condition.label), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }\n      }, \"Znamka: \", selection.brand.value), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }\n      }, \"Opis: \"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 36\n        }\n      }, selection.descrtext.value), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }\n      }, \"Cena: \", selection.price.value, \" \\u20AC\"), this.props.status === 'active' && this.props.loggedInUserId !== '0' && /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btnb\",\n        onClick: this.addToCart,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 95\n        }\n      }, \"DODAJ V KO\\u0160ARICO\"), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }\n      }, this.state.addingResult), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }\n      }, \"Prodajalec: \", this.props.seller, \" \"), this.props.loggedInUserId !== '0' && /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          fontSize: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 59\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.hadleMsgRequest,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 87\n        }\n      }, \"Kontaktiraj prodajalca\")));\n    } else return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, subcategory), categ !== 'kids' && /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 34\n      }\n    }, \"Velikost: \", selection.clothsize.label), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, \"Material: \", selection.material.label), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, \"Stanje: \", selection.condition.label), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, \"Znamka: \", selection.brand.value), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }, \"Opis: \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 28\n      }\n    }, selection.descrtext.value), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, \"Cena: \", selection.price.value, \" \\u20AC\"), this.props.status === 'active' && this.props.loggedInUserId !== '0' && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btnb\",\n      onClick: this.addToCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 87\n      }\n    }, \"DODAJ V KO\\u0160ARICO\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontWeight: 'bold'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, this.state.addingResult), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, \"Prodajalec: \", this.props.seller, \" \"), this.props.loggedInUserId !== '0' && /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontSize: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 51\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.hadleMsgRequest,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 79\n      }\n    }, \"Kontaktiraj prodajalca\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    loggedInUser: state.loggedInUser,\n    loggedInUserId: state.loggedInUserId\n  };\n};\n\nconst mapDispatchToProps = {\n  saveAtt: saveAtt\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ItemDescription);","map":{"version":3,"sources":["/home/katja/REACT/test-app/src/pages/Listing/ItemDescription.jsx"],"names":["React","NavLink","connect","saveAtt","ItemDescription","Component","constructor","props","addToCart","loggedInUserId","cart","JSON","parse","window","localStorage","getItem","includes","adId","setState","addingResult","push","setItem","stringify","initialCart","removeFromCart","splice","indexOf","showCart","console","log","handleMsgRequest","msgRequest","state","render","selection","subcategory","categ","category","value","women","label","men","kids","clothsize","material","condition","brand","descrtext","price","status","fontWeight","seller","fontSize","hadleMsgRequest","mapStateToProps","loggedInUser","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { saveAtt } from '../../redux/actions';\nimport '../../App.css';\n\nclass ItemDescription extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            addingResult: '',\n            msgRequest: false\n        };\n    }\n\n    //TREBA JE UREDITI BRISANJE IZ LOCAL STOREGA; POTEM KO SE NAROČI IN/ALI PO POTEKU DOLOČENEGA ČASA\n    addToCart = () => {\n        if(this.props.loggedInUserId !== '0') {\n            //this.props.addToCart(this.props.adId);\n            let cart = JSON.parse(window.localStorage.getItem(this.props.loggedInUserId));\n            if (cart !== null) {\n                if(cart.includes(this.props.adId)) {\n                    this.setState({addingResult: 'IZDELEK JE ŽE V KOŠARICI!'});\n                }else {\n                    cart.push(this.props.adId);\n                    window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(cart));\n                    this.setState({addingResult: 'IZDELEK DODAN V KOŠARICO!'});\n                }\n            } else {\n                let initialCart = [];\n                initialCart.push(this.props.adId);\n                window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(initialCart));\n                this.setState({addingResult: 'IZDELEK DODAN V KOŠARICO!'});\n            }\n        }else{this.setState({addingResult: 'ZA DODAJANJE V KOŠARICO SE PRIJAVITE.'});}\n    }\n\n    removeFromCart = () => {\n        let cart = JSON.parse(window.localStorage.getItem(this.props.loggedInUserId));\n        if (cart !== null) {\n            cart.splice(cart.indexOf(this.props.adId), 1);\n            window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(cart));\n        }\n        //console.log('INDEX IN CART: ' + cart.indexOf(this.props.adId))\n    }\n\n    showCart = () => {\n        //window.localStorage.clear();\n        console.log(JSON.parse(window.localStorage.getItem(this.props.loggedInUserId)));\n        //console.log(this.props.cart);\n    }\n\n    handleMsgRequest = () => {\n        this.setState({msgRequest: true});\n    }\n\n    render() {\n\n        const selection = this.props.selection;\n        let subcategory = '';\n        const categ = selection.category.value;\n\n        switch(categ) {\n            case 'women':\n                subcategory = selection.women.label;\n                break;\n            case 'men':\n                subcategory = selection.men.label;\n                break;\n            case 'kids':\n                subcategory = selection.kids.label;\n                break;\n            default:\n                subcategory = '';\n                break;\n        }\n\n        // {this.props.loggedInUserId !== '0' && <p style = {{fontSize: 10}}><NavLink exact to = {'/chatpage/conversation?' + this.props.sellerId}>(Kontaktiraj prodajalca)</NavLink></p>}\n        //<button className = 'btn' onClick = {this.addToCart}><NavLink  exact to = {'/buying?' + this.props.adId}  className=\"first\" activeStyle={{background: \"#525050\"}}>DODAJ V KOŠARICO</NavLink></button>\n\n        if(!this.state.msgRequest) {\n            return(\n                <div className=\"description\">\n                    <h2>{subcategory}</h2>\n                    {categ !== 'kids' && <h3>Velikost: {selection.clothsize.label}</h3>}\n                    <h3>Material: {selection.material.label}</h3>\n                    <h3>Stanje: {selection.condition.label}</h3>\n                    <h3>Znamka: {selection.brand.value}</h3>\n                    <h3>Opis: </h3><p>{selection.descrtext.value}</p>\n                    <br/>\n                    <h3>Cena: {selection.price.value} €</h3>\n                    {(this.props.status === 'active' && this.props.loggedInUserId !== '0') && <button className = 'btnb' onClick = {this.addToCart}>DODAJ V KOŠARICO</button>}\n                    <p style = {{fontWeight: 'bold'}}>{this.state.addingResult}</p>\n                    <br/>\n                    <p>Prodajalec: {this.props.seller} </p>\n                    {this.props.loggedInUserId !== '0' && <p style = {{fontSize: 10}}><button onClick = {this.hadleMsgRequest}>Kontaktiraj prodajalca</button></p>}\n                </div>\n            )\n        }\n        else return (\n            <div className=\"description\">\n            <h2>{subcategory}</h2>\n            {categ !== 'kids' && <h3>Velikost: {selection.clothsize.label}</h3>}\n            <h3>Material: {selection.material.label}</h3>\n            <h3>Stanje: {selection.condition.label}</h3>\n            <h3>Znamka: {selection.brand.value}</h3>\n            <h3>Opis: </h3><p>{selection.descrtext.value}</p>\n            <br/>\n            <h3>Cena: {selection.price.value} €</h3>\n            {(this.props.status === 'active' && this.props.loggedInUserId !== '0') && <button className = 'btnb' onClick = {this.addToCart}>DODAJ V KOŠARICO</button>}\n            <p style = {{fontWeight: 'bold'}}>{this.state.addingResult}</p>\n            <br/>\n            <p>Prodajalec: {this.props.seller} </p>\n            {this.props.loggedInUserId !== '0' && <p style = {{fontSize: 10}}><button onClick = {this.hadleMsgRequest}>Kontaktiraj prodajalca</button></p>}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n};\n\nconst mapDispatchToProps = {\n    saveAtt: saveAtt,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps) (ItemDescription);"]},"metadata":{},"sourceType":"module"}
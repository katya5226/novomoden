{"ast":null,"code":"var _jsxFileName = \"/home/katja/REACT/test-app/src/pages/Listing/ItemDescription.jsx\";\nimport React from 'react';\nimport { ReCaptcha } from 'react-recaptcha-google';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { saveAtt } from '../../redux/actions';\nimport Popup from 'reactjs-popup';\nimport '../../App.css';\n\nclass ItemDescription extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addToCart = () => {\n      if (this.props.loggedInUserId !== '0') {\n        //this.props.addToCart(this.props.adId);\n        let cart = JSON.parse(window.localStorage.getItem(this.props.loggedInUserId));\n\n        if (cart !== null) {\n          if (cart.includes(this.props.adId)) {\n            this.setState({\n              addingResult: 'IZDELEK JE ŽE V KOŠARICI!'\n            });\n          } else {\n            cart.push(this.props.adId);\n            window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(cart));\n            this.setState({\n              addingResult: 'IZDELEK DODAN V KOŠARICO!'\n            });\n          }\n        } else {\n          let initialCart = [];\n          initialCart.push(this.props.adId);\n          window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(initialCart));\n          this.setState({\n            addingResult: 'IZDELEK DODAN V KOŠARICO!'\n          });\n        }\n      } else {\n        this.setState({\n          addingResult: 'ZA DODAJANJE V KOŠARICO SE PRIJAVITE.'\n        });\n      }\n    };\n\n    this.removeFromCart = () => {\n      let cart = JSON.parse(window.localStorage.getItem(this.props.loggedInUserId));\n\n      if (cart !== null) {\n        cart.splice(cart.indexOf(this.props.adId), 1);\n        window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(cart));\n      } //console.log('INDEX IN CART: ' + cart.indexOf(this.props.adId))\n\n    };\n\n    this.showCart = () => {\n      //window.localStorage.clear();\n      console.log(JSON.parse(window.localStorage.getItem(this.props.loggedInUserId))); //console.log(this.props.cart);\n    };\n\n    this.handleMsgRequest = () => {\n      this.setState({\n        msgRequest: true\n      });\n    };\n\n    this.handleConfirm = () => {};\n\n    this.state = {\n      addingResult: '',\n      msgRequest: false\n    };\n    this.onLoadRecaptcha = this.onLoadRecaptcha.bind(this);\n    this.verifyCallback = this.verifyCallback.bind(this);\n  }\n\n  componentDidMount() {\n    const script = document.createElement(\"script\");\n    script.src = \"https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit\";\n    script.async = true;\n    document.body.appendChild(script);\n\n    if (this.captchaDemo) {\n      console.log(\"started, just a second...\");\n      this.captchaDemo.reset();\n    }\n  } //TREBA JE UREDITI BRISANJE IZ LOCAL STOREGA; POTEM KO SE NAROČI IN/ALI PO POTEKU DOLOČENEGA ČASA\n\n\n  onLoadRecaptcha() {\n    if (this.captchaDemo) {\n      this.captchaDemo.reset();\n    }\n  }\n\n  verifyCallback(recaptchaToken) {\n    // Here you will get the final recaptchaToken!!!  \n    console.log(recaptchaToken, \"<= your recaptcha token\");\n  }\n\n  render() {\n    const selection = this.props.selection;\n    let subcategory = '';\n    const categ = selection.category.value;\n\n    switch (categ) {\n      case 'women':\n        subcategory = selection.women.label;\n        break;\n\n      case 'men':\n        subcategory = selection.men.label;\n        break;\n\n      case 'kids':\n        subcategory = selection.kids.label;\n        break;\n\n      default:\n        subcategory = '';\n        break;\n    } // {this.props.loggedInUserId !== '0' && <p style = {{fontSize: 10}}><NavLink exact to = {'/chatpage/conversation?' + this.props.sellerId}>(Kontaktiraj prodajalca)</NavLink></p>}\n    //<button className = 'btn' onClick = {this.addToCart}><NavLink  exact to = {'/buying?' + this.props.adId}  className=\"first\" activeStyle={{background: \"#525050\"}}>DODAJ V KOŠARICO</NavLink></button>\n\n\n    if (!this.state.msgRequest) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(ReCaptcha, {\n        ref: el => {\n          this.captchaDemo = el;\n        },\n        size: \"normal\",\n        \"data-theme\": \"dark\",\n        render: \"explicit\",\n        sitekey: \"6Lfcxu0UAAAAAPHdrfQFVS5nR09IPKs7YkNo20aa\",\n        onloadCallback: this.onLoadRecaptcha,\n        verifyCallback: this.verifyCallback,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }\n      }, subcategory), categ !== 'kids' && /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 42\n        }\n      }, \"Velikost: \", selection.clothsize.label), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }\n      }, \"Material: \", selection.material.label), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }\n      }, \"Stanje: \", selection.condition.label), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }\n      }, \"Znamka: \", selection.brand.value), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }\n      }, \"Opis: \"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 36\n        }\n      }, selection.descrtext.value), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }\n      }, \"Cena: \", selection.price.value, \" \\u20AC\"), this.props.status === 'active' && this.props.loggedInUserId !== '0' && /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btnb\",\n        onClick: this.addToCart,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 95\n        }\n      }, \"DODAJ V KO\\u0160ARICO\"), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }\n      }, this.state.addingResult), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }\n      }, \"Prodajalec: \", this.props.seller, \" \"), this.props.loggedInUserId !== '0' && /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          fontSize: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 59\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.hadleMsgRequest,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 87\n        }\n      }, \"Kontaktiraj prodajalca\")));\n    } else return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Popup, {\n      open: true,\n      position: \"center center\",\n      onClose: this.closeModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'inline-flex',\n        justifyContent: 'space-around'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        margin: 'auto 10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 25\n      }\n    }, \"Ste prepri\\u010Dani, da \\u017Eelite izbrisati oglas?\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btnb\",\n      onClick: this.handleConfirm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 25\n      }\n    }, \"DA\"))), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }\n    }, subcategory), categ !== 'kids' && /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 38\n      }\n    }, \"Velikost: \", selection.clothsize.label), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }\n    }, \"Material: \", selection.material.label), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }\n    }, \"Stanje: \", selection.condition.label), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }\n    }, \"Znamka: \", selection.brand.value), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }\n    }, \"Opis: \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 32\n      }\n    }, selection.descrtext.value), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }, \"Cena: \", selection.price.value, \" \\u20AC\"), this.props.status === 'active' && this.props.loggedInUserId !== '0' && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btnb\",\n      onClick: this.addToCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 91\n      }\n    }, \"DODAJ V KO\\u0160ARICO\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontWeight: 'bold'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }\n    }, this.state.addingResult), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, \"Prodajalec: \", this.props.seller, \" \"), this.props.loggedInUserId !== '0' && /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontSize: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 55\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.hadleMsgRequest,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 83\n      }\n    }, \"Kontaktiraj prodajalca\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    loggedInUser: state.loggedInUser,\n    loggedInUserId: state.loggedInUserId\n  };\n};\n\nconst mapDispatchToProps = {\n  saveAtt: saveAtt\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ItemDescription);","map":{"version":3,"sources":["/home/katja/REACT/test-app/src/pages/Listing/ItemDescription.jsx"],"names":["React","ReCaptcha","NavLink","connect","saveAtt","Popup","ItemDescription","Component","constructor","props","addToCart","loggedInUserId","cart","JSON","parse","window","localStorage","getItem","includes","adId","setState","addingResult","push","setItem","stringify","initialCart","removeFromCart","splice","indexOf","showCart","console","log","handleMsgRequest","msgRequest","handleConfirm","state","onLoadRecaptcha","bind","verifyCallback","componentDidMount","script","document","createElement","src","async","body","appendChild","captchaDemo","reset","recaptchaToken","render","selection","subcategory","categ","category","value","women","label","men","kids","el","clothsize","material","condition","brand","descrtext","price","status","fontWeight","seller","fontSize","hadleMsgRequest","closeModal","display","justifyContent","margin","mapStateToProps","loggedInUser","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { ReCaptcha } from 'react-recaptcha-google'\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { saveAtt } from '../../redux/actions';\nimport Popup from 'reactjs-popup';\nimport '../../App.css';\n\nclass ItemDescription extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            addingResult: '',\n            msgRequest: false\n        };\n        this.onLoadRecaptcha = this.onLoadRecaptcha.bind(this);\n        this.verifyCallback = this.verifyCallback.bind(this);\n    }\n\n    componentDidMount() {\n\n        const script = document.createElement(\"script\");\n        script.src = \"https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit\";\n        script.async = true;\n        document.body.appendChild(script);\n\n\n        if (this.captchaDemo) {\n            console.log(\"started, just a second...\")\n            this.captchaDemo.reset();\n        }\n      }\n\n    //TREBA JE UREDITI BRISANJE IZ LOCAL STOREGA; POTEM KO SE NAROČI IN/ALI PO POTEKU DOLOČENEGA ČASA\n    addToCart = () => {\n        if(this.props.loggedInUserId !== '0') {\n            //this.props.addToCart(this.props.adId);\n            let cart = JSON.parse(window.localStorage.getItem(this.props.loggedInUserId));\n            if (cart !== null) {\n                if(cart.includes(this.props.adId)) {\n                    this.setState({addingResult: 'IZDELEK JE ŽE V KOŠARICI!'});\n                }else {\n                    cart.push(this.props.adId);\n                    window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(cart));\n                    this.setState({addingResult: 'IZDELEK DODAN V KOŠARICO!'});\n                }\n            } else {\n                let initialCart = [];\n                initialCart.push(this.props.adId);\n                window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(initialCart));\n                this.setState({addingResult: 'IZDELEK DODAN V KOŠARICO!'});\n            }\n        }else{this.setState({addingResult: 'ZA DODAJANJE V KOŠARICO SE PRIJAVITE.'});}\n    }\n\n    removeFromCart = () => {\n        let cart = JSON.parse(window.localStorage.getItem(this.props.loggedInUserId));\n        if (cart !== null) {\n            cart.splice(cart.indexOf(this.props.adId), 1);\n            window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(cart));\n        }\n        //console.log('INDEX IN CART: ' + cart.indexOf(this.props.adId))\n    }\n\n    showCart = () => {\n        //window.localStorage.clear();\n        console.log(JSON.parse(window.localStorage.getItem(this.props.loggedInUserId)));\n        //console.log(this.props.cart);\n    }\n\n    handleMsgRequest = () => {\n        this.setState({msgRequest: true});\n    }\n\n    handleConfirm = () => {\n\n    }\n\n    onLoadRecaptcha() {\n        if (this.captchaDemo) {\n            this.captchaDemo.reset();\n        }\n    }\n    verifyCallback(recaptchaToken) {\n      // Here you will get the final recaptchaToken!!!  \n      console.log(recaptchaToken, \"<= your recaptcha token\")\n    }\n\n    render() {\n\n        const selection = this.props.selection;\n        let subcategory = '';\n        const categ = selection.category.value;\n\n        switch(categ) {\n            case 'women':\n                subcategory = selection.women.label;\n                break;\n            case 'men':\n                subcategory = selection.men.label;\n                break;\n            case 'kids':\n                subcategory = selection.kids.label;\n                break;\n            default:\n                subcategory = '';\n                break;\n        }\n\n        // {this.props.loggedInUserId !== '0' && <p style = {{fontSize: 10}}><NavLink exact to = {'/chatpage/conversation?' + this.props.sellerId}>(Kontaktiraj prodajalca)</NavLink></p>}\n        //<button className = 'btn' onClick = {this.addToCart}><NavLink  exact to = {'/buying?' + this.props.adId}  className=\"first\" activeStyle={{background: \"#525050\"}}>DODAJ V KOŠARICO</NavLink></button>\n\n        if(!this.state.msgRequest) {\n            return(\n                <div className=\"description\">\n                    <ReCaptcha\n                        ref={(el) => {this.captchaDemo = el;}}\n                        size=\"normal\"\n                        data-theme=\"dark\"            \n                        render=\"explicit\"\n                        sitekey=\"6Lfcxu0UAAAAAPHdrfQFVS5nR09IPKs7YkNo20aa\"\n                        onloadCallback={this.onLoadRecaptcha}\n                        verifyCallback={this.verifyCallback}\n                    />\n                    <h2>{subcategory}</h2>\n                    {categ !== 'kids' && <h3>Velikost: {selection.clothsize.label}</h3>}\n                    <h3>Material: {selection.material.label}</h3>\n                    <h3>Stanje: {selection.condition.label}</h3>\n                    <h3>Znamka: {selection.brand.value}</h3>\n                    <h3>Opis: </h3><p>{selection.descrtext.value}</p>\n                    <br/>\n                    <h3>Cena: {selection.price.value} €</h3>\n                    {(this.props.status === 'active' && this.props.loggedInUserId !== '0') && <button className = 'btnb' onClick = {this.addToCart}>DODAJ V KOŠARICO</button>}\n                    <p style = {{fontWeight: 'bold'}}>{this.state.addingResult}</p>\n                    <br/>\n                    <p>Prodajalec: {this.props.seller} </p>\n                    {this.props.loggedInUserId !== '0' && <p style = {{fontSize: 10}}><button onClick = {this.hadleMsgRequest}>Kontaktiraj prodajalca</button></p>}\n                </div>\n            )\n        }\n        else return (\n            <div className=\"description\">\n                <Popup open = {true}\n                    position = 'center center'\n                    onClose={this.closeModal}>\n                    <div style = {{display: 'inline-flex', justifyContent: 'space-around'}}>\n                        <p style= {{margin: 'auto 10px'}}>Ste prepričani, da želite izbrisati oglas?</p>\n                        <button className = 'btnb' onClick ={this.handleConfirm}>DA</button>\n                    </div>\n                </Popup>\n                <h2>{subcategory}</h2>\n                {categ !== 'kids' && <h3>Velikost: {selection.clothsize.label}</h3>}\n                <h3>Material: {selection.material.label}</h3>\n                <h3>Stanje: {selection.condition.label}</h3>\n                <h3>Znamka: {selection.brand.value}</h3>\n                <h3>Opis: </h3><p>{selection.descrtext.value}</p>\n                <br/>\n                <h3>Cena: {selection.price.value} €</h3>\n                {(this.props.status === 'active' && this.props.loggedInUserId !== '0') && <button className = 'btnb' onClick = {this.addToCart}>DODAJ V KOŠARICO</button>}\n                <p style = {{fontWeight: 'bold'}}>{this.state.addingResult}</p>\n                <br/>\n                <p>Prodajalec: {this.props.seller} </p>\n                {this.props.loggedInUserId !== '0' && <p style = {{fontSize: 10}}><button onClick = {this.hadleMsgRequest}>Kontaktiraj prodajalca</button></p>}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n};\n\nconst mapDispatchToProps = {\n    saveAtt: saveAtt,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps) (ItemDescription);"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/katja/REACT/test-app/src/pages/UserPage/Profile.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport NumberFormat from 'react-number-format';\nimport '../../App.css';\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.abortController = new AbortController();\n\n    this.onEditButtonClick = () => {\n      this.setState({\n        edit: true\n      });\n    };\n\n    this.changePhoneNumber = values => {\n      const {\n        value\n      } = values;\n      var profileInfo = { ...this.state.profileInfo\n      };\n      profileInfo.phone_number = value.toString;\n      this.setState({\n        profileInfo\n      }, () => console.log(this.state.profileInfo));\n    };\n\n    this.state = {\n      profileInfo: null,\n      edit: false\n    };\n  }\n\n  componentDidMount() {\n    fetch('/profileroutes', {\n      signal: this.abortController.signal,\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify({\n        requestType: 1\n      })\n    }).then(res => res.json()).then(res => this.setState({\n      profileInfo: res[0]\n    })).catch(e => console.error(\"Critical failure: \" + e.message));\n  }\n\n  componentWillUnmount() {\n    this.abortController.abort();\n  }\n\n  render() {\n    if (!this.state.profileInfo) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"profile\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 24\n        }\n      }, \"IME: \"), this.state.profileInfo.first_name), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 24\n        }\n      }, \"PRIIMEK: \"), this.state.profileInfo.last_name), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 24\n        }\n      }, \"NASLOV ZA PO\\u0160ILJANJE: \"), \" \", this.state.profileInfo.street + ', ' + this.state.profileInfo.post_number + ' ' + this.state.profileInfo.town), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 24\n        }\n      }, \"NASLOV ZA PO\\u0160ILJANJE: \"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        id: \"street\",\n        name: \"street\",\n        value: this.state.profileInfo.street,\n        style: {\n          width: '200px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 53\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        id: \"postnumber\",\n        name: \"postnumber\",\n        value: this.state.profileInfo.post_number,\n        style: {\n          width: '100px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 53\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        id: \"town\",\n        name: \"town\",\n        value: this.state.profileInfo.town,\n        style: {\n          width: '150px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 53\n        }\n      })), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 24\n        }\n      }, \"TELEFON: \"), this.state.profileInfo.phone_number), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 24\n        }\n      }, \"TELEFON: \"), \" +386 (0)\", /*#__PURE__*/React.createElement(NumberFormat, {\n        value: this.state.profileInfo.phone_number.substring(4),\n        placeholder: \"__ ___ ___\",\n        format: \"## ### ###\" //allowEmptyFormatting mask=\"_\"\n        ,\n        allowNegative: false,\n        isNumericString: true,\n        onValueChange: this.changePhoneNumber,\n        style: {\n          width: '150px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 49\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: 'right'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btnu\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 57\n        }\n      }, \"UREDI\")));\n    }\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    loggedInUser: state.loggedInUser,\n    loggedInUserId: state.loggedInUserId\n  };\n};\n\nexport default connect(mapStateToProps)(Profile);","map":{"version":3,"sources":["/home/katja/REACT/test-app/src/pages/UserPage/Profile.jsx"],"names":["React","connect","NumberFormat","Profile","Component","constructor","props","abortController","AbortController","onEditButtonClick","setState","edit","changePhoneNumber","values","value","profileInfo","state","phone_number","toString","console","log","componentDidMount","fetch","signal","method","headers","body","JSON","stringify","requestType","then","res","json","catch","e","error","message","componentWillUnmount","abort","render","first_name","last_name","street","post_number","town","width","substring","textAlign","mapStateToProps","loggedInUser","loggedInUserId"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport NumberFormat from 'react-number-format';\nimport '../../App.css';\n\n\nclass Profile extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            profileInfo: null,\n            edit: false\n        };\n    }\n\n    abortController = new AbortController();\n\tcomponentDidMount() {\n        fetch('/profileroutes', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                requestType: 1\n            })\n        })\n        .then(res => res.json())\n        .then(res => this.setState({profileInfo: res[0]}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));   \n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    onEditButtonClick = () => {\n        this.setState({edit: true})\n    }\n    changePhoneNumber = (values) => {\n        const {value} = values;\n        var profileInfo = {...this.state.profileInfo}\n        profileInfo.phone_number = value.toString;\n        this.setState({profileInfo}, () => console.log(this.state.profileInfo));\n    }\n\n    render() {\n\n        if(!this.state.profileInfo) {\n            return (<div></div>)\n        } else {\n            return (\n                <div className = 'profile'>\n                    <br/>\n                    <p><b>IME: </b>{this.state.profileInfo.first_name}</p>\n                    <p><b>PRIIMEK: </b>{this.state.profileInfo.last_name}</p>\n                    <p><b>NASLOV ZA POŠILJANJE: </b> {this.state.profileInfo.street + ', ' + this.state.profileInfo.post_number + ' ' + this.state.profileInfo.town}</p>\n                    <p><b>NASLOV ZA POŠILJANJE: </b><input type='text' id='street' name='street' value={this.state.profileInfo.street} style = {{width: '200px'}}/>\n                                                    <input type='number' id='postnumber' name='postnumber' value={this.state.profileInfo.post_number} style = {{width: '100px'}}/>\n                                                    <input type='text' id='town' name='town' value={this.state.profileInfo.town} style = {{width: '150px'}}/></p>\n                    <p><b>TELEFON: </b>{this.state.profileInfo.phone_number}</p>\n                    <p><b>TELEFON: </b> +386 (0)<NumberFormat\n                            value={this.state.profileInfo.phone_number.substring(4)}\n                            placeholder='__ ___ ___'\n                            format='## ### ###'\n                            //allowEmptyFormatting mask=\"_\"\n                            allowNegative={false}\n                            isNumericString={true}\n                            onValueChange={this.changePhoneNumber}\n                            style = {{width: '150px'}}/></p>\n                    <div style = {{textAlign: 'right'}}><button className = 'btnu'>UREDI</button></div>\n                </div>\n            )\n        }\n\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n  };\n\n\nexport default connect(mapStateToProps) (Profile);"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/katja/REACT/test-app/src/pages/ShoppingCart/SumForSeller.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nclass SumForSeller extends React.Component {\n  constructor(props) {\n    super(props);\n    this.abortController = new AbortController();\n\n    this.handleClickProceed = () => {\n      fetch('/sessionorder', {\n        signal: this.abortController.signal,\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          type: 1,\n          ids: this.props.ids\n        })\n      }).then(res => res.json()).then(res => {\n        if (res.available === '0') {\n          this.setState({\n            fetching: false,\n            available: false\n          }, () => console.log(this.state));\n        } else {\n          this.setState({\n            fetching: false\n          }, () => console.log(this.state));\n        }\n      }).catch(e => console.error(\"Critical failure: \" + e.message));\n    };\n\n    this.state = {\n      fetching: true,\n      available: true\n    };\n  }\n\n  componentWillUnmount() {\n    this.abortController.abort();\n  }\n\n  render() {\n    const weight = this.props.sum.weight;\n    const price = this.props.sum.price;\n    let postage = weight < 100 ? 2 : 3;\n\n    if (!this.state.fetching && this.state.available) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/shoppingcart/placeorder\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 20\n        }\n      });\n    } else if (!this.state.available) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          backgroundColor: 'rgb(255,255,255,0.8)',\n          padding: '10px',\n          margin: '0 auto',\n          borderBottom: '10px solid black',\n          borderTop: '2px dotted black'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }\n      }, \"OPROSTITE, EDEN ALI VE\\u010C IZDELKOV NI VE\\u010C NA VOLJO\"));\n    } else return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        backgroundColor: 'rgb(255,255,255,0.8)',\n        padding: '10px',\n        margin: '0 auto',\n        borderBottom: '10px solid black',\n        borderTop: '2px dotted black'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, \"Cena: \", price, \" \\u20AC\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, \"Po\\u0161tnina: \", postage, \" \\u20AC\"), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, \"Skupaj: \", price + postage, \" \\u20AC\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btnb\",\n      onClick: this.handleClickProceed,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }\n    }, \"NADALJUJ NA PLA\\u010CILO\"));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    loggedInUser: state.loggedInUser,\n    loggedInUserId: state.loggedInUserId,\n    order: state.order //TEGA V BISTVU NE RABIM\n\n  };\n};\n\nexport default connect(mapStateToProps)(SumForSeller);","map":{"version":3,"sources":["/home/katja/REACT/test-app/src/pages/ShoppingCart/SumForSeller.jsx"],"names":["React","connect","Redirect","SumForSeller","Component","constructor","props","abortController","AbortController","handleClickProceed","fetch","signal","method","headers","body","JSON","stringify","type","ids","then","res","json","available","setState","fetching","console","log","state","catch","e","error","message","componentWillUnmount","abort","render","weight","sum","price","postage","backgroundColor","padding","margin","borderBottom","borderTop","mapStateToProps","loggedInUser","loggedInUserId","order"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport {Redirect} from 'react-router-dom';\n\nclass SumForSeller extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            fetching: true,\n            available: true\n        };\n\n    }\n\n    abortController = new AbortController();\n\n    handleClickProceed = () => {\n        fetch('/sessionorder', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                type: 1,\n                ids: this.props.ids\n            })\n        }).then(res => res.json())\n        .then((res) => {if(res.available === '0') {this.setState({fetching: false, available: false}, () => console.log(this.state))}\n                        else {this.setState({fetching: false}, () => console.log(this.state))}})\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    render() {\n        const weight = this.props.sum.weight;\n        const price = this.props.sum.price;\n        let postage = weight < 100 ? 2 : 3;\n    \n        if(!this.state.fetching && this.state.available) {\n            return <Redirect to = '/shoppingcart/placeorder'></Redirect>\n        }\n        else if(!this.state.available) {\n            return (\n            <div style = {{backgroundColor: 'rgb(255,255,255,0.8)', padding: '10px', margin: '0 auto', borderBottom: '10px solid black', borderTop: '2px dotted black'}}>\n                <h3>OPROSTITE, EDEN ALI VEČ IZDELKOV NI VEČ NA VOLJO</h3>\n            </div>\n            )\n        }\n        else return (\n            <div style = {{backgroundColor: 'rgb(255,255,255,0.8)', padding: '10px', margin: '0 auto', borderBottom: '10px solid black', borderTop: '2px dotted black'}}>\n                <h3>Cena: {price} €</h3>\n                <h4>Poštnina: {postage} €</h4>\n                <h3>Skupaj: {price + postage} €</h3>\n                <button className = 'btnb' onClick = {this.handleClickProceed}>NADALJUJ NA PLAČILO</button>\n            </div>\n        )\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        loggedInUser: state.loggedInUser,\n        loggedInUserId: state.loggedInUserId,\n        order: state.order //TEGA V BISTVU NE RABIM\n    };\n  };\n  \nexport default connect(mapStateToProps) (SumForSeller);"]},"metadata":{},"sourceType":"module"}
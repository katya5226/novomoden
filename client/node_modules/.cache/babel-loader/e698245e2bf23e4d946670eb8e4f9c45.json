{"ast":null,"code":"import axios from 'axios'; //UploadPage.jsx, EditPage.jsx\n\nexport function doUpload(type, selection, userId, user, signal, adId, photos) {\n  if (photos) {\n    const data = new FormData();\n    const files = photos.map(photo => {\n      return photo.file;\n    });\n\n    for (let i = 0; i < files.length; i++) {\n      data.append('file', files[i]);\n    }\n\n    for (let i = 0; i < files.length; i++) {\n      data.append('fileName' + (i + 1), files[i].name);\n    }\n\n    const crops = photos.map(photo => {\n      return photo.crop;\n    });\n\n    for (let i = 0; i < crops.length; i++) {\n      data.append('width' + (i + 1), crops[i].width);\n      data.append('height' + (i + 1), crops[i].height);\n      data.append('left' + (i + 1), crops[i].x);\n      data.append('top' + (i + 1), crops[i].y);\n    }\n\n    Object.keys(selection).forEach(key => {\n      data.append(key, selection[key]);\n    });\n    data.append('userId', userId);\n    data.append('userName', user);\n    data.append('type', type);\n    data.append('adId', adId); //http://185.185.41.168/:4007\n\n    return axios.post(\"/uploadListing\", data, {\n      cancelToken: signal.token\n    });\n  } else {\n    return fetch('/editListing', {\n      signal: signal,\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify({\n        selection,\n        userId: userId,\n        userName: user,\n        type: type,\n        adId: adId\n      })\n    });\n  }\n} //SelectForms.jsx\n\nexport function findIndex(array, nameWeAreLookingFor) {\n  for (let i = 0; i < array.length; i++) {\n    if (array[i].label === nameWeAreLookingFor) return i;\n  }\n\n  return 0;\n}\nexport function findIndexByValue(array, nameWeAreLookingFor) {\n  for (let i = 0; i < array.length; i++) {\n    if (array[i].value === nameWeAreLookingFor) return i;\n  }\n\n  return 0;\n}","map":{"version":3,"sources":["/home/katni/REACT/test-app/src/functions/index.js"],"names":["axios","doUpload","type","selection","userId","user","signal","adId","photos","data","FormData","files","map","photo","file","i","length","append","name","crops","crop","width","height","x","y","Object","keys","forEach","key","post","cancelToken","token","fetch","method","headers","body","JSON","stringify","userName","findIndex","array","nameWeAreLookingFor","label","findIndexByValue","value"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\n//UploadPage.jsx, EditPage.jsx\n\nexport function doUpload(type, selection, userId, user, signal, adId, photos) {\n\n    if(photos) {\n        const data = new FormData();\n\n        const files = photos.map(photo => {\n            return photo.file;\n        })\n        for(let i = 0; i<files.length; i++) {\n            data.append('file', files[i]);\n        }\n        for(let i = 0; i<files.length; i++) {\n            data.append('fileName' + (i+1), files[i].name);\n        }\n\n        const crops = photos.map(photo => {\n            return photo.crop;\n        })\n        for(let i = 0; i<crops.length; i++) {\n            data.append('width' + (i+1), crops[i].width);\n            data.append('height' + (i+1), crops[i].height);\n            data.append('left' + (i+1), crops[i].x);\n            data.append('top' + (i+1), crops[i].y);\n        }\n\n        Object.keys(selection).forEach(key => {\n            data.append(key, selection[key]);\n        });\n\n        data.append('userId', userId);\n        data.append('userName', user);\n        data.append('type', type);\n        data.append('adId', adId);\n\n        //http://185.185.41.168/:4007\n\n        return axios.post(\"/uploadListing\", data, {\n            cancelToken: signal.token})\n    } else {\n        return fetch('/editListing', {\n            signal: signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                selection,\n                userId: userId,\n                userName: user,\n                type: type,\n                adId: adId\n            })\n        })\n    }\n}\n\n\n//SelectForms.jsx\n\nexport function findIndex(array, nameWeAreLookingFor) {\n    for(let i = 0; i<array.length; i++) {\n        if(array[i].label === nameWeAreLookingFor) return i;\n    }\n    return 0;\n}\n\nexport function findIndexByValue(array, nameWeAreLookingFor) {\n    for(let i = 0; i<array.length; i++) {\n        if(array[i].value === nameWeAreLookingFor) return i;\n    }\n    return 0;\n}"]},"metadata":{},"sourceType":"module"}
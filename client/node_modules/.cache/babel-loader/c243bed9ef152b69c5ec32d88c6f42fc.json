{"ast":null,"code":"var _jsxFileName = \"/home/katja/REACT/test-app/src/pages/Support/ContentSupport.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport UpperLine from '../../components/UpperLine';\nimport NavBar from '../../components/NavBar';\nimport AdSpace from '../../components/AdSpace';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport '../../App.css';\n\nclass ContentSupport extends React.Component {\n  constructor(props) {\n    super(props);\n    this.abortController = new AbortController();\n\n    this.typeBtnclick = event => {\n      event.preventDefault();\n      const id = parseInt(event.target.id);\n      this.setState({\n        questionType: id,\n        warning: ''\n      });\n    };\n\n    this.updateMsg = event => {\n      event.preventDefault();\n      const {\n        value\n      } = event.target;\n      this.setState({\n        msg: value\n      });\n    };\n\n    this.updateOrderNumber = event => {\n      event.preventDefault();\n      const {\n        value\n      } = event.target;\n      this.setState({\n        orderNumber: value\n      });\n    };\n\n    this.onClickSend = () => {\n      if (this.state.questionType === 3 && this.state.orderNumber) {\n        if (this.state.orderNumber) {\n          fetch('/reclamation', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n              userId: this.props.loggedInUserId,\n              msg: this.state.msg,\n              orderNumber: parseInt(this.state.orderNumber)\n            })\n          }).then(res => res.json()).then(res => res.success && this.setState({\n            success: true\n          })).catch(e => console.error(\"Critical failure: \" + e.message));\n        } else this.setState({\n          warning: \"Napačna številka naročila.\"\n        });\n      } else {\n        fetch('/ticketroutes', {\n          signal: this.abortController.signal,\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n          },\n          body: JSON.stringify({\n            typect: 'content',\n            questionType: this.state.questionType,\n            userId: this.props.loggedInUserId,\n            msg: this.state.msg\n          })\n        }).then(res => res.json()).then(res => res.success && this.setState({\n          success: true\n        })).catch(e => console.error(\"Critical failure: \" + e.message));\n      }\n    };\n\n    this.reclamationDiv = () => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          textAlign: \"left\",\n          color: \"white\",\n          fontWeight: \"bold\",\n          fontSize: \"large\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }\n      }, \"REKLAMACIJA\"), /*#__PURE__*/React.createElement(\"input\", {\n        placeholder: \"\\u0160tevilka naro\\u010Dila\",\n        onChange: this.updateOrderNumber,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }\n      }));\n    };\n\n    this.renderSwitch = (userId, success) => {\n      if (userId === 0 && !success) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"white-back\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 20\n          }\n        }, /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 30\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 35\n          }\n        }), /*#__PURE__*/React.createElement(\"h2\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }\n        }, \"PROSIMO, DA SE PRED ODDAJO VPRA\\u0160ANJA PRIJAVITE.\"), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 30\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 35\n          }\n        }));\n      } else if (success) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"white-back\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 20\n          }\n        }, /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 30\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 35\n          }\n        }), /*#__PURE__*/React.createElement(\"h2\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }\n        }, \"HVALA ZA ODDANO VPRA\\u0160ANJE. ODGOVORILI VAM BOMO PO E-PO\\u0160TI V NAJKRAJ\\u0160EM MO\\u017DNEM \\u010CASU.\"), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 30\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 35\n          }\n        }));\n      } else return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: 'inline-block'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        id: 1,\n        className: \"support_btn\",\n        onClick: this.typeBtnclick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 29\n        }\n      }, \"VPRA\\u0160ANJE V ZVEZI S PRODAJO\"), /*#__PURE__*/React.createElement(\"button\", {\n        id: 2,\n        className: \"support_btn\",\n        onClick: this.typeBtnclick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 29\n        }\n      }, \"VPRA\\u0160ANJE V ZVEZI Z NAKUPOM\"), /*#__PURE__*/React.createElement(\"button\", {\n        id: 3,\n        className: \"support_btn\",\n        onClick: this.typeBtnclick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 29\n        }\n      }, \"REKLAMACIJA IZDELKA\")), this.state.questionType ? /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\",\n          width: '60vw',\n          minHeight: '10px',\n          margin: \"0 auto\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 29\n        }\n      }), this.state.questionType === 1 && /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          textAlign: \"left\",\n          color: \"white\",\n          fontWeight: \"bold\",\n          fontSize: \"large\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 63\n        }\n      }, \"VPRA\\u0160ANJE V ZVEZI S PRODAJO\"), this.state.questionType === 2 && /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          textAlign: \"left\",\n          color: \"white\",\n          fontWeight: \"bold\",\n          fontSize: \"large\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 63\n        }\n      }, \"VPRA\\u0160ANJE V ZVEZI Z NAKUPOM\"), this.state.questionType === 3 && this.reclamationDiv(), /*#__PURE__*/React.createElement(\"textarea\", {\n        style: {\n          width: '60vw',\n          minHeight: '10px'\n        },\n        onChange: this.updateMsg,\n        value: this.state.msg,\n        placeholder: \"Va\\u0161e sporo\\u010Dilo\",\n        maxLength: \"990\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn\",\n        style: {\n          border: '2px solid #ccc'\n        },\n        onClick: this.onClickSend,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 29\n        }\n      }, \"PO\\u0160LJI\")) : null, /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }\n      }, this.state.warning));\n    };\n\n    this.state = {\n      questionType: 0,\n      msg: '',\n      orderNumber: 0,\n      success: false,\n      warning: ''\n    };\n  }\n\n  componentDidMount() {\n    function subStrAfterChars(str, char) {\n      return str.substring(str.indexOf(char) + 1);\n    }\n\n    window.location.href.includes(\"?\") && this.setState({\n      questionType: parseInt(subStrAfterChars(window.location.href, '?'))\n    });\n  }\n\n  componentWillUnmount() {\n    this.abortController.abort();\n  }\n\n  render() {\n    let userId = this.props.loggedInUserId;\n    let success = this.state.success;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(UpperLine, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(NavBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(BreadCrumbs, {\n      pathname: this.props.location.pathname,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }), this.renderSwitch(userId, success), /*#__PURE__*/React.createElement(AdSpace, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Bottom, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    loggedInUser: state.loggedInUser,\n    loggedInUserId: state.loggedInUserId\n  };\n};\n\nexport default connect(mapStateToProps)(ContentSupport);","map":{"version":3,"sources":["/home/katja/REACT/test-app/src/pages/Support/ContentSupport.jsx"],"names":["React","connect","UpperLine","NavBar","AdSpace","Header","Bottom","BreadCrumbs","ContentSupport","Component","constructor","props","abortController","AbortController","typeBtnclick","event","preventDefault","id","parseInt","target","setState","questionType","warning","updateMsg","value","msg","updateOrderNumber","orderNumber","onClickSend","state","fetch","signal","method","headers","body","JSON","stringify","userId","loggedInUserId","then","res","json","success","catch","e","console","error","message","typect","reclamationDiv","textAlign","color","fontWeight","fontSize","renderSwitch","display","width","minHeight","margin","border","componentDidMount","subStrAfterChars","str","char","substring","indexOf","window","location","href","includes","componentWillUnmount","abort","render","pathname","mapStateToProps","loggedInUser"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport UpperLine from '../../components/UpperLine';\nimport NavBar from '../../components/NavBar';\nimport AdSpace from '../../components/AdSpace';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport '../../App.css';\n\n\nclass ContentSupport extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            questionType: 0,\n            msg: '',\n            orderNumber: 0,\n            success: false,\n            warning:''\n\t\t};\n    }\n\n    abortController = new AbortController();\n\n    componentDidMount() {\n        function subStrAfterChars(str, char) {\n            return str.substring(str.indexOf(char) + 1);\n        }\n        window.location.href.includes(\"?\") &&\n        this.setState({questionType: parseInt(subStrAfterChars(window.location.href, '?'))});\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    typeBtnclick = (event) => {\n        event.preventDefault();\n        const id = parseInt(event.target.id);\n        this.setState({questionType: id, warning: ''});\n    }\n\n    updateMsg = (event) => {\n        event.preventDefault();\n        const {value} = event.target;\n        this.setState({msg: value});\n    }\n\n    updateOrderNumber = (event) => {\n        event.preventDefault();\n        const {value} = event.target;\n        this.setState({orderNumber: value});\n    }\n\n    onClickSend = () => {\n        if(this.state.questionType === 3 && this.state.orderNumber) {\n            if(this.state.orderNumber) {\n                fetch('/reclamation', {\n                    signal: this.abortController.signal,\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Accept': 'application/json'\n                    },\n                    body: JSON.stringify({\n                        userId: this.props.loggedInUserId,\n                        msg: this.state.msg,\n                        orderNumber: parseInt(this.state.orderNumber)\n                    })\n                }).then(res => res.json())\n                .then(res => res.success && this.setState({success: true}))\n                .catch(e => console.error(\"Critical failure: \" + e.message));\n            }\n            else this.setState({warning: \"Napačna številka naročila.\"})\n        }\n        else {\n            fetch('/ticketroutes', {\n                signal: this.abortController.signal,\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json'\n                },\n                body: JSON.stringify({\n                    typect: 'content',\n                    questionType: this.state.questionType,\n                    userId: this.props.loggedInUserId,\n                    msg: this.state.msg\n                })\n            }).then(res => res.json())\n            .then(res => res.success && this.setState({success: true}))\n            .catch(e => console.error(\"Critical failure: \" + e.message));\n        }\n    }\n\n    reclamationDiv = () => {\n        return (\n            <div>\n                <br/>\n                <p style={{textAlign: \"left\", color:\"white\", fontWeight:\"bold\", fontSize:\"large\"}}>REKLAMACIJA</p>\n                <input\n                    placeholder=\"Številka naročila\"\n                    onChange={this.updateOrderNumber}>\n                </input>\n            </div>\n        )\n    }\n\n    renderSwitch = (userId, success) => {\n        if (userId === 0 && !success) {\n            return <div className = 'white-back'>\n                        <br/><br/><br/>\n                        <h2>PROSIMO, DA SE PRED ODDAJO VPRAŠANJA PRIJAVITE.</h2>\n                        <br/><br/><br/>\n                    </div>\n        }\n        else if (success) {\n            return <div className = 'white-back'>\n                        <br/><br/><br/>\n                        <h2>HVALA ZA ODDANO VPRAŠANJE. ODGOVORILI VAM BOMO PO E-POŠTI V NAJKRAJŠEM MOŽNEM ČASU.</h2>\n                        <br/><br/><br/>\n                    </div>\n        }\n        else return <div>\n                        <div style = {{display: 'inline-block'}}>\n                            <button id = {1} className = 'support_btn' onClick = {this.typeBtnclick}>VPRAŠANJE V ZVEZI S PRODAJO</button>\n                            <button id = {2} className = 'support_btn' onClick = {this.typeBtnclick}>VPRAŠANJE V ZVEZI Z NAKUPOM</button>\n                            <button id = {3} className = 'support_btn' onClick = {this.typeBtnclick}>REKLAMACIJA IZDELKA</button>\n                        </div>\n                        {this.state.questionType ?\n                        <div style={{textAlign: \"center\", width: '60vw', minHeight: '10px', margin:\"0 auto\"}}>\n                            <br/>\n                            {this.state.questionType === 1 && <p style={{textAlign: \"left\", color:\"white\", fontWeight:\"bold\", fontSize:\"large\"}}>VPRAŠANJE V ZVEZI S PRODAJO</p>}\n                            {this.state.questionType === 2 && <p style={{textAlign: \"left\", color:\"white\", fontWeight:\"bold\", fontSize:\"large\"}}>VPRAŠANJE V ZVEZI Z NAKUPOM</p>}\n                            {this.state.questionType === 3 && this.reclamationDiv()}\n                            <textarea\n                                style={{width: '60vw', minHeight: '10px'}}\n                                onChange={this.updateMsg}\n                                value={this.state.msg}\n                                placeholder=\"Vaše sporočilo\"\n                                maxLength=\"990\">\n                            </textarea>\n                            <br/>\n                            <button className = 'btn' style = {{border: '2px solid #ccc'}} onClick = {this.onClickSend}>POŠLJI</button>\n                        </div> : null}\n                        <p style={{color:\"red\"}}>{this.state.warning}</p>\n                    </div>\n    } \n\n\n    render() {\n\n        let userId = this.props.loggedInUserId;\n        let success = this.state.success;\n\n            return (\n            <div className=\"App\">\n                <UpperLine/>\n                <Header/>\n                <NavBar/>\n                <BreadCrumbs pathname = {this.props.location.pathname}/>\n                {this.renderSwitch(userId, success)}\n                <AdSpace/>\n                <Bottom/>\n            </div>)\n\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId,\n    };\n  };\n\nexport default connect(mapStateToProps) (ContentSupport);"]},"metadata":{},"sourceType":"module"}
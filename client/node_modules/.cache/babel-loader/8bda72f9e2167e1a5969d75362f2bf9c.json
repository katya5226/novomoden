{"ast":null,"code":"import axios from'axios';//UploadPage.jsx, EditPage.jsx\nexport function doUpload(type,selection,userId,user,signal,adId,photos){if(photos){var data=new FormData();var files=photos.map(function(photo){return photo.file;});for(var i=0;i<files.length;i++){data.append('file',files[i]);}for(var _i=0;_i<files.length;_i++){data.append('fileName'+(_i+1),files[_i].name);}var crops=photos.map(function(photo){return photo.crop;});for(var _i2=0;_i2<crops.length;_i2++){data.append('width'+(_i2+1),crops[_i2].width);data.append('height'+(_i2+1),crops[_i2].height);data.append('left'+(_i2+1),crops[_i2].x);data.append('top'+(_i2+1),crops[_i2].y);}Object.keys(selection).forEach(function(key){data.append(key,selection[key]);});data.append('userId',userId);data.append('userName',user);data.append('type',type);data.append('adId',adId);return axios.post(\"http://185.185.41.168/:4007/uploadListing\",data,{cancelToken:signal.token});}else{return fetch('/editListing',{signal:signal,method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify({selection:selection,userId:userId,userName:user,type:type,adId:adId})});}}//SelectForms.jsx\nexport function findIndex(array,nameWeAreLookingFor){for(var i=0;i<array.length;i++){if(array[i].label===nameWeAreLookingFor)return i;}return 0;}export function findIndexByValue(array,nameWeAreLookingFor){for(var i=0;i<array.length;i++){if(array[i].value===nameWeAreLookingFor)return i;}return 0;}","map":{"version":3,"sources":["/home/katni/REACT/test-app/src/functions/index.js"],"names":["axios","doUpload","type","selection","userId","user","signal","adId","photos","data","FormData","files","map","photo","file","i","length","append","name","crops","crop","width","height","x","y","Object","keys","forEach","key","post","cancelToken","token","fetch","method","headers","body","JSON","stringify","userName","findIndex","array","nameWeAreLookingFor","label","findIndexByValue","value"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\n//UploadPage.jsx, EditPage.jsx\n\nexport function doUpload(type, selection, userId, user, signal, adId, photos) {\n\n    if(photos) {\n        const data = new FormData();\n\n        const files = photos.map(photo => {\n            return photo.file;\n        })\n        for(let i = 0; i<files.length; i++) {\n            data.append('file', files[i]);\n        }\n        for(let i = 0; i<files.length; i++) {\n            data.append('fileName' + (i+1), files[i].name);\n        }\n\n        const crops = photos.map(photo => {\n            return photo.crop;\n        })\n        for(let i = 0; i<crops.length; i++) {\n            data.append('width' + (i+1), crops[i].width);\n            data.append('height' + (i+1), crops[i].height);\n            data.append('left' + (i+1), crops[i].x);\n            data.append('top' + (i+1), crops[i].y);\n        }\n\n        Object.keys(selection).forEach(key => {\n            data.append(key, selection[key]);\n        });\n\n        data.append('userId', userId);\n        data.append('userName', user);\n        data.append('type', type);\n        data.append('adId', adId);\n\n        return axios.post(\"http://185.185.41.168/:4007/uploadListing\", data, {\n            cancelToken: signal.token})\n    } else {\n        return fetch('/editListing', {\n            signal: signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                selection,\n                userId: userId,\n                userName: user,\n                type: type,\n                adId: adId\n            })\n        })\n    }\n}\n\n\n//SelectForms.jsx\n\nexport function findIndex(array, nameWeAreLookingFor) {\n    for(let i = 0; i<array.length; i++) {\n        if(array[i].label === nameWeAreLookingFor) return i;\n    }\n    return 0;\n}\n\nexport function findIndexByValue(array, nameWeAreLookingFor) {\n    for(let i = 0; i<array.length; i++) {\n        if(array[i].value === nameWeAreLookingFor) return i;\n    }\n    return 0;\n}"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/katja/REACT/test-app/src/pages/PayTest.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { logIn, logOut } from '../redux/actions';\nimport UpperLine from '../components/UpperLine';\nimport NavBar from '../components/NavBar';\nimport AdSpace from '../components/AdSpace';\nimport Header from '../components/Header';\nimport Bottom from '../components/Bottom';\nimport BreadCrumbs from '../components/BreadCrumbs';\nimport '../App.css';\n\nclass PayTest extends React.Component {\n  constructor(props) {\n    super(props);\n    this.abortController = new AbortController();\n\n    this.handleChange = e => {\n      e.preventDefault();\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleClickPay = e => {\n      e.preventDefault();\n      fetch('/testpay', {\n        signal: this.abortController.signal,\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          buyer: this.state.buyer,\n          seller: this.state.seller\n        })\n      }).then(res => res.json()).then(res => this.setState({\n        redirectUrl: res.redirectUrl\n      })).catch(e => console.error(\"Critical failure: \" + e.message));\n    };\n\n    this.state = {\n      buyer: 0,\n      seller: 0,\n      redirectUrl: ''\n    };\n  }\n\n  componentWillUnmount() {\n    this.abortController.abort();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(UpperLine, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(NavBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(BreadCrumbs, {\n      pathname: this.props.location.pathname,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        maxWidth: '200px',\n        margin: '0 Auto'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleClickPay,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      name: \"buyer\",\n      value: this.state.buyer,\n      placeholder: \"ID PLA\\u010CNIKA\",\n      onChange: this.handleChange,\n      maxLength: \"30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      name: \"seller\",\n      value: this.state.seller,\n      placeholder: \"ID PREJEMNIKA\",\n      onChange: this.handleChange,\n      maxLength: \"30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btnb\",\n      id: \"pay\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, \"PLA\\u010CAJ\"))), this.state.redirectUrl !== '' && /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: 'white'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 51\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 80\n      }\n    }, this.state.redirectUrl)), /*#__PURE__*/React.createElement(AdSpace, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Bottom, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    loggedInUser: state.loggedInUser,\n    loggedInUserId: state.loggedInUserId\n  };\n};\n\nconst mapDispatchToProps = {\n  logIn: logIn,\n  logOut: logOut\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(PayTest);","map":{"version":3,"sources":["/home/katja/REACT/test-app/src/pages/PayTest.jsx"],"names":["React","connect","logIn","logOut","UpperLine","NavBar","AdSpace","Header","Bottom","BreadCrumbs","PayTest","Component","constructor","props","abortController","AbortController","handleChange","e","preventDefault","setState","target","name","value","handleClickPay","fetch","signal","method","headers","body","JSON","stringify","buyer","state","seller","then","res","json","redirectUrl","catch","console","error","message","componentWillUnmount","abort","render","location","pathname","maxWidth","margin","color","mapStateToProps","loggedInUser","loggedInUserId","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { logIn, logOut } from '../redux/actions'\nimport UpperLine from '../components/UpperLine';\nimport NavBar from '../components/NavBar';\nimport AdSpace from '../components/AdSpace';\nimport Header from '../components/Header';\nimport Bottom from '../components/Bottom';\nimport BreadCrumbs from '../components/BreadCrumbs';\nimport '../App.css';\n\n\n\nclass PayTest extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            buyer: 0,\n            seller: 0,\n            redirectUrl: ''\n\t\t};\n    }\n\n    abortController = new AbortController();\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    handleChange = (e) => {\n        e.preventDefault();\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n\n    }\n\n    handleClickPay = (e) =>{\n        e.preventDefault();\n\n        fetch('/testpay', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                buyer: this.state.buyer,\n                seller: this.state.seller\n            })\n        })\n        .then(res => res.json())\n        .then(res => this.setState({redirectUrl: res.redirectUrl}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n\n    }\n\n\n\n    render() {\n\n        return (\n            <div className=\"App\">\n                <UpperLine/>\n                <Header/>\n                <NavBar/>\n                <BreadCrumbs pathname = {this.props.location.pathname}/>\n                \n                <div style = {{maxWidth: '200px', margin: '0 Auto'}}>\n                <form onSubmit={this.handleClickPay}>\n                    <input\n                        type=\"number\"\n                        name=\"buyer\"\n                        value={this.state.buyer}\n                        placeholder=\"ID PLAČNIKA\"\n                        onChange={this.handleChange}\n                        maxLength=\"30\">\n                    </input>\n                    <input\n                        type=\"number\"\n                        name=\"seller\"\n                        value={this.state.seller}\n                        placeholder=\"ID PREJEMNIKA\"\n                        onChange={this.handleChange}\n                        maxLength=\"30\">\n                    </input>\n                    <button type = 'submit' className = 'btnb' id = 'pay'>PLAČAJ</button>\n                </form>\n                </div>\n\n                {this.state.redirectUrl !== '' && <p style = {{color:'white'}}><b>{this.state.redirectUrl}</b></p>}\n\n                <AdSpace/>\n                <Bottom/>\n            </div>\n        );\n\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId,\n    };\n  };\n  \n  const mapDispatchToProps = {\n    logIn: logIn,\n    logOut: logOut\n  };\n\nexport default connect(mapStateToProps, mapDispatchToProps) (PayTest);"]},"metadata":{},"sourceType":"module"}
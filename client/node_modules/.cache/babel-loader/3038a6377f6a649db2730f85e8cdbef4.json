{"ast":null,"code":"var _jsxFileName = \"/home/katja/REACT/test-app/src/pages/Publish/UploadEditPage.jsx\";\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport '../../App.css';\nimport queryString from 'query-string';\nimport UploadPage from './UploadPage';\nimport EditPage from './EditPage';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport NavBar from '../../components/NavBar';\nimport ImgUpload from './ImgUpload';\nimport SelectForms from './SelectForms';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport ClipLoader from 'react-spinners/ClipLoader';\n\nclass UploadEditPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.abortController = new AbortController();\n    this.state = {\n      userId: '0'\n    };\n  }\n\n  componentWillUnmount() {\n    this.abortController.abort();\n  }\n\n  componentDidMount() {\n    fetch('/sessionroutes', {\n      signal: this.abortController.signal\n    }).then(res => res.json()).then(res => this.setState({\n      userId: res.userId\n    })).catch(e => console.error(\"Critical failure: \" + e.message));\n  }\n\n  render() {\n    const adId = queryString.stringify(queryString.parse(this.props.location.search));\n\n    if (this.state.userId === '0') {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(UpperLine, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(NavBar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(BreadCrumbs, {\n        pathname: this.props.location.pathname,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          backgroundColor: 'rgb(255,255,255,0.5)'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 30\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 35\n        }\n      }), /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }\n      }, \"PROSIMO PRIJAVITE SE V SISTEM!\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 30\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 35\n        }\n      })), /*#__PURE__*/React.createElement(Bottom, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }\n      }));\n    } else if (adId !== '') {\n      return /*#__PURE__*/React.createElement(EditPage, {\n        adId: adId,\n        render: ({\n          state,\n          onSelectionSaved,\n          onImageSaved,\n          handleUpload,\n          srcsToPass\n        }) => {\n          if (state.editStatus) {\n            return /*#__PURE__*/React.createElement(\"div\", {\n              className: \"App\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 27\n              }\n            }, /*#__PURE__*/React.createElement(\"br\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 29\n              }\n            }), /*#__PURE__*/React.createElement(\"br\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 34\n              }\n            }), /*#__PURE__*/React.createElement(\"h1\", {\n              style: {\n                backgroundColor: 'rgb(255, 255, 255, 0.5)'\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 29\n              }\n            }, \"USPE\\u0160NO STE POPRAVILI OGLAS!\"), /*#__PURE__*/React.createElement(NavLink, {\n              exact: true,\n              to: \"/user_page\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 29\n              }\n            }, /*#__PURE__*/React.createElement(\"button\", {\n              className: \"btn\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 62\n              }\n            }, \"NAZAJ NA MOJO STRAN\")));\n          } else if (srcsToPass !== 0) {\n            return /*#__PURE__*/React.createElement(\"div\", {\n              className: \"App\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 17\n              }\n            }, /*#__PURE__*/React.createElement(UpperLine, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 21\n              }\n            }), /*#__PURE__*/React.createElement(Header, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 21\n              }\n            }), /*#__PURE__*/React.createElement(BreadCrumbs, {\n              pathname: this.props.location.pathname,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 21\n              }\n            }), /*#__PURE__*/React.createElement(\"div\", {\n              style: {\n                display: \"flex\",\n                width: \"90vw\"\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 21\n              }\n            }, /*#__PURE__*/React.createElement(\"div\", {\n              className: \"sidenav\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 25\n              }\n            }), /*#__PURE__*/React.createElement(\"div\", {\n              style: {\n                width: \"100%\",\n                backgroundColor: 'rgb(255, 255, 255, 0.5)'\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 25\n              }\n            }, /*#__PURE__*/React.createElement(\"h1\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 29\n              }\n            }, \"POPRAVI OGLAS\"), /*#__PURE__*/React.createElement(\"br\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 29\n              }\n            }), /*#__PURE__*/React.createElement(SelectForms, {\n              callBackParent: onSelectionSaved,\n              saveAtt: state.saveAttempt,\n              adId: adId,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 29\n              }\n            }), /*#__PURE__*/React.createElement(\"br\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 29\n              }\n            }), /*#__PURE__*/React.createElement(\"p\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 29\n              }\n            }, \"OBDR\\u017DI TRENUTNE FOTOGRAFIJE:\"), /*#__PURE__*/React.createElement(\"br\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 29\n              }\n            }), /*#__PURE__*/React.createElement(\"img\", {\n              src: srcsToPass[0],\n              alt: \"image_one\",\n              height: \"200px\",\n              hspace: \"20\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 29\n              }\n            }), /*#__PURE__*/React.createElement(\"img\", {\n              src: srcsToPass[1],\n              alt: \"image_two\",\n              height: \"200px\",\n              hspace: \"20\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 29\n              }\n            }), /*#__PURE__*/React.createElement(\"img\", {\n              src: srcsToPass[2],\n              alt: \"image_three\",\n              height: \"200px\",\n              hspace: \"20\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 29\n              }\n            }), /*#__PURE__*/React.createElement(\"br\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 29\n              }\n            }), /*#__PURE__*/React.createElement(\"br\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 29\n              }\n            }), /*#__PURE__*/React.createElement(\"p\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 29\n              }\n            }, \"ALI IZBERI NOVE FOTOGRAFIJE:\"), /*#__PURE__*/React.createElement(ImgUpload, {\n              callBackParent: onImageSaved,\n              index: \"0\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 29\n              }\n            }), /*#__PURE__*/React.createElement(ImgUpload, {\n              callBackParent: onImageSaved,\n              index: \"1\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 29\n              }\n            }), /*#__PURE__*/React.createElement(ImgUpload, {\n              callBackParent: onImageSaved,\n              index: \"2\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 29\n              }\n            }), !state.loading && /*#__PURE__*/React.createElement(\"button\", {\n              className: \"btnb\",\n              onClick: handleUpload,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 48\n              }\n            }, \"SHRANI OGLAS\"), /*#__PURE__*/React.createElement(ClipLoader, {\n              size: 50,\n              color: \"#123abc\",\n              loading: state.loading,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 29\n              }\n            }), /*#__PURE__*/React.createElement(\"p\", {\n              style: {\n                color: \"red\"\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 29\n              }\n            }, state.warning))), /*#__PURE__*/React.createElement(Bottom, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 21\n              }\n            }));\n          } else return /*#__PURE__*/React.createElement(\"div\", {\n            className: \"App\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 32\n            }\n          }, /*#__PURE__*/React.createElement(\"h1\", {\n            style: {\n              backgroundColor: 'rgb(255, 255, 255, 0.5)'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 53\n            }\n          }, \"Something went wrong\"));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(UploadPage, {\n        adId: adId,\n        render: ({\n          state,\n          onSelectionSaved,\n          onImageSaved,\n          handleUpload\n        }) => {\n          if (state.uploadStatus) {\n            return /*#__PURE__*/React.createElement(\"div\", {\n              className: \"App\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 32\n              }\n            }, /*#__PURE__*/React.createElement(\"br\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 37\n              }\n            }), /*#__PURE__*/React.createElement(\"br\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 42\n              }\n            }), /*#__PURE__*/React.createElement(\"h1\", {\n              style: {\n                backgroundColor: 'rgb(255, 255, 255, 0.5)'\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 37\n              }\n            }, \"HVALA ZA ODDANI OGLAS!\"), /*#__PURE__*/React.createElement(NavLink, {\n              exact: true,\n              to: \"/user_page\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 37\n              }\n            }, /*#__PURE__*/React.createElement(\"button\", {\n              className: \"btn\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 70\n              }\n            }, \"NAZAJ NA MOJO STRAN\")));\n          } else {\n            return /*#__PURE__*/React.createElement(\"div\", {\n              className: \"App\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 25\n              }\n            }, /*#__PURE__*/React.createElement(UpperLine, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 25\n              }\n            }), /*#__PURE__*/React.createElement(Header, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 25\n              }\n            }), /*#__PURE__*/React.createElement(BreadCrumbs, {\n              pathname: this.props.location.pathname,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 25\n              }\n            }), /*#__PURE__*/React.createElement(\"div\", {\n              style: {\n                display: \"flex\",\n                width: \"90vw\"\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 25\n              }\n            }, /*#__PURE__*/React.createElement(\"div\", {\n              className: \"sidenav\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 29\n              }\n            }), /*#__PURE__*/React.createElement(\"div\", {\n              style: {\n                width: \"100%\",\n                backgroundColor: 'rgb(255, 255, 255, 0.5)'\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 29\n              }\n            }, /*#__PURE__*/React.createElement(\"h1\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 33\n              }\n            }, \"OBJAVI OGLAS\"), /*#__PURE__*/React.createElement(\"br\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 33\n              }\n            }), /*#__PURE__*/React.createElement(SelectForms, {\n              callBackParent: onSelectionSaved,\n              saveAtt: state.saveAttempt,\n              adId: adId,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 33\n              }\n            }), /*#__PURE__*/React.createElement(\"br\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 33\n              }\n            }), /*#__PURE__*/React.createElement(\"p\", {\n              style: {\n                fontWeight: 'bold'\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 33\n              }\n            }, \"Nalo\\u017Ei tri fotografije (prva fotografija je naslovna)\"), /*#__PURE__*/React.createElement(ImgUpload, {\n              callBackParent: onImageSaved,\n              index: \"0\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 33\n              }\n            }), /*#__PURE__*/React.createElement(ImgUpload, {\n              callBackParent: onImageSaved,\n              index: \"1\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 33\n              }\n            }), /*#__PURE__*/React.createElement(ImgUpload, {\n              callBackParent: onImageSaved,\n              index: \"2\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 33\n              }\n            }), !state.loading && /*#__PURE__*/React.createElement(\"button\", {\n              className: \"btnb\",\n              onClick: handleUpload,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 52\n              }\n            }, \"SHRANI OGLAS\"), /*#__PURE__*/React.createElement(ClipLoader, {\n              size: 50,\n              color: \"#123abc\",\n              loading: state.loading,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 33\n              }\n            }), /*#__PURE__*/React.createElement(\"p\", {\n              style: {\n                color: \"red\"\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 33\n              }\n            }, state.warning))), /*#__PURE__*/React.createElement(Bottom, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 25\n              }\n            }));\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 20\n        }\n      });\n    }\n  }\n\n}\n\nexport default UploadEditPage;","map":{"version":3,"sources":["/home/katja/REACT/test-app/src/pages/Publish/UploadEditPage.jsx"],"names":["React","NavLink","queryString","UploadPage","EditPage","UpperLine","Header","NavBar","ImgUpload","SelectForms","Bottom","BreadCrumbs","ClipLoader","UploadEditPage","Component","constructor","props","abortController","AbortController","state","userId","componentWillUnmount","abort","componentDidMount","fetch","signal","then","res","json","setState","catch","e","console","error","message","render","adId","stringify","parse","location","search","pathname","backgroundColor","onSelectionSaved","onImageSaved","handleUpload","srcsToPass","editStatus","display","width","saveAttempt","loading","color","warning","uploadStatus","fontWeight"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,OAAO,eAAP;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,WAAP,MAAwB,8BAAxB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;;AAIA,MAAMC,cAAN,SAA6Bb,KAAK,CAACc,SAAnC,CAA6C;AAEzCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACrB,UAAMA,KAAN;AADqB,SAOnBC,eAPmB,GAOD,IAAIC,eAAJ,EAPC;AAErB,SAAKC,KAAL,GAAa;AACHC,MAAAA,MAAM,EAAE;AADL,KAAb;AAIG;;AAGDC,EAAAA,oBAAoB,GAAG;AACnB,SAAKJ,eAAL,CAAqBK,KAArB;AACH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,KAAK,CAAC,gBAAD,EAAmB;AAACC,MAAAA,MAAM,EAAE,KAAKR,eAAL,CAAqBQ;AAA9B,KAAnB,CAAL,CACCC,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEMC,GAAG,IAAI,KAAKE,QAAL,CAAc;AAACT,MAAAA,MAAM,EAAEO,GAAG,CAACP;AAAb,KAAd,CAFb,EAGCU,KAHD,CAGOC,CAAC,IAAIC,OAAO,CAACC,KAAR,CAAc,uBAAuBF,CAAC,CAACG,OAAvC,CAHZ;AAIH;;AAEDC,EAAAA,MAAM,GAAG;AAEL,UAAMC,IAAI,GAAGlC,WAAW,CAACmC,SAAZ,CAAsBnC,WAAW,CAACoC,KAAZ,CAAkB,KAAKtB,KAAL,CAAWuB,QAAX,CAAoBC,MAAtC,CAAtB,CAAb;;AAEA,QAAG,KAAKrB,KAAL,CAAWC,MAAX,KAAsB,GAAzB,EAA8B;AAC1B,0BACI;AAAK,QAAA,SAAS,EAAG,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,eAEI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,eAGI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,eAII,oBAAC,WAAD;AAAa,QAAA,QAAQ,EAAI,KAAKJ,KAAL,CAAWuB,QAAX,CAAoBE,QAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,eAKI;AAAK,QAAA,KAAK,EAAI;AAACC,UAAAA,eAAe,EAAE;AAAlB,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,eACS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADT,eACc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADd,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,eAGS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHT,eAGc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHd,CALJ,eAUI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVJ,CADJ;AAcH,KAfD,MAgBK,IAAGN,IAAI,KAAK,EAAZ,EAAgB;AACjB,0BAAQ,oBAAC,QAAD;AAAU,QAAA,IAAI,EAAIA,IAAlB;AAAwB,QAAA,MAAM,EAAI,CAAC;AAACjB,UAAAA,KAAD;AAAQwB,UAAAA,gBAAR;AAA0BC,UAAAA,YAA1B;AAAwCC,UAAAA,YAAxC;AAAsDC,UAAAA;AAAtD,SAAD,KACvC;AAAC,cAAG3B,KAAK,CAAC4B,UAAT,EAAqB;AAClB,gCAAO;AAAK,cAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eACO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADP,eAEE;AAAI,cAAA,KAAK,EAAE;AAACL,gBAAAA,eAAe,EAAE;AAAlB,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAFF,eAGE,oBAAC,OAAD;AAAS,cAAA,KAAK,MAAd;AAAe,cAAA,EAAE,EAAG,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAiC;AAAQ,cAAA,SAAS,EAAG,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAjC,CAHF,CAAP;AAKH,WANA,MAMM,IAAGI,UAAU,KAAK,CAAlB,EAAqB;AAC3B,gCACA;AAAK,cAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI,oBAAC,WAAD;AAAa,cAAA,QAAQ,EAAI,KAAK9B,KAAL,CAAWuB,QAAX,CAAoBE,QAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAK,cAAA,KAAK,EAAE;AAACO,gBAAAA,OAAO,EAAE,MAAV;AAAkBC,gBAAAA,KAAK,EAAE;AAAzB,eAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACI;AAAK,cAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,cAAA,KAAK,EAAE;AAACA,gBAAAA,KAAK,EAAE,MAAR;AAAgBP,gBAAAA,eAAe,EAAE;AAAjC,eAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI,oBAAC,WAAD;AAAa,cAAA,cAAc,EAAEC,gBAA7B;AAA+C,cAAA,OAAO,EAAGxB,KAAK,CAAC+B,WAA/D;AAA4E,cAAA,IAAI,EAAEd,IAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDALJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ,eAOI;AAAK,cAAA,GAAG,EAAEU,UAAU,CAAC,CAAD,CAApB;AAAyB,cAAA,GAAG,EAAC,WAA7B;AAAyC,cAAA,MAAM,EAAC,OAAhD;AAAwD,cAAA,MAAM,EAAC,IAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPJ,eAQI;AAAK,cAAA,GAAG,EAAEA,UAAU,CAAC,CAAD,CAApB;AAAyB,cAAA,GAAG,EAAC,WAA7B;AAAyC,cAAA,MAAM,EAAC,OAAhD;AAAwD,cAAA,MAAM,EAAC,IAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ,eASI;AAAK,cAAA,GAAG,EAAEA,UAAU,CAAC,CAAD,CAApB;AAAyB,cAAA,GAAG,EAAC,aAA7B;AAA2C,cAAA,MAAM,EAAC,OAAlD;AAA0D,cAAA,MAAM,EAAC,IAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATJ,eAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAVJ,eAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXJ,eAYI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAZJ,eAaI,oBAAC,SAAD;AAAW,cAAA,cAAc,EAAEF,YAA3B;AAAyC,cAAA,KAAK,EAAC,GAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAbJ,eAcI,oBAAC,SAAD;AAAW,cAAA,cAAc,EAAEA,YAA3B;AAAyC,cAAA,KAAK,EAAC,GAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAdJ,eAeI,oBAAC,SAAD;AAAW,cAAA,cAAc,EAAEA,YAA3B;AAAyC,cAAA,KAAK,EAAC,GAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAfJ,EAgBK,CAACzB,KAAK,CAACgC,OAAP,iBAAkB;AAAQ,cAAA,SAAS,EAAG,MAApB;AAA2B,cAAA,OAAO,EAAEN,YAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAhBvB,eAiBI,oBAAC,UAAD;AACI,cAAA,IAAI,EAAE,EADV;AAEI,cAAA,KAAK,EAAE,SAFX;AAGI,cAAA,OAAO,EAAE1B,KAAK,CAACgC,OAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAjBJ,eAsBI;AAAG,cAAA,KAAK,EAAE;AAACC,gBAAAA,KAAK,EAAE;AAAR,eAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA2BjC,KAAK,CAACkC,OAAjC,CAtBJ,CAFJ,CAJJ,eA+BI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA/BJ,CADA;AAkCE,WAnCI,MAmCE,oBAAO;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAqB;AAAI,YAAA,KAAK,EAAE;AAACX,cAAAA,eAAe,EAAE;AAAlB,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAArB,CAAP;AAAqH,SA1CzH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAR;AA4CH,KA7CI,MA6CE;AACH,0BAAO,oBAAC,UAAD;AAAY,QAAA,IAAI,EAAIN,IAApB;AAA0B,QAAA,MAAM,EAAI,CAAC;AAACjB,UAAAA,KAAD;AAAQwB,UAAAA,gBAAR;AAA0BC,UAAAA,YAA1B;AAAwCC,UAAAA;AAAxC,SAAD,KAA2D;AAClG,cAAG1B,KAAK,CAACmC,YAAT,EAAuB;AACf,gCAAO;AAAK,cAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADL,eACU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADV,eAEK;AAAI,cAAA,KAAK,EAAE;AAACZ,gBAAAA,eAAe,EAAE;AAAlB,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAFL,eAGK,oBAAC,OAAD;AAAS,cAAA,KAAK,MAAd;AAAe,cAAA,EAAE,EAAG,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAiC;AAAQ,cAAA,SAAS,EAAG,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAjC,CAHL,CAAP;AAKH,WANL,MAMW;AACH,gCACA;AAAK,cAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACA,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eAEA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFA,eAGA,oBAAC,WAAD;AAAa,cAAA,QAAQ,EAAI,KAAK1B,KAAL,CAAWuB,QAAX,CAAoBE,QAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHA,eAIA;AAAK,cAAA,KAAK,EAAE;AAACO,gBAAAA,OAAO,EAAE,MAAV;AAAkBC,gBAAAA,KAAK,EAAE;AAAzB,eAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACI;AAAK,cAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,cAAA,KAAK,EAAE;AAACA,gBAAAA,KAAK,EAAE,MAAR;AAAgBP,gBAAAA,eAAe,EAAE;AAAjC,eAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI,oBAAC,WAAD;AAAa,cAAA,cAAc,EAAEC,gBAA7B;AAA+C,cAAA,OAAO,EAAGxB,KAAK,CAAC+B,WAA/D;AAA4E,cAAA,IAAI,EAAEd,IAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKI;AAAG,cAAA,KAAK,EAAI;AAACmB,gBAAAA,UAAU,EAAE;AAAb,eAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4EALJ,eAMI,oBAAC,SAAD;AAAW,cAAA,cAAc,EAAEX,YAA3B;AAAyC,cAAA,KAAK,EAAC,GAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ,eAOI,oBAAC,SAAD;AAAW,cAAA,cAAc,EAAEA,YAA3B;AAAyC,cAAA,KAAK,EAAC,GAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPJ,eAQI,oBAAC,SAAD;AAAW,cAAA,cAAc,EAAEA,YAA3B;AAAyC,cAAA,KAAK,EAAC,GAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ,EASK,CAACzB,KAAK,CAACgC,OAAP,iBAAkB;AAAQ,cAAA,SAAS,EAAG,MAApB;AAA2B,cAAA,OAAO,EAAEN,YAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BATvB,eAUI,oBAAC,UAAD;AACI,cAAA,IAAI,EAAE,EADV;AAEI,cAAA,KAAK,EAAE,SAFX;AAGI,cAAA,OAAO,EAAE1B,KAAK,CAACgC,OAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAVJ,eAeI;AAAG,cAAA,KAAK,EAAE;AAACC,gBAAAA,KAAK,EAAE;AAAR,eAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA2BjC,KAAK,CAACkC,OAAjC,CAfJ,CAFJ,CAJA,eAwBA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAxBA,CADA;AA2BE;AACT,SApCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAsCC;AAER;;AAhIwC;;AAoI7C,eAAexC,cAAf","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport '../../App.css';\nimport queryString from 'query-string';\nimport UploadPage from './UploadPage';\nimport EditPage from './EditPage';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport NavBar from '../../components/NavBar';\nimport ImgUpload from './ImgUpload';\nimport SelectForms from './SelectForms';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport ClipLoader from 'react-spinners/ClipLoader';\n\n\n\nclass UploadEditPage extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            userId: '0'\n        };\n\n    }\n    abortController = new AbortController();\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    componentDidMount() {\n        fetch('/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => this.setState({userId: res.userId}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n    \n    render() {\n\n        const adId = queryString.stringify(queryString.parse(this.props.location.search));\n\n        if(this.state.userId === '0') {\n            return (\n                <div className = 'App'>\n                    <UpperLine/>\n                    <Header/>\n                    <NavBar/>\n                    <BreadCrumbs pathname = {this.props.location.pathname}/>\n                    <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                        <br/><br/><br/>\n                        <h2>PROSIMO PRIJAVITE SE V SISTEM!</h2>\n                        <br/><br/><br/>\n                    </div>\n                    <Bottom/>\n                </div>\n            )\n        }\n        else if(adId !== '') {\n            return  <EditPage adId = {adId} render = {({state, onSelectionSaved, onImageSaved, handleUpload, srcsToPass}) => \n               {if(state.editStatus) {\n                   return <div className=\"App\">\n                            <br/><br/>\n                            <h1 style={{backgroundColor: 'rgb(255, 255, 255, 0.5)'}}>USPEŠNO STE POPRAVILI OGLAS!</h1>\n                            <NavLink exact to = '/user_page'><button className = 'btn'>NAZAJ NA MOJO STRAN</button></NavLink>\n                        </div>\n               } else if(srcsToPass !== 0) {\n                return (\n                <div className=\"App\">\n                    <UpperLine/>\n                    <Header/>\n                    <BreadCrumbs pathname = {this.props.location.pathname}/>\n                    <div style={{display: \"flex\", width: \"90vw\"}}>\n                        <div className=\"sidenav\"></div>\n                        <div style={{width: \"100%\", backgroundColor: 'rgb(255, 255, 255, 0.5)'}}>\n                            <h1>POPRAVI OGLAS</h1>\n                            <br/>\n                            <SelectForms callBackParent={onSelectionSaved} saveAtt ={state.saveAttempt} adId={adId}/>\n                            <br/>\n                            <p>OBDRŽI TRENUTNE FOTOGRAFIJE:</p>\n                            <br/>\n                            <img src={srcsToPass[0]} alt=\"image_one\" height=\"200px\" hspace=\"20\"/>\n                            <img src={srcsToPass[1]} alt=\"image_two\" height=\"200px\" hspace=\"20\"/>\n                            <img src={srcsToPass[2]} alt=\"image_three\" height=\"200px\" hspace=\"20\"/>\n                            <br/>\n                            <br/>\n                            <p>ALI IZBERI NOVE FOTOGRAFIJE:</p>\n                            <ImgUpload callBackParent={onImageSaved} index='0'/>\n                            <ImgUpload callBackParent={onImageSaved} index='1'/>\n                            <ImgUpload callBackParent={onImageSaved} index='2'/>\n                            {!state.loading && <button className = 'btnb' onClick={handleUpload}>SHRANI OGLAS</button>}\n                            <ClipLoader\n                                size={50}\n                                color={\"#123abc\"}\n                                loading={state.loading}\n                            />\n                            <p style={{color: \"red\"}}>{state.warning}</p>\n                        </div>\n                    </div>\n                    <Bottom/>\n                </div>\n                )} else return <div className=\"App\"><h1 style={{backgroundColor: 'rgb(255, 255, 255, 0.5)'}}>Something went wrong</h1></div>}}\n                />\n        } else {\n            return <UploadPage adId = {adId} render = {({state, onSelectionSaved, onImageSaved, handleUpload}) => {\n                if(state.uploadStatus) {\n                        return <div className=\"App\">\n                                    <br/><br/>\n                                    <h1 style={{backgroundColor: 'rgb(255, 255, 255, 0.5)'}}>HVALA ZA ODDANI OGLAS!</h1>\n                                    <NavLink exact to = '/user_page'><button className = 'btn'>NAZAJ NA MOJO STRAN</button></NavLink>\n                                </div>\n                    } else {\n                        return (\n                        <div className=\"App\">\n                        <UpperLine/>\n                        <Header/>\n                        <BreadCrumbs pathname = {this.props.location.pathname}/>\n                        <div style={{display: \"flex\", width: \"90vw\"}}>\n                            <div className=\"sidenav\"></div>\n                            <div style={{width: \"100%\", backgroundColor: 'rgb(255, 255, 255, 0.5)'}}>\n                                <h1>OBJAVI OGLAS</h1>\n                                <br/>\n                                <SelectForms callBackParent={onSelectionSaved} saveAtt ={state.saveAttempt} adId={adId}/>\n                                <br/>\n                                <p style = {{fontWeight: 'bold'}}>Naloži tri fotografije (prva fotografija je naslovna)</p>\n                                <ImgUpload callBackParent={onImageSaved} index='0'/>\n                                <ImgUpload callBackParent={onImageSaved} index='1'/>\n                                <ImgUpload callBackParent={onImageSaved} index='2'/>\n                                {!state.loading && <button className = 'btnb' onClick={handleUpload}>SHRANI OGLAS</button>}\n                                <ClipLoader\n                                    size={50}\n                                    color={\"#123abc\"}\n                                    loading={state.loading}\n                                />\n                                <p style={{color: \"red\"}}>{state.warning}</p>\n                            </div>\n                        </div>\n                        <Bottom/>\n                        </div>\n                        )}\n                }}\n                />\n            }\n\n    }\n\n}\n\nexport default UploadEditPage"]},"metadata":{},"sourceType":"module"}
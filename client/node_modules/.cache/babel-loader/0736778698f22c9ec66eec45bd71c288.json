{"ast":null,"code":"var _jsxFileName = \"/home/katja/REACT/test-app/src/pages/Listings/SearchResults.jsx\";\nimport React from 'react';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport CategoryListings from './CategoryListings';\nimport NavBar from '../../components/NavBar';\nimport { findIndexByValue } from '../../functions/findindex';\nimport * as Constants from '../../constants';\n\nclass SearchResults extends React.Component {\n  constructor(props) {\n    super(props);\n    this.abortController = new AbortController();\n    this.state = {\n      prevProps: null,\n      ads: []\n    };\n  }\n\n  componentDidMount() {\n    function subStrAfterChars(str, char) {\n      return str.substring(str.indexOf(char) + 1);\n    }\n\n    const searchFor = subStrAfterChars(window.location.href, '?');\n    fetch('/search', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify({\n        signal: this.abortController.signal,\n        searchFor: 'sraj'\n      })\n    }).then(res => res.json()).then(ads => this.setState({\n      ads\n    })).catch(e => console.error(\"Critical failure: \" + e.message)); // let category;\n    // let subcategory;\n    // switch(this.props.category) {\n    //     case 'women':\n    //         category = 1;\n    //         this.props.subcategory !== '0' ? subcategory = findIndexByValue(Constants.women, this.props.subcategory) : subcategory = 0;\n    //         break;\n    //     case 'men':\n    //         category = 2;\n    //         this.props.subcategory !== '0' ? subcategory = findIndexByValue(Constants.men, this.props.subcategory) : subcategory = 0;\n    //         break;\n    //     case 'kids':\n    //         category = 3;\n    //         this.props.subcategory !== '0' ? subcategory = findIndexByValue(Constants.kids, this.props.subcategory) : subcategory = 0;\n    //         break;\n    //     default:\n    //         category = 0;\n    //         subcategory = 0;\n    // }       \n  }\n\n  componentWillUnmount() {\n    this.abortController.abort();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(UpperLine, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 22\n      }\n    }), /*#__PURE__*/React.createElement(NavBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Bottom, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 26\n      }\n    })); // let path = '';\n    // this.props.subcategory === '0' ? path = '/listings/' + this.props.category  + '/all' : path = '/listings/' + this.props.category + '/' + this.props.subcategory\n    // if (this.state.ads.length === 0) {\n    //     return <div className=\"App\">\n    //                 <UpperLine/>\n    //                 <Header/>\n    //                 <NavBar/>\n    //                 <BreadCrumbs pathname = {path}/>\n    //                 <div style={{display: \"flex\", maxWidth: \"90vw\", minHeight: '30vh', justifyContent: 'center'}}>\n    //                     <div><h2 style = {{color: 'white'}}>OPROSTITE, V TEJ KATEGORIJI NI OGLASOV!</h2></div>\n    //                 </div>\n    //                 <Bottom/>\n    //             </div>\n    // } else\n    // return (\n    //     <div className=\"App\">\n    //         <UpperLine/>\n    //         <Header/>\n    //         <NavBar/>\n    //         <BreadCrumbs pathname = {path}/>\n    //         <div style={{display: \"flex\", maxWidth: \"100vw\", paddingLeft: '5vw', paddingRight: '5vw'}}>\n    //             <CategoryListings ads = {this.state.ads}/>\n    //         </div>\n    //         <Bottom/>\n    //     </div>\n    // );\n  }\n\n}\n\nexport default SearchResults;","map":{"version":3,"sources":["/home/katja/REACT/test-app/src/pages/Listings/SearchResults.jsx"],"names":["React","UpperLine","Header","Bottom","BreadCrumbs","CategoryListings","NavBar","findIndexByValue","Constants","SearchResults","Component","constructor","props","abortController","AbortController","state","prevProps","ads","componentDidMount","subStrAfterChars","str","char","substring","indexOf","searchFor","window","location","href","fetch","method","headers","body","JSON","stringify","signal","then","res","json","setState","catch","e","console","error","message","componentWillUnmount","abort","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,WAAP,MAAwB,8BAAxB;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAAQC,gBAAR,QAA+B,2BAA/B;AACA,OAAO,KAAKC,SAAZ,MAA2B,iBAA3B;;AAGA,MAAMC,aAAN,SAA4BT,KAAK,CAACU,SAAlC,CAA4C;AAE3CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AADkB,SAQhBC,eARgB,GAQE,IAAIC,eAAJ,EARF;AAElB,SAAKC,KAAL,GAAa;AACHC,MAAAA,SAAS,EAAE,IADR;AAEHC,MAAAA,GAAG,EAAE;AAFF,KAAb;AAIG;;AAGJC,EAAAA,iBAAiB,GAAG;AAEb,aAASC,gBAAT,CAA0BC,GAA1B,EAA+BC,IAA/B,EAAqC;AACjC,aAAOD,GAAG,CAACE,SAAJ,CAAcF,GAAG,CAACG,OAAJ,CAAYF,IAAZ,IAAoB,CAAlC,CAAP;AACH;;AACD,UAAMG,SAAS,GAAGL,gBAAgB,CAACM,MAAM,CAACC,QAAP,CAAgBC,IAAjB,EAAuB,GAAvB,CAAlC;AAEAC,IAAAA,KAAK,CAAC,SAAD,EAAY;AACbC,MAAAA,MAAM,EAAE,MADK;AAEbC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,kBAAU;AAFL,OAFI;AAMbC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,QAAAA,MAAM,EAAE,KAAKrB,eAAL,CAAqBqB,MADZ;AAEjBV,QAAAA,SAAS,EAAE;AAFM,OAAf;AANO,KAAZ,CAAL,CAUGW,IAVH,CAUQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAVf,EAWCF,IAXD,CAWMlB,GAAG,IAAI,KAAKqB,QAAL,CAAc;AAACrB,MAAAA;AAAD,KAAd,CAXb,EAYCsB,KAZD,CAYOC,CAAC,IAAIC,OAAO,CAACC,KAAR,CAAc,uBAAuBF,CAAC,CAACG,OAAvC,CAZZ,EAPa,CAqBb;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGH;;AAEDC,EAAAA,oBAAoB,GAAG;AACnB,SAAK/B,eAAL,CAAqBgC,KAArB;AACH;;AAEDC,EAAAA,MAAM,GAAG;AAEL,wBAAO;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACS,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADT,eAEM,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFN,eAGK,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHL,eAIU,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJV,CAAP,CAFK,CASL;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEH;;AAjGuC;;AAqG5C,eAAerC,aAAf","sourcesContent":["import React from 'react';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport CategoryListings from './CategoryListings';\nimport NavBar from '../../components/NavBar';\nimport {findIndexByValue} from '../../functions/findindex';\nimport * as Constants from '../../constants';\n\n\nclass SearchResults extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            prevProps: null,\n            ads: []\n        };\n    }\n    \n    abortController = new AbortController();\n\tcomponentDidMount() {\n\n        function subStrAfterChars(str, char) {\n            return str.substring(str.indexOf(char) + 1);\n        }\n        const searchFor = subStrAfterChars(window.location.href, '?');\n\n        fetch('/search', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                signal: this.abortController.signal,\n                searchFor: 'sraj'\n            })\n        }).then(res => res.json())\n        .then(ads => this.setState({ads}))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n        \n        // let category;\n        // let subcategory;\n\n        // switch(this.props.category) {\n        //     case 'women':\n        //         category = 1;\n        //         this.props.subcategory !== '0' ? subcategory = findIndexByValue(Constants.women, this.props.subcategory) : subcategory = 0;\n        //         break;\n        //     case 'men':\n        //         category = 2;\n        //         this.props.subcategory !== '0' ? subcategory = findIndexByValue(Constants.men, this.props.subcategory) : subcategory = 0;\n        //         break;\n        //     case 'kids':\n        //         category = 3;\n        //         this.props.subcategory !== '0' ? subcategory = findIndexByValue(Constants.kids, this.props.subcategory) : subcategory = 0;\n        //         break;\n        //     default:\n        //         category = 0;\n        //         subcategory = 0;\n        // }       \n\n\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    render() {\n\n        return <div className=\"App\">\n                        <UpperLine/>\n                     <Header/>\n                    <NavBar/>\n                         <Bottom/>\n                   </div>\n\n        // let path = '';\n        // this.props.subcategory === '0' ? path = '/listings/' + this.props.category  + '/all' : path = '/listings/' + this.props.category + '/' + this.props.subcategory\n\n        // if (this.state.ads.length === 0) {\n        //     return <div className=\"App\">\n        //                 <UpperLine/>\n        //                 <Header/>\n        //                 <NavBar/>\n        //                 <BreadCrumbs pathname = {path}/>\n        //                 <div style={{display: \"flex\", maxWidth: \"90vw\", minHeight: '30vh', justifyContent: 'center'}}>\n        //                     <div><h2 style = {{color: 'white'}}>OPROSTITE, V TEJ KATEGORIJI NI OGLASOV!</h2></div>\n        //                 </div>\n        //                 <Bottom/>\n        //             </div>\n        // } else\n        // return (\n        //     <div className=\"App\">\n        //         <UpperLine/>\n        //         <Header/>\n        //         <NavBar/>\n        //         <BreadCrumbs pathname = {path}/>\n        //         <div style={{display: \"flex\", maxWidth: \"100vw\", paddingLeft: '5vw', paddingRight: '5vw'}}>\n        //             <CategoryListings ads = {this.state.ads}/>\n        //         </div>\n        //         <Bottom/>\n        //     </div>\n        // );\n\n    }\n\n}\n  \nexport default SearchResults;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/katni/REACT/test-app/src/pages/UserPage/UserListings.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport NavBar from '../../components/NavBar';\nimport UserSideBar from './UserSideBar';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport AdSpace from '../../components/AdSpace';\nimport Popup from 'reactjs-popup';\nimport * as Constants from '../../constants';\nimport '../../App.css';\n\nclass UserListings extends React.Component {\n  constructor(props) {\n    super(props);\n    this.abortController = new AbortController();\n\n    this.handleDeleteRequest = id => {\n      this.setState({\n        tryingToDelete: id\n      });\n    };\n\n    this.handleDelete = id => {\n      fetch('/deleteListing', {\n        signal: this.abortController.signal,\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          adId: id\n        })\n      }).then(res => res.json()).then(res => res.success && this.setState({\n        tryingToDelete: -1\n      })).then(() => this.displayPhotos(this.props.loggedInUserId)).catch(e => console.error(\"Critical failure: \" + e.message));\n    };\n\n    this.cancelDelete = () => {\n      this.setState({\n        tryingToDelete: -1\n      });\n    };\n\n    this.paginationButtonClick = e => {\n      let newpage = 1;\n\n      switch (e.target.id) {\n        case 'first':\n          this.setState({\n            page: 1\n          });\n          break;\n\n        case 'previous':\n          this.state.page > 1 ? newpage = this.state.page - 1 : newpage = 1;\n          this.setState({\n            page: newpage\n          });\n          break;\n\n        case 'next':\n          this.state.page < this.state.numPages ? newpage = this.state.page + 1 : newpage = this.state.numPages;\n          this.setState({\n            page: newpage\n          });\n          break;\n\n        case 'last':\n          this.setState({\n            page: this.state.numPages\n          });\n          break;\n\n        default:\n          return null;\n      }\n    };\n\n    this.renderListings = () => {\n      const imgStyle = {\n        height: \"290px\",\n        verticalAlign: \"middle\",\n        marginRight: \"20px\",\n        border: '2px solid rgb(255, 255, 255, 0.5)'\n      };\n      const textStyle = {\n        color: 'black',\n        textDecoration: 'underline',\n        fontWeight: '500'\n      };\n      let numAds = this.state.listings.length;\n      let n = this.state.adsPerPage;\n      let p = this.state.page - 1;\n      let till;\n      p * n + n < numAds ? till = (p + 1) * n : till = numAds;\n      let adsPortion = this.state.listings.slice(p * n, till);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: \"100%\",\n          verticalAlign: 'top',\n          textAlign: 'right'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(NavLink, {\n        exact: true,\n        to: \"/upload\",\n        className: \"btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 71\n        }\n      }, \"+ OBJAVI NOV OGLAS\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"listingWrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }\n      }, adsPortion.map(listing => {\n        let category = Constants.category[listing.category].value;\n        let subcategory = '';\n\n        switch (category) {\n          case 'women':\n            subcategory = Constants.women[listing.subcategory].value;\n            break;\n\n          case 'men':\n            subcategory = Constants.men[listing.subcategory].value;\n            break;\n\n          case 'kids':\n            subcategory = Constants.kids[listing.subcategory].value;\n            break;\n\n          default:\n            subcategory = '';\n        }\n\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: listing.ad_id,\n          style: {\n            listStyleType: \"none\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: listing.photo1_url,\n          alt: listing.photo1_url,\n          style: imgStyle,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 37\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            verticalAlign: \"middle\",\n            display: \"inline-block\",\n            height: \"100%\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 110\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            width: '60%',\n            height: '80%',\n            float: 'right',\n            padding: '20px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 41\n          }\n        }, \"\\u0160tevilka oglasa: \", /*#__PURE__*/React.createElement(NavLink, {\n          to: 'listings/' + category + '/' + subcategory + '/item?' + listing.ad_id,\n          style: textStyle,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 61\n          }\n        }, listing.ad_id)), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(NavLink, {\n          to: \"/edit?\" + listing.ad_id,\n          style: textStyle,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 44\n          }\n        }, \"  UREJANJE\")), /*#__PURE__*/React.createElement(\"button\", {\n          style: {\n            backgroundColor: 'rgb(255,255,255,0)',\n            border: 'none',\n            cursor: 'pointer'\n          },\n          onClick: () => this.handleDeleteRequest(listing.ad_id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 41\n          }\n        }, \"X IZBRI\\u0160I\")));\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        id: \"first\",\n        className: \"btn_nopad\",\n        onClick: this.paginationButtonClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 29\n        }\n      }, \"PRVA\"), /*#__PURE__*/React.createElement(\"button\", {\n        id: \"previous\",\n        className: \"btn_nopad\",\n        onClick: this.paginationButtonClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 29\n        }\n      }, \"<<\"), /*#__PURE__*/React.createElement(\"button\", {\n        id: \"current\",\n        className: \"btn_nopad\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 29\n        }\n      }, this.state.page, \"/\", this.state.numPages), /*#__PURE__*/React.createElement(\"button\", {\n        id: \"next\",\n        className: \"btn_nopad\",\n        onClick: this.paginationButtonClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 29\n        }\n      }, \">>\"), /*#__PURE__*/React.createElement(\"button\", {\n        id: \"last\",\n        className: \"btn_nopad\",\n        onClick: this.paginationButtonClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 29\n        }\n      }, \"ZADNJA\"))));\n    };\n\n    this.switchRender = () => {\n      if (this.state.userId === '0') {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            backgroundColor: 'rgb(255,255,255,0.5)'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 21\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 26\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 31\n          }\n        }), /*#__PURE__*/React.createElement(\"h2\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 21\n          }\n        }, \"PROSIMO PRIJAVITE SE V SISTEM!\"), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 21\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 26\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 31\n          }\n        }));\n      } else if (!this.state.listings.length) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"userContainer\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"h2\", {\n          style: {\n            color: 'white'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }\n        }, \"NIMATE \\u0160E OBJAVLJENIH OGLASOV.\")), /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            width: \"100%\",\n            verticalAlign: 'top',\n            textAlign: 'right'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(NavLink, {\n          exact: true,\n          to: \"/upload\",\n          className: \"btn\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 71\n          }\n        }, \"+ OBJAVI NOV OGLAS\"))));\n      } else if (this.state.listings.length && this.state.tryingToDelete !== -1) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"userContainer\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Popup, {\n          open: true,\n          position: \"center center\",\n          onClose: this.closeModal,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            display: 'inline-flex',\n            justifyContent: 'space-around'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            margin: 'auto 10px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 25\n          }\n        }, \"Ste prepri\\u010Dani, da \\u017Eelite izbrisati oglas?\"), /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btnb\",\n          onClick: () => this.handleDelete(this.state.tryingToDelete),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 25\n          }\n        }, \"DA\"), /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btnb\",\n          onClick: this.cancelDelete,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 25\n          }\n        }, \"NE\"))), this.renderListings());\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"userContainer\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 17\n          }\n        }, this.renderListings());\n      }\n    };\n\n    this.state = {\n      userId: '0',\n      urls: [],\n      listings: [],\n      tryingToDelete: -1,\n      adsPerPage: 5,\n      numPages: 1,\n      page: 1\n    };\n    this.displayPhotos = this.displayPhotos.bind(this);\n  }\n\n  componentDidMount() {\n    fetch('/sessionroutes', {\n      signal: this.abortController.signal\n    }).then(res => res.json()).then(res => {\n      this.setState({\n        userId: res.userId\n      });\n      this.displayPhotos(res.userId);\n    }).catch(e => console.error(\"Critical failure: \" + e.message));\n  }\n\n  componentWillUnmount() {\n    this.abortController.abort();\n  }\n\n  displayPhotos(uid) {\n    fetch('/photos', {\n      signal: this.abortController.signal,\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify({\n        userId: uid\n      })\n    }).then(res => res.json()).then(listings => {\n      if (!listings.length) {\n        this.setState({\n          listings: []\n        });\n      } else {\n        this.setState({\n          listings: listings,\n          numPages: Math.floor(listings.length / this.state.adsPerPage + 0.99)\n        });\n      }\n\n      ;\n    }).catch(e => console.error(\"Critical failure: \" + e.message));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(UpperLine, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(NavBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(BreadCrumbs, {\n      pathname: this.props.location.pathname,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(UserSideBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }\n    }), this.switchRender(), /*#__PURE__*/React.createElement(AdSpace, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Bottom, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    loggedInUser: state.loggedInUser,\n    loggedInUserId: state.loggedInUserId\n  };\n};\n\nexport default connect(mapStateToProps)(UserListings);","map":{"version":3,"sources":["/home/katni/REACT/test-app/src/pages/UserPage/UserListings.jsx"],"names":["React","connect","NavLink","UpperLine","Header","NavBar","UserSideBar","Bottom","BreadCrumbs","AdSpace","Popup","Constants","UserListings","Component","constructor","props","abortController","AbortController","handleDeleteRequest","id","setState","tryingToDelete","handleDelete","fetch","signal","method","headers","body","JSON","stringify","adId","then","res","json","success","displayPhotos","loggedInUserId","catch","e","console","error","message","cancelDelete","paginationButtonClick","newpage","target","page","state","numPages","renderListings","imgStyle","height","verticalAlign","marginRight","border","textStyle","color","textDecoration","fontWeight","numAds","listings","length","n","adsPerPage","p","till","adsPortion","slice","width","textAlign","map","listing","category","value","subcategory","women","men","kids","ad_id","listStyleType","photo1_url","display","float","padding","backgroundColor","cursor","switchRender","userId","closeModal","justifyContent","margin","urls","bind","componentDidMount","componentWillUnmount","abort","uid","Math","floor","render","location","pathname","mapStateToProps","loggedInUser"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport UpperLine from '../../components/UpperLine';\nimport Header from '../../components/Header';\nimport NavBar from '../../components/NavBar';\nimport UserSideBar from './UserSideBar';\nimport Bottom from '../../components/Bottom';\nimport BreadCrumbs from '../../components/BreadCrumbs';\nimport AdSpace from '../../components/AdSpace';\nimport Popup from 'reactjs-popup';\nimport * as Constants from '../../constants';\nimport '../../App.css';\n\n\nclass UserListings extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            userId: '0',\n            urls: [],\n            listings: [],\n            tryingToDelete: -1,\n            adsPerPage: 5,\n            numPages: 1,\n            page: 1\n        };\n\n        this.displayPhotos = this.displayPhotos.bind(this);\n\n    }\n\n    abortController = new AbortController();\n\tcomponentDidMount() {\n        fetch('/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => {this.setState({userId: res.userId}); this.displayPhotos(res.userId)})\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    displayPhotos(uid) {\n        fetch('/photos', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({userId: uid})\n        }).then(res => res.json())\n            .then(listings => { if (!listings.length) { this.setState({listings: []}) }\n                    else{ this.setState({listings: listings, numPages: Math.floor(listings.length/this.state.adsPerPage + 0.99)}) };\n            })\n            .catch(e => console.error(\"Critical failure: \" + e.message));\n\n    }\n\n    handleDeleteRequest = (id) => {\n        this.setState({tryingToDelete: id});\n    }\n\n    handleDelete = (id) => {\n\n        fetch('/deleteListing', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({adId: id})\n        }).then(res => res.json())\n        .then(res => res.success && this.setState({tryingToDelete: -1}))\n        .then(() => this.displayPhotos(this.props.loggedInUserId))\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n        \n    }\n\n    cancelDelete = () => {\n        this.setState({tryingToDelete: -1});\n    }\n\n    paginationButtonClick = (e) => {\n        let newpage = 1;\n        switch(e.target.id) {\n            case 'first':\n                this.setState({page: 1});\n                break;\n            case 'previous':\n                this.state.page > 1 ? newpage = this.state.page-1 : newpage = 1;\n                this.setState({page: newpage});\n                break;\n            case 'next':\n                this.state.page < this.state.numPages ? newpage = this.state.page+1 : newpage = this.state.numPages;\n                this.setState({page: newpage});\n                break;\n            case 'last':\n                this.setState({page: this.state.numPages});\n                break;\n            default:\n                return null;\n        }\n    }\n\n    renderListings = () => {\n\n        const imgStyle = {\n            height: \"290px\",\n            verticalAlign: \"middle\",\n            marginRight: \"20px\",\n            border: '2px solid rgb(255, 255, 255, 0.5)'\n        }\n\n        const textStyle = {\n            color: 'black',\n            textDecoration: 'underline',\n            fontWeight: '500'\n        }\n\n        let numAds = this.state.listings.length;\n        let n = this.state.adsPerPage;\n        let p = this.state.page - 1;\n        let till;\n        p*n + n < numAds ? till = (p+1)*n : till = numAds;\n        let adsPortion = this.state.listings.slice(p*n, till);\n\n        return  <div>\n                    <div style={{width: \"100%\", verticalAlign: 'top', textAlign: 'right'}}>\n                        <NavLink exact to=\"/upload\" className = 'btn'><b>+ OBJAVI NOV OGLAS</b></NavLink>\n                    </div>\n                    <div className=\"listingWrapper\">\n                        {adsPortion.map((listing) => \n                            {\n                                let category = Constants.category[listing.category].value;\n                                let subcategory = ''\n                                switch(category) {\n                                    case 'women':\n                                        subcategory = Constants.women[listing.subcategory].value;\n                                        break;\n                                    case 'men':\n                                        subcategory = Constants.men[listing.subcategory].value;\n                                        break;\n                                    case 'kids':\n                                        subcategory = Constants.kids[listing.subcategory].value;\n                                        break;\n                                    default:\n                                        subcategory = ''\n                                }\n                                return (\n                                <li key={listing.ad_id} style={{ listStyleType: \"none\" }}>\n                                    <img src={listing.photo1_url} alt={listing.photo1_url} style={imgStyle}/><span style={{verticalAlign: \"middle\", display: \"inline-block\", height: \"100%\"}}></span>\n                                    <div style = {{width: '60%', height: '80%', float: 'right', padding: '20px'}}>\n                                        <p>Številka oglasa: <NavLink to={'listings/' + category + '/' + subcategory + '/item?' + listing.ad_id} style = {textStyle}>{listing.ad_id}</NavLink></p>\n                                        <p><NavLink to={\"/edit?\" + listing.ad_id} style = {textStyle}>  UREJANJE</NavLink></p>\n                                        <button style = {{backgroundColor: 'rgb(255,255,255,0)', border: 'none', cursor: 'pointer'}} onClick = {() => this.handleDeleteRequest(listing.ad_id)}>X IZBRIŠI</button>\n                                    </div>\n                                </li>)\n                            }\n                        )}\n                        <div>\n                            <button id='first' className='btn_nopad' onClick={this.paginationButtonClick}>PRVA</button>\n                            <button id='previous' className='btn_nopad' onClick={this.paginationButtonClick}>&#60;&#60;</button>\n                            <button id='current' className='btn_nopad'>{this.state.page}/{this.state.numPages}</button>\n                            <button id='next' className='btn_nopad' onClick={this.paginationButtonClick}>&#62;&#62;</button>\n                            <button id='last' className='btn_nopad' onClick={this.paginationButtonClick}>ZADNJA</button>\n                        </div>\n                    </div>\n                </div>\n    }\n\n    switchRender = () => {\n\n        if(this.state.userId === '0') {\n            return (\n                <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                    <br/><br/><br/>\n                    <h2>PROSIMO PRIJAVITE SE V SISTEM!</h2>\n                    <br/><br/><br/>\n                </div>\n            )\n        }\n        else if(!this.state.listings.length) {\n            return (\n                <div className=\"userContainer\">\n                    <div style = {{textAlign: 'center'}}>\n                        <h2 style = {{color: 'white'}}>NIMATE ŠE OBJAVLJENIH OGLASOV.</h2>\n                    </div>\n                    <div style={{width: \"100%\", verticalAlign: 'top', textAlign: 'right'}}>\n                        <NavLink exact to=\"/upload\" className = 'btn'><b>+ OBJAVI NOV OGLAS</b></NavLink>\n                    </div>\n                </div>\n            );\n        } else if(this.state.listings.length && this.state.tryingToDelete !== -1) {\n            return (\n                <div className=\"userContainer\">\n                <Popup open = {true}\n                position = 'center center'\n                onClose={this.closeModal}>\n                    <div style = {{display: 'inline-flex', justifyContent: 'space-around'}}>\n                        <p style= {{margin: 'auto 10px'}}>Ste prepričani, da želite izbrisati oglas?</p>\n                        <button className = 'btnb' onClick ={() => this.handleDelete(this.state.tryingToDelete)}>DA</button>\n                        <button className = 'btnb' onClick = {this.cancelDelete}>NE</button>\n                    </div>\n                </Popup>\n                {this.renderListings()}\n                </div>  \n            )\n\n        }else {\n            return (\n                <div className=\"userContainer\">\n                    {this.renderListings()}\n                </div>\n            );\n\n        }\n    }\n\n    render() {\n        return(\n            <div className=\"App\">\n            <UpperLine/>\n            <Header/>\n            <NavBar/>\n            <BreadCrumbs pathname = {this.props.location.pathname}/>\n            <UserSideBar/>\n            {this.switchRender()}\n            <AdSpace/>\n            <Bottom/>\n            </div>\n        )\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n  };\n\n\nexport default connect(mapStateToProps) (UserListings);\n\n"]},"metadata":{},"sourceType":"module"}
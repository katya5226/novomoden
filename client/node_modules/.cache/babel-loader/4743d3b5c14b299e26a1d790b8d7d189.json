{"ast":null,"code":"import _defineProperty from\"/home/katni/APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/katni/APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/katni/APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/katni/APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/katni/APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/katni/APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{NavLink}from'react-router-dom';import Header from'../components/Header';import UpperLine from'../components/UpperLine';import Bottom from'../components/Bottom';import BreadCrumbs from'../components/BreadCrumbs';import ClipLoader from'react-spinners/ClipLoader';import'../App.css';var ForgotPassword=/*#__PURE__*/function(_React$Component){_inherits(ForgotPassword,_React$Component);var _super=_createSuper(ForgotPassword);function ForgotPassword(props){var _this;_classCallCheck(this,ForgotPassword);_this=_super.call(this,props);_this.abortController=new AbortController();_this.sendRequestForReset=function(e){e.preventDefault();_this.setState({loading:true});fetch('/api/forgotpassword',{signal:_this.abortController.signal,method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify({email:_this.state.email})}).then(function(res){return res.json();}).then(function(res){return _this.setState({success:res.success,loading:false});});};_this.state={userId:0,email:'',success:'',loading:false};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(ForgotPassword,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('/api/sessionroutes',{signal:this.abortController.signal}).then(function(res){return res.json();}).then(function(res){_this2.setState({userId:res.userId});}).catch(function(e){return console.error(\"Critical failure: \"+e.message);});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.abortController.abort();}},{key:\"handleChange\",value:function handleChange(event){this.setState(_defineProperty({},event.target.name,event.target.value));}//<button type = 'submit' style = {{paddingLeft: '200px'}}>RESET PASSWORD</button>\n},{key:\"render\",value:function render(){if(this.state.userId!==0){return/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:'rgb(255,255,255,0.5)'}},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h2\",null,\"STE \\u017DE PRIJAVLJENI\"),/*#__PURE__*/React.createElement(NavLink,{to:\"/\"},\"DOMOV\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null));}else return/*#__PURE__*/React.createElement(\"div\",{className:\"app\"},/*#__PURE__*/React.createElement(UpperLine,null),/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(BreadCrumbs,{pathname:this.props.location.pathname}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.sendRequestForReset,style:{textAlign:'center',marginTop:'100px'}},/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",value:this.state.email,placeholder:\"Vpi\\u0161i svoj e-naslov ...\",style:{width:'300px',marginRight:'10px'},onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn\"},\"PO\\u0160LJI ZAHTEVO ZA SPREMEMBO GESLA\")),/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'center'}},/*#__PURE__*/React.createElement(ClipLoader,{size:50,color:'white',loading:this.state.loading})),/*#__PURE__*/React.createElement(\"p\",{style:{backgroundColor:'white',textAlign:'center',lineHeight:'50px',marginBottom:'300px'}},this.state.success),/*#__PURE__*/React.createElement(Bottom,null));}}]);return ForgotPassword;}(React.Component);export default ForgotPassword;","map":{"version":3,"sources":["/home/katni/APP/client/src/pages/ForgotPassword.jsx"],"names":["React","NavLink","Header","UpperLine","Bottom","BreadCrumbs","ClipLoader","ForgotPassword","props","abortController","AbortController","sendRequestForReset","e","preventDefault","setState","loading","fetch","signal","method","headers","body","JSON","stringify","email","state","then","res","json","success","userId","handleChange","bind","catch","console","error","message","abort","event","target","name","value","backgroundColor","location","pathname","textAlign","marginTop","width","marginRight","lineHeight","marginBottom","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport Header from '../components/Header';\nimport UpperLine from '../components/UpperLine';\nimport Bottom from '../components/Bottom';\nimport BreadCrumbs from '../components/BreadCrumbs';\nimport ClipLoader from 'react-spinners/ClipLoader';\nimport '../App.css';\n\nclass ForgotPassword extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            userId: 0,\n            email: '',\n            success: '',\n            loading: false\n        };\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    abortController = new AbortController();\n\n    componentDidMount() {\n        fetch('/api/sessionroutes', {signal: this.abortController.signal})\n        .then(res => res.json())\n        .then(res => {this.setState({userId: res.userId})})\n        .catch(e => console.error(\"Critical failure: \" + e.message));\n    }\n\n    sendRequestForReset = (e) => {\n        e.preventDefault();\n\n        this.setState({loading: true});\n\n        fetch('/api/forgotpassword', {\n            signal: this.abortController.signal,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                email: this.state.email\n            })\n        }).then(res => res.json())\n            .then(res => this.setState({success: res.success, loading: false}));\n\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n\n    handleChange(event) {\n\t\tthis.setState({\n\t\t\t[event.target.name]: event.target.value\n\t\t})\n    }\n\n    //<button type = 'submit' style = {{paddingLeft: '200px'}}>RESET PASSWORD</button>\n\n    render() {\n\n        if(this.state.userId !== 0) {\n            return (\n                <div style = {{backgroundColor: 'rgb(255,255,255,0.5)'}}>\n                    <br/><br/><br/>\n                    <h2>STE ŽE PRIJAVLJENI</h2>\n                    <NavLink to = '/'>DOMOV</NavLink>\n                    <br/><br/><br/>\n                </div>\n            )\n        }\n\n        else return(\n            <div className = 'app'>\n                <UpperLine/>\n                <Header/>\n                <BreadCrumbs pathname = {this.props.location.pathname}/>\n                <br/><br/>\n                <form onSubmit={this.sendRequestForReset} style = {{textAlign: 'center', marginTop: '100px'}}>\n                    <input  type = 'email'\n                            name = 'email'\n                            value = {this.state.email}\n                            placeholder = 'Vpiši svoj e-naslov ...'\n                            style = {{width: '300px', marginRight: '10px'}}\n                            onChange = {this.handleChange}/>\n                    <button type = 'submit' className = 'btn'>POŠLJI ZAHTEVO ZA SPREMEMBO GESLA</button>\n                </form>\n                <div style = {{textAlign: 'center'}}>\n                    <ClipLoader\n                        size={50}\n                        color={'white'}\n                        loading={this.state.loading}\n                    />\n                </div>\n                <p style = {{backgroundColor: 'white', textAlign: 'center', lineHeight: '50px', marginBottom: '300px'}}>{this.state.success}</p>\n                <Bottom/>\n            </div>\n        )\n    }\n\n}\n\nexport default ForgotPassword;"]},"metadata":{},"sourceType":"module"}
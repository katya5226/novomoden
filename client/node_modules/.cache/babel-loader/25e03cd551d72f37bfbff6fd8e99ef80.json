{"ast":null,"code":"var _jsxFileName = \"/home/katja/REACT/test-app/src/pages/Listing/ItemDescription.jsx\";\nimport React from 'react';\nimport { ReCaptcha } from 'react-recaptcha-google';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { saveAtt } from '../../redux/actions';\nimport Popup from 'reactjs-popup';\nimport '../../App.css';\n\nclass ItemDescription extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addToCart = () => {\n      if (this.props.loggedInUserId !== '0') {\n        //this.props.addToCart(this.props.adId);\n        let cart = JSON.parse(window.localStorage.getItem(this.props.loggedInUserId));\n\n        if (cart !== null) {\n          if (cart.includes(this.props.adId)) {\n            this.setState({\n              addingResult: 'IZDELEK JE ŽE V KOŠARICI!'\n            });\n          } else {\n            cart.push(this.props.adId);\n            window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(cart));\n            this.setState({\n              addingResult: 'IZDELEK DODAN V KOŠARICO!'\n            });\n          }\n        } else {\n          let initialCart = [];\n          initialCart.push(this.props.adId);\n          window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(initialCart));\n          this.setState({\n            addingResult: 'IZDELEK DODAN V KOŠARICO!'\n          });\n        }\n      } else {\n        this.setState({\n          addingResult: 'ZA DODAJANJE V KOŠARICO SE PRIJAVITE.'\n        });\n      }\n    };\n\n    this.removeFromCart = () => {\n      let cart = JSON.parse(window.localStorage.getItem(this.props.loggedInUserId));\n\n      if (cart !== null) {\n        cart.splice(cart.indexOf(this.props.adId), 1);\n        window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(cart));\n      } //console.log('INDEX IN CART: ' + cart.indexOf(this.props.adId))\n\n    };\n\n    this.showCart = () => {\n      //window.localStorage.clear();\n      console.log(JSON.parse(window.localStorage.getItem(this.props.loggedInUserId)));\n    };\n\n    this.handleMsgRequest = () => {\n      this.setState({\n        msgRequest: true\n      });\n    };\n\n    this.handleConfirm = () => {};\n\n    this.proceedToMsg = () => {\n      console.log(\"SUBMITTED!\");\n      this.setState({\n        msgRequest: false\n      });\n    };\n\n    this.state = {\n      addingResult: '',\n      msgRequest: false,\n      buttonDisabled: true\n    };\n    this.onLoadRecaptcha = this.onLoadRecaptcha.bind(this);\n    this.verifyCallback = this.verifyCallback.bind(this);\n  }\n\n  componentDidMount() {\n    const script = document.createElement(\"script\");\n    script.src = \"https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit\";\n    script.async = true;\n    document.body.appendChild(script);\n\n    if (this.captchaDemo) {\n      console.log(\"started, just a second...\");\n      this.captchaDemo.reset();\n    }\n  } //TREBA JE UREDITI BRISANJE IZ LOCAL STOREGA; POTEM KO SE NAROČI IN/ALI PO POTEKU DOLOČENEGA ČASA\n\n\n  onLoadRecaptcha() {\n    if (this.captchaDemo) {\n      this.captchaDemo.reset();\n    }\n  }\n\n  verifyCallback(recaptchaToken) {\n    if (recaptchaToken) {\n      this.setState({\n        buttonDisabled: false\n      });\n    }\n  }\n\n  render() {\n    const selection = this.props.selection;\n    let subcategory = '';\n    const categ = selection.category.value;\n\n    switch (categ) {\n      case 'women':\n        subcategory = selection.women.label;\n        break;\n\n      case 'men':\n        subcategory = selection.men.label;\n        break;\n\n      case 'kids':\n        subcategory = selection.kids.label;\n        break;\n\n      default:\n        subcategory = '';\n        break;\n    }\n\n    const btnContStyle = {\n      backgroundColor: 'rgb(255,255,255,0)',\n      border: 'none',\n      margin: 0,\n      padding: 0,\n      fontSize: 'small',\n      color: 'grey',\n      cursor: 'pointer'\n    };\n\n    if (!this.state.msgRequest) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }\n      }, subcategory), categ !== 'kids' && /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 42\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 45\n        }\n      }, \"Velikost: \"), selection.clothsize.label), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 24\n        }\n      }, \"Material: \"), selection.material.label), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 24\n        }\n      }, \"Stanje: \"), selection.condition.label), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 24\n        }\n      }, \"Znamka: \"), selection.brand.value), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 24\n        }\n      }, \"Opis: \"), selection.descrtext.value), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 24\n        }\n      }, \"Cena: \"), selection.price.value, \" \\u20AC\"), this.props.status === 'active' && this.props.loggedInUserId !== '0' && /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btnb\",\n        onClick: this.addToCart,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 95\n        }\n      }, \"DODAJ V KO\\u0160ARICO\"), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }\n      }, this.state.addingResult), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }\n      }, \"Prodajalec: \", this.props.seller, \" \"), /*#__PURE__*/React.createElement(\"button\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }\n      }, \"VSI OGLASI TEGA PRODAJALCA\"), this.props.loggedInUserId !== '0' && this.props.loggedInUserId !== this.props.sellerId && /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          fontSize: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 114\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        style: btnContStyle,\n        onClick: this.handleMsgRequest,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 142\n        }\n      }, \"(Kontaktiraj prodajalca)\")));\n    } else return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Popup, {\n      open: true,\n      position: \"center center\",\n      onClose: this.closeModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        height: '90px',\n        lineHeight: '90px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(ReCaptcha, {\n      ref: el => {\n        this.captchaDemo = el;\n      },\n      size: \"normal\",\n      \"data-theme\": \"dark\",\n      render: \"explicit\",\n      sitekey: \"6LcVy-0UAAAAAA1SYgeXX6tUze_gLa6Tplcris-V\",\n      onloadCallback: this.onLoadRecaptcha,\n      verifyCallback: this.verifyCallback,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 25\n      }\n    }), this.state.buttonDisabled && /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        paddingLeft: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 55\n      }\n    }, \"NADALJUJ\"), !this.state.buttonDisabled && /*#__PURE__*/React.createElement(NavLink, {\n      style: {\n        paddingLeft: '20px'\n      },\n      onClick: this.proceedToMsg,\n      exact: true,\n      to: '/chatpage/conversation?' + this.props.sellerId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 56\n      }\n    }, \"NADALJUJ\"))), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, subcategory), categ !== 'kids' && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 38\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 41\n      }\n    }, \"Velikost: \"), selection.clothsize.label), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 20\n      }\n    }, \"Material: \"), selection.material.label), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 20\n      }\n    }, \"Stanje: \"), selection.condition.label), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 20\n      }\n    }, \"Znamka: \"), selection.brand.value), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 20\n      }\n    }, \"Opis: \"), selection.descrtext.value), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 20\n      }\n    }, \"Cena: \"), selection.price.value, \" \\u20AC\"), this.props.status === 'active' && this.props.loggedInUserId !== '0' && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btnb\",\n      onClick: this.addToCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 91\n      }\n    }, \"DODAJ V KO\\u0160ARICO\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontWeight: 'bold'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }\n    }, this.state.addingResult), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }\n    }, \"Prodajalec: \", this.props.seller, \" \"), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    }, \"VSI OGLASI TEGA PRODAJALCA\"), this.props.loggedInUserId !== '0' && this.props.loggedInUserId !== this.props.sellerId && /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontSize: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: btnContStyle,\n      onClick: this.handleMsgRequest,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 49\n      }\n    }, \"Kontaktiraj prodajalca\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    loggedInUser: state.loggedInUser,\n    loggedInUserId: state.loggedInUserId\n  };\n};\n\nconst mapDispatchToProps = {\n  saveAtt: saveAtt\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ItemDescription);","map":{"version":3,"sources":["/home/katja/REACT/test-app/src/pages/Listing/ItemDescription.jsx"],"names":["React","ReCaptcha","NavLink","connect","saveAtt","Popup","ItemDescription","Component","constructor","props","addToCart","loggedInUserId","cart","JSON","parse","window","localStorage","getItem","includes","adId","setState","addingResult","push","setItem","stringify","initialCart","removeFromCart","splice","indexOf","showCart","console","log","handleMsgRequest","msgRequest","handleConfirm","proceedToMsg","state","buttonDisabled","onLoadRecaptcha","bind","verifyCallback","componentDidMount","script","document","createElement","src","async","body","appendChild","captchaDemo","reset","recaptchaToken","render","selection","subcategory","categ","category","value","women","label","men","kids","btnContStyle","backgroundColor","border","margin","padding","fontSize","color","cursor","clothsize","material","condition","brand","descrtext","price","status","fontWeight","seller","sellerId","closeModal","display","justifyContent","height","lineHeight","el","paddingLeft","mapStateToProps","loggedInUser","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { ReCaptcha } from 'react-recaptcha-google'\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { saveAtt } from '../../redux/actions';\nimport Popup from 'reactjs-popup';\nimport '../../App.css';\n\nclass ItemDescription extends React.Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            addingResult: '',\n            msgRequest: false,\n            buttonDisabled: true\n        };\n        this.onLoadRecaptcha = this.onLoadRecaptcha.bind(this);\n        this.verifyCallback = this.verifyCallback.bind(this);\n    }\n\n    componentDidMount() {\n\n        const script = document.createElement(\"script\");\n        script.src = \"https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit\";\n        script.async = true;\n        document.body.appendChild(script);\n\n\n        if (this.captchaDemo) {\n            console.log(\"started, just a second...\")\n            this.captchaDemo.reset();\n        }\n      }\n\n    //TREBA JE UREDITI BRISANJE IZ LOCAL STOREGA; POTEM KO SE NAROČI IN/ALI PO POTEKU DOLOČENEGA ČASA\n    addToCart = () => {\n        if(this.props.loggedInUserId !== '0') {\n            //this.props.addToCart(this.props.adId);\n            let cart = JSON.parse(window.localStorage.getItem(this.props.loggedInUserId));\n            if (cart !== null) {\n                if(cart.includes(this.props.adId)) {\n                    this.setState({addingResult: 'IZDELEK JE ŽE V KOŠARICI!'});\n                }else {\n                    cart.push(this.props.adId);\n                    window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(cart));\n                    this.setState({addingResult: 'IZDELEK DODAN V KOŠARICO!'});\n                }\n            } else {\n                let initialCart = [];\n                initialCart.push(this.props.adId);\n                window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(initialCart));\n                this.setState({addingResult: 'IZDELEK DODAN V KOŠARICO!'});\n            }\n        }else{this.setState({addingResult: 'ZA DODAJANJE V KOŠARICO SE PRIJAVITE.'});}\n    }\n\n    removeFromCart = () => {\n        let cart = JSON.parse(window.localStorage.getItem(this.props.loggedInUserId));\n        if (cart !== null) {\n            cart.splice(cart.indexOf(this.props.adId), 1);\n            window.localStorage.setItem(this.props.loggedInUserId, JSON.stringify(cart));\n        }\n        //console.log('INDEX IN CART: ' + cart.indexOf(this.props.adId))\n    }\n\n    showCart = () => {\n        //window.localStorage.clear();\n        console.log(JSON.parse(window.localStorage.getItem(this.props.loggedInUserId)));\n    }\n\n    handleMsgRequest = () => {\n        this.setState({msgRequest: true});\n    }\n\n    handleConfirm = () => {\n\n    }\n\n    onLoadRecaptcha() {\n        if (this.captchaDemo) {\n            this.captchaDemo.reset();\n        }\n    }\n    verifyCallback(recaptchaToken) {\n      if(recaptchaToken) {\n        this.setState({buttonDisabled: false});\n      }\n    }\n\n    proceedToMsg = () => {\n        console.log(\"SUBMITTED!\");\n        this.setState({msgRequest: false});\n    }\n\n    render() {\n\n        const selection = this.props.selection;\n        let subcategory = '';\n        const categ = selection.category.value;\n\n        switch(categ) {\n            case 'women':\n                subcategory = selection.women.label;\n                break;\n            case 'men':\n                subcategory = selection.men.label;\n                break;\n            case 'kids':\n                subcategory = selection.kids.label;\n                break;\n            default:\n                subcategory = '';\n                break;\n        }\n\n        const btnContStyle = {\n            backgroundColor: 'rgb(255,255,255,0)',\n            border: 'none',\n            margin: 0,\n            padding: 0,\n            fontSize: 'small',\n            color: 'grey',\n            cursor: 'pointer'\n        }\n\n        if(!this.state.msgRequest) {\n            return(\n                <div className=\"description\">\n                    <h3>{subcategory}</h3>\n                    {categ !== 'kids' && <p><b>Velikost: </b>{selection.clothsize.label}</p>}\n                    <p><b>Material: </b>{selection.material.label}</p>\n                    <p><b>Stanje: </b>{selection.condition.label}</p>\n                    <p><b>Znamka: </b>{selection.brand.value}</p>\n                    <p><b>Opis: </b>{selection.descrtext.value}</p>\n                    <br/>\n                    <p><b>Cena: </b>{selection.price.value} €</p>\n                    {(this.props.status === 'active' && this.props.loggedInUserId !== '0') && <button className = 'btnb' onClick = {this.addToCart}>DODAJ V KOŠARICO</button>}\n                    <p style = {{fontWeight: 'bold'}}>{this.state.addingResult}</p>\n                    <br/>\n                    <p>Prodajalec: {this.props.seller} </p>\n                    <button>VSI OGLASI TEGA PRODAJALCA</button>\n                    {(this.props.loggedInUserId !== '0' && this.props.loggedInUserId !== this.props.sellerId) && <p style = {{fontSize: 10}}><button style = {btnContStyle} onClick = {this.handleMsgRequest}>(Kontaktiraj prodajalca)</button></p>}\n                </div>\n            )\n        }\n        else return (\n            <div className=\"description\">\n                <Popup open = {true}\n                    position = 'center center'\n                    onClose={this.closeModal}>\n                    <div style = {{display: 'flex', justifyContent: 'center', height: '90px', lineHeight: '90px'}}>\n                        <ReCaptcha\n                            ref={(el) => {this.captchaDemo = el;}}\n                            size=\"normal\"\n                            data-theme=\"dark\"            \n                            render=\"explicit\"\n                            sitekey=\"6LcVy-0UAAAAAA1SYgeXX6tUze_gLa6Tplcris-V\"\n                            onloadCallback={this.onLoadRecaptcha}\n                            verifyCallback={this.verifyCallback}\n                        />\n                        {this.state.buttonDisabled && <span style = {{paddingLeft: '20px'}}>NADALJUJ</span>}\n                        {!this.state.buttonDisabled && <NavLink style = {{paddingLeft: '20px'}} onClick ={this.proceedToMsg} exact to = {'/chatpage/conversation?' + this.props.sellerId}>NADALJUJ</NavLink>}\n                    </div>\n                </Popup>\n                <h3>{subcategory}</h3>\n                {categ !== 'kids' && <p><b>Velikost: </b>{selection.clothsize.label}</p>}\n                <p><b>Material: </b>{selection.material.label}</p>\n                <p><b>Stanje: </b>{selection.condition.label}</p>\n                <p><b>Znamka: </b>{selection.brand.value}</p>\n                <p><b>Opis: </b>{selection.descrtext.value}</p>\n                <br/>\n                <p><b>Cena: </b>{selection.price.value} €</p>\n                {(this.props.status === 'active' && this.props.loggedInUserId !== '0') && <button className = 'btnb' onClick = {this.addToCart}>DODAJ V KOŠARICO</button>}\n                <p style = {{fontWeight: 'bold'}}>{this.state.addingResult}</p>\n                <br/>\n                <p>Prodajalec: {this.props.seller} </p>\n                <button>VSI OGLASI TEGA PRODAJALCA</button>\n                {(this.props.loggedInUserId !== '0' && this.props.loggedInUserId !== this.props.sellerId) &&\n                    <p style = {{fontSize: 10}}><button  style = {btnContStyle} onClick = {this.handleMsgRequest}>Kontaktiraj prodajalca</button></p>}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      loggedInUser: state.loggedInUser,\n      loggedInUserId: state.loggedInUserId\n    };\n};\n\nconst mapDispatchToProps = {\n    saveAtt: saveAtt,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps) (ItemDescription);"]},"metadata":{},"sourceType":"module"}
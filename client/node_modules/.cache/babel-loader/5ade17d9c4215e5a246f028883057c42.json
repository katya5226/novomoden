{"ast":null,"code":"import _objectSpread from\"/home/katni/REACT/test-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/katni/REACT/test-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/katni/REACT/test-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/katni/REACT/test-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/katni/REACT/test-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Select from'react-select';import{connect}from'react-redux';import NumberFormat from'react-number-format';import'../../App.css';import*as Constants from'../../constants';import{findIndex}from'../../functions/index';var SelectForms=/*#__PURE__*/function(_React$Component){_inherits(SelectForms,_React$Component);var _super=_createSuper(SelectForms);function SelectForms(props){var _this;_classCallCheck(this,SelectForms);_this=_super.call(this,props);_this.abortController=new AbortController();_this.fillTheForm=function(receivedObject){var receivedValues=Object.values(receivedObject);_this.setState({category:Constants.category[receivedValues[0]],women:Constants.women[receivedValues[1]],men:Constants.men[receivedValues[1]],kids:Constants.kids[receivedValues[1]],clothsize:Constants.clothsize[receivedValues[2]],material:Constants.material[receivedValues[3]],condition:Constants.condition[receivedValues[4]],brand:{value:receivedValues[5],status:true},descrtext:{value:receivedValues[6],status:true},weight:{value:receivedValues[7],status:true},price:{value:receivedValues[8],status:true}});};_this.changeCategory=function(selected){_this.setState({category:selected,women:{value:'',label:'Izberi kategorijo'},men:{value:'',label:'izberi kategorijo'},kids:{value:'',label:'Izberi kategorijo'}},function(){return _this.saveSelection;});};_this.changeWomen=function(selected){_this.setState({women:selected},function(){return _this.saveSelection();});};_this.changeMen=function(selected){_this.setState({men:selected},function(){return _this.saveSelection();});};_this.changeKids=function(selected){_this.setState({kids:selected},function(){return _this.saveSelection();});};_this.changeSize=function(selected){_this.setState({clothsize:selected},function(){return _this.saveSelection();});};_this.changeMaterial=function(selected){_this.setState({material:selected},function(){return _this.saveSelection();});};_this.changeCondition=function(selected){_this.setState({condition:selected},function(){return _this.saveSelection();});};_this.changeBrand=function(event){var value=event.target.value;_this.setState({brand:{value:value,status:true}},function(){return _this.saveSelection();});};_this.changeWeight=function(values){//const {formattedValue, value} = values;\nvar value=values.value;if(value>0&&value<2000){_this.setState({weight:{value:value,status:true}},function(){return _this.saveSelection();});}else{_this.setState({weight:{value:'',status:false}},function(){return _this.saveSelection();});}};_this.changePrice=function(values){//const {formattedValue, value} = values;\nvar value=values.value;if(value>0&&value<2000){_this.setState({price:{value:value,status:true}},function(){return _this.saveSelection();});}else{_this.setState({price:{value:'',status:false}},function(){return _this.saveSelection();});}};_this.changeDescription=function(event){var value=event.target.value;_this.setState({descrtext:{value:value,status:true}},function(){return _this.saveSelection();});};_this.listFurther=function(){var warnWomenStyle={container:function container(provided){return _objectSpread({},provided,{border:_this.state.women.value===''&&_this.props.saveAttempt===true&&'1px solid red',borderRadius:'4px'});}};var warnMenStyle={container:function container(provided){return _objectSpread({},provided,{border:_this.state.men.value===''&&_this.props.saveAttempt===true&&'1px solid red',borderRadius:'4px'});}};var warnKidsStyle={container:function container(provided){return _objectSpread({},provided,{border:_this.state.kids.value===''&&_this.props.saveAttempt===true&&'1px solid red',borderRadius:'4px'});}};switch(_this.state.category.value){case'women':return/*#__PURE__*/React.createElement(Select,{styles:warnWomenStyle,options:Constants.women,value:_this.state.women,name:\"women\",onChange:_this.changeWomen});case'men':return/*#__PURE__*/React.createElement(Select,{styles:warnMenStyle,options:Constants.men,value:_this.state.men,name:\"men\",onChange:_this.changeMen});case'kids':return/*#__PURE__*/React.createElement(Select,{styles:warnKidsStyle,options:Constants.kids,value:_this.state.kids,name:\"kids\",onChange:_this.changeKids});default:return null;}};_this.renderSwitch=function(param){switch(param){case'women':return findIndex(Constants.women,_this.state.women.label);case'men':return findIndex(Constants.men,_this.state.men.label);case'kids':return findIndex(Constants.kids,_this.state.kids.label);default:return'';}};_this.subcategName=function(param){switch(param){case'women':return _this.state.women.label;case'men':return _this.state.men.label;case'kids':return _this.state.kids.label;default:return'';}};_this.saveSelection=function(){var selection={category:findIndex(Constants.category,_this.state.category.label),subcategory:_this.renderSwitch(_this.state.category.value),subcategoryName:_this.subcategName(_this.state.category.value),clothsize:findIndex(Constants.clothsize,_this.state.clothsize.label),material:findIndex(Constants.material,_this.state.material.label),condition:findIndex(Constants.condition,_this.state.condition.label),brand:_this.state.brand.value,descrtext:_this.state.descrtext.value,weight:_this.state.weight.value,price:_this.state.price.value};_this.props.callBackParent(selection);};_this.state={category:{value:'',label:'Izberi kategorijo'},women:{value:'',label:'Izberi kategorijo'},men:{value:'',label:'izberi kategorijo'},kids:{value:'',label:'Izberi kategorijo'},clothsize:{value:'',label:'Izberi velikost'},material:{value:'',label:'Izberi material'},condition:{value:'',label:'Izberi stanje'},brand:{value:'',status:false},descrtext:{value:'',status:false},weight:{value:null,status:false},price:{value:null,status:false}};return _this;}_createClass(SelectForms,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var adId=this.props.adId;if(adId!==''){fetch('/fillform',{signal:this.abortController.signal,method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify({adId:adId})}).then(function(res){return res.json();}).then(function(res){_this2.fillTheForm(res[0]);}).catch(function(e){return console.error(\"Critical failure: \"+e.message);});}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.abortController.abort();}},{key:\"render\",value:function render(){var _this3=this;var warnCategoryStyle={container:function container(provided){return _objectSpread({},provided,{border:_this3.state.category.value===''&&_this3.props.saveAttempt===true&&'1px solid red',borderRadius:'4px'});}};var warnSizeStyle={container:function container(provided){return _objectSpread({},provided,{border:_this3.state.clothsize.value===''&&_this3.props.saveAttempt===true&&'1px solid red',borderRadius:'4px'});}};var warnMaterialStyle={container:function container(provided){return _objectSpread({},provided,{border:_this3.state.material.value===''&&_this3.props.saveAttempt===true&&'1px solid red',borderRadius:'4px'});}};var warnConditionStyle={container:function container(provided){return _objectSpread({},provided,{border:_this3.state.condition.value===''&&_this3.props.saveAttempt===true&&'1px solid red',borderRadius:'4px'});}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(Select,{styles:warnCategoryStyle,options:Constants.category,value:this.state.category,name:\"category\",onChange:this.changeCategory}),/*#__PURE__*/React.createElement(\"br\",null),this.listFurther()),/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},this.state.category.value!=='kids'&&/*#__PURE__*/React.createElement(Select,{styles:warnSizeStyle,options:Constants.clothsize,value:this.state.clothsize,name:\"clothsize\",onChange:this.changeSize}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Select,{styles:warnMaterialStyle,options:Constants.material,value:this.state.material,name:\"material\",onChange:this.changeMaterial}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Select,{styles:warnConditionStyle,options:Constants.condition,value:this.state.condition,name:\"condition\",onChange:this.changeCondition}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"brand\",value:this.state.brand.value,placeholder:\"Znamka obla\\u010Dila (neobvezno)\",maxLength:\"30\",onChange:this.changeBrand}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(NumberFormat,{value:this.state.weight.value,placeholder:\"Masa v gramih\",decimalSeparator:',',allowLeadingZeros:false,allowNegative:false,suffix:' g',isNumericString:true,onValueChange:this.changeWeight,className:!this.state.weight.status&&this.props.saveAttempt===true?\"red\":null}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(NumberFormat,{value:this.state.price.value,placeholder:\"Cena v evrih\",decimalSeparator:',',allowLeadingZeros:false,allowNegative:false,suffix:' €',isNumericString:true,onValueChange:this.changePrice,className:!this.state.price.status&&this.props.saveAttempt===true?\"red\":null})),/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"textarea\",{onChange:this.changeDescription,value:this.state.descrtext.value,placeholder:\"Opis (neobvezno)\",maxLength:\"990\"}))));}}]);return SelectForms;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{saveAttempt:state.saveAttempt};};export default connect(mapStateToProps)(SelectForms);","map":{"version":3,"sources":["/home/katni/REACT/test-app/src/pages/Publish/SelectForms.jsx"],"names":["React","Select","connect","NumberFormat","Constants","findIndex","SelectForms","props","abortController","AbortController","fillTheForm","receivedObject","receivedValues","Object","values","setState","category","women","men","kids","clothsize","material","condition","brand","value","status","descrtext","weight","price","changeCategory","selected","label","saveSelection","changeWomen","changeMen","changeKids","changeSize","changeMaterial","changeCondition","changeBrand","event","target","changeWeight","changePrice","changeDescription","listFurther","warnWomenStyle","container","provided","border","state","saveAttempt","borderRadius","warnMenStyle","warnKidsStyle","renderSwitch","param","subcategName","selection","subcategory","subcategoryName","callBackParent","adId","fetch","signal","method","headers","body","JSON","stringify","then","res","json","catch","e","console","error","message","abort","warnCategoryStyle","warnSizeStyle","warnMaterialStyle","warnConditionStyle","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Select from 'react-select';\nimport { connect } from 'react-redux';\nimport NumberFormat from 'react-number-format';\nimport '../../App.css';\nimport * as Constants from '../../constants';\nimport {findIndex} from '../../functions/index';\n\n\n\nclass SelectForms extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            category: { value: '', label: 'Izberi kategorijo' },\n            women: { value: '', label: 'Izberi kategorijo' },\n            men: { value: '', label: 'izberi kategorijo' },\n            kids: { value: '', label: 'Izberi kategorijo' },\n            clothsize: { value: '', label: 'Izberi velikost' },\n            material: { value: '', label: 'Izberi material' },\n            condition: { value: '', label: 'Izberi stanje' },\n            brand: {value: '', status: false},\n            descrtext: {value: '', status: false},\n            weight: {value: null, status: false},\n            price: {value: null, status: false}\n        };\n    }\n\n    abortController = new AbortController();\n\n    fillTheForm = (receivedObject) => {\n        const receivedValues = Object.values(receivedObject);\n        this.setState({category: Constants.category[receivedValues[0]],\n                        women: Constants.women[receivedValues[1]],\n                        men: Constants.men[receivedValues[1]],\n                        kids: Constants.kids[receivedValues[1]],\n                        clothsize: Constants.clothsize[receivedValues[2]],\n                        material: Constants.material[receivedValues[3]],\n                        condition: Constants.condition[receivedValues[4]],\n                        brand: {value: receivedValues[5], status: true},\n                        descrtext: {value: receivedValues[6], status: true},\n                        weight: {value: receivedValues[7], status: true},\n                        price: {value: receivedValues[8], status: true}});\n    }\n\n    componentDidMount() {\n        const adId = this.props.adId;\n        if(adId !== '') {\n            fetch('/fillform', {\n                signal: this.abortController.signal,\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json'\n                },\n                body: JSON.stringify({adId: adId})\n            }).then(res => res.json())\n                .then(res => {this.fillTheForm(res[0])})\n                .catch(e => console.error(\"Critical failure: \" + e.message));\n        }\n    }\n\n    componentWillUnmount() {\n        this.abortController.abort();\n    }\n   \n    changeCategory = selected => {\n        this.setState({category: selected,\n                        women: { value: '', label: 'Izberi kategorijo' },\n                        men: { value: '', label: 'izberi kategorijo' },\n                        kids: { value: '', label: 'Izberi kategorijo' }},\n                        () => this.saveSelection);\n    }\n    changeWomen = selected => {\n        this.setState({women: selected}, () => this.saveSelection());\n    }\n    changeMen = selected => {\n        this.setState({men: selected}, () => this.saveSelection());\n    }\n    changeKids = selected => {\n        this.setState({kids: selected}, () => this.saveSelection());\n    }\n    changeSize = selected => {\n        this.setState({clothsize: selected}, () => this.saveSelection());\n    }\n    changeMaterial = selected => {\n        this.setState({material: selected}, () => this.saveSelection());\n    }\n    changeCondition = selected => {\n        this.setState({condition: selected}, () => this.saveSelection());\n    }\n    changeBrand = (event) => {\n        const {value} = event.target;\n        this.setState({brand: {value: value, status: true}}, () => this.saveSelection());\n    }\n\n    changeWeight = (values) => {\n        //const {formattedValue, value} = values;\n        const {value} = values;\n        if(value>0 && value<2000) {\n            this.setState({weight: {value: value, status: true}}, () => this.saveSelection());\n        }else {\n            this.setState({weight: {value: '', status: false}}, () => this.saveSelection());\n        }\n    }\n\n    changePrice = (values) => {\n        //const {formattedValue, value} = values;\n        const {value} = values;\n        if(value>0 && value<2000) {\n            this.setState({price: {value: value, status: true}}, () => this.saveSelection());\n        }else {\n            this.setState({price: {value: '', status: false}}, () => this.saveSelection());\n        }  \n    }\n\n    changeDescription = (event) => {\n        const {value} = event.target;\n        this.setState({descrtext: {value: value, status: true}}, () => this.saveSelection());\n    }\n\n\n    listFurther = () => {\n\n        const warnWomenStyle = {\n            container: (provided) => ({\n              ...provided,\n              border: (this.state.women.value==='' && this.props.saveAttempt===true) && '1px solid red',\n              borderRadius: '4px'\n            })\n        }\n        const warnMenStyle = {\n            container: (provided) => ({\n              ...provided,\n              border: (this.state.men.value==='' && this.props.saveAttempt===true) && '1px solid red',\n              borderRadius: '4px'\n            })\n        }\n        const warnKidsStyle = {\n            container: (provided) => ({\n              ...provided,\n              border: (this.state.kids.value==='' && this.props.saveAttempt===true) && '1px solid red',\n              borderRadius: '4px'\n            })\n        }\n\n        switch(this.state.category.value) {\n            case 'women':\n                return <Select styles={warnWomenStyle} options={Constants.women} value={this.state.women} name='women' onChange={this.changeWomen}/>\n            case 'men':\n                    return  <Select styles={warnMenStyle} options={Constants.men} value={this.state.men} name='men' onChange={this.changeMen}/>\n            case 'kids':\n                return  <Select styles={warnKidsStyle} options={Constants.kids} value={this.state.kids} name='kids' onChange={this.changeKids}/>\n            default:\n                return null;\n        }\n    }\n\n    render() {\n\n        const warnCategoryStyle = {\n            container: (provided) => ({\n              ...provided,\n              border: (this.state.category.value==='' && this.props.saveAttempt===true) && '1px solid red',\n              borderRadius: '4px'\n            })\n        }\n        const warnSizeStyle = {\n            container: (provided) => ({\n              ...provided,\n              border: (this.state.clothsize.value==='' && this.props.saveAttempt===true) && '1px solid red',\n              borderRadius: '4px'\n            })\n        }\n        const warnMaterialStyle = {\n            container: (provided) => ({\n              ...provided,\n              border: (this.state.material.value==='' && this.props.saveAttempt===true) && '1px solid red',\n              borderRadius: '4px'\n            })\n        }\n        const warnConditionStyle = {\n            container: (provided) => ({\n              ...provided,\n              border: (this.state.condition.value==='' && this.props.saveAttempt===true) && '1px solid red',\n              borderRadius: '4px'\n            })\n        }\n    \n\n        return (\n            <>\n                <div className=\"row\">\n                    <div className=\"column\">\n                        <Select\n                            styles={warnCategoryStyle}\n                            options={Constants.category}\n                            value={this.state.category}\n                            name='category'\n                            onChange={this.changeCategory}/>\n                        <br/>\n                        {this.listFurther()}\n                    </div>\n                    <div className=\"column\">\n                        {this.state.category.value !== 'kids' && \n                        <Select\n                            styles={warnSizeStyle}\n                            options={Constants.clothsize}\n                            value={this.state.clothsize}\n                            name='clothsize'\n                            onChange={this.changeSize}/>}\n                        <br/>\n                        <Select\n                            styles={warnMaterialStyle}\n                            options={Constants.material}\n                            value={this.state.material}\n                            name='material'\n                            onChange={this.changeMaterial}/>\n                        <br/>\n                        <Select\n                            styles={warnConditionStyle}\n                            options={Constants.condition}\n                            value={this.state.condition}\n                            name='condition'\n                            onChange={this.changeCondition}/>\n                        <br/>\n                        <input\n                            type=\"text\"\n                            name='brand'\n                            value={this.state.brand.value}\n                            placeholder='Znamka oblačila (neobvezno)'\n                            maxLength=\"30\" onChange={this.changeBrand}/>\n                        <br/><br/>\n                        <NumberFormat\n                            value={this.state.weight.value}\n                            placeholder=\"Masa v gramih\"\n                            decimalSeparator={','}\n                            allowLeadingZeros={false}\n                            allowNegative={false}\n                            suffix={' g'}\n                            isNumericString={true}\n                            onValueChange={this.changeWeight}\n                            className ={(!this.state.weight.status && this.props.saveAttempt===true)  ? \"red\" : null}/>\n                        <br/><br/>\n                        <NumberFormat\n                            value={this.state.price.value}\n                            placeholder=\"Cena v evrih\"\n                            decimalSeparator={','}\n                            allowLeadingZeros={false}\n                            allowNegative={false}\n                            suffix={' €'}\n                            isNumericString={true}\n                            onValueChange={this.changePrice}\n                            className ={(!this.state.price.status && this.props.saveAttempt===true) ? \"red\" : null}/>\n                    </div>\n                    <div className=\"column\">\n                        <textarea\n                            onChange={this.changeDescription}\n                            value={this.state.descrtext.value}\n                            placeholder=\"Opis (neobvezno)\"\n                            maxLength=\"990\">\n                        </textarea>\n                    </div>\n                </div>\n            </>\n        );\n\n    }\n\n    renderSwitch = (param) => {\n        switch(param) {\n            case 'women':\n                return findIndex(Constants.women, this.state.women.label);\n            case 'men':\n                return findIndex(Constants.men, this.state.men.label);\n            case 'kids':\n                return findIndex(Constants.kids, this.state.kids.label);\n            default:\n                return '';\n        }\n    }\n\n    subcategName = (param) => {\n        switch(param) {\n            case 'women':\n                return this.state.women.label;\n            case 'men':\n                return this.state.men.label;\n            case 'kids':\n                return this.state.kids.label;\n            default:\n                return '';\n        }\n    }\n\n    saveSelection = () => {\n        const selection = {\n            category: findIndex(Constants.category, this.state.category.label),\n            subcategory: this.renderSwitch(this.state.category.value),\n            subcategoryName: this.subcategName(this.state.category.value),\n            clothsize: findIndex(Constants.clothsize, this.state.clothsize.label),\n            material: findIndex(Constants.material, this.state.material.label),\n            condition: findIndex(Constants.condition, this.state.condition.label),\n            brand: this.state.brand.value,\n            descrtext: this.state.descrtext.value,\n            weight: this.state.weight.value,\n            price: this.state.price.value\n        }\n        this.props.callBackParent(selection);\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n      saveAttempt: state.saveAttempt\n    };\n};\n\n\nexport default connect(mapStateToProps) (SelectForms);\n"]},"metadata":{},"sourceType":"module"}